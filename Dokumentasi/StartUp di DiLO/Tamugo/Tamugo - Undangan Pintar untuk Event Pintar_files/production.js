function ImageUploader(a){this.oldImage,this.bar,this.percent,this.inputIDReciever,this.modalName=a,this.model,this.modelID,this.contain,this.autoHide,this.cancel=function(){$("#"+this.inputIDReciever).val(this.oldImage),$("#choose_"+this.modalName).val(""),$("#imageContainer_"+this.modalName).css("background-image","url("+this.oldImage+")"),$("#fileName_"+this.modalName).html("<small></small>"),$("#fileSize_"+this.modalName).html("<small></small>"),$("#percent_"+this.modalName).html("<small></small>"),$("#meter_"+this.modalName).width("0%"),$("#controls_"+a).hide()},this.updateModelImage=function(a){if(this.modelID&&"undefined"!=this.modelID){var b="/"+this.model+"/"+this.modelID;$.ajax({type:"put",url:b,data:{urlGambar:a}}).done(function(b){this.oldImage=a,b.username&&$.ajax({type:"post",url:"/refreshSessionUser"})}),"user"==this.model&&$.ajax({type:"POST",url:"/user/changePicture",data:{url:a,id:this.modelID}}).done(function(a){}),$("#txtURLGambar").val(a)}else this.modelID&&"undefined"==this.modelID&&($("#txtURLGambar").val(a),this.oldImage=a);_.isUndefined(this.inputIDReciever)||$("#"+this.inputIDReciever).val(url)},this.readImage=function(a){var b=new FileReader,c=new Image,d=this;b.readAsDataURL(a),b.onload=function(b){c.src=b.target.result,c.onload=function(){var b=this.width,c=this.height,e=(a.type,a.name),f=~~(a.size/1024)+"KB";$("#imageContainer_"+d.modalName).css("background-image","url("+this.src+")"),$("#fileName_"+d.modalName).html("<small>"+e+"</small>"),$("#fileSize_"+d.modalName).html("<small>"+f+"</small>"),$("#percent_"+d.modalName).html("<small>"+b+" x "+c+" px</small>")},c.onerror=function(){alert("Invalid file type: "+a.type)}}},this.addClass=function(a,b){$("#"+a+"_"+this.modalName).addClass(b)},this.init=function(){var b=window.JST["assets/templates/imageUploaderTemplate.html"]({uploadFormID:"uploadForm_"+this.modalName,imageContainerID:"imageContainer_"+this.modalName,chooseID:"choose_"+this.modalName,controlsID:"controls_"+this.modalName,uploadBID:"uploadB_"+this.modalName,cancelBID:"cancelB_"+this.modalName,fileNameID:"fileName_"+this.modalName,fileSizeID:"fileSize_"+this.modalName,percentID:"percent_"+this.modalName,meterID:"meter_"+this.modalName});this.bar=$("#meter_"+this.modalName),this.percent=$("#percent_"+this.modalName),this.inputIDReciever=$("#"+this.modalName).attr("data-inputIDReciever"),this.oldImage=$("#"+this.modalName).attr("data-urlGambar"),this.modelID=$("#"+this.modalName).attr("data-modelID"),this.model=$("#"+this.modalName).attr("data-model"),this.autoHide=$("#"+this.modalName).attr("data-autoHide"),this.contain=$("#"+this.modalName).attr("data-contain"),$("#"+this.modalName).html(b),$("#imageContainer_"+this.modalName).css("background-image","url("+this.oldImage+")"),$("#controls_"+this.modalName).hide(),_.isUndefined(this.contain)||$("#imageContainer_"+this.modalName).addClass("imageUploaderContain"),$("#cancelB_"+this.modalName).on("click",this,function(a){a.data.cancel()}),$("#choose_"+this.modalName).on("change",this,function(a){if(a.currentTarget.disabled)return alert("Sorry, Your browser does not support File upload!");var b=a.currentTarget.files;if(b&&b[0])for(var c=0;c<b.length;c++)a.data.readImage(b[c]);$("#controls_"+a.data.modalName).show()}),$("#uploadForm_"+this.modalName).ajaxForm({scope:this,beforeSend:function(){var a="0%";$(this.scope.bar.selector).width(a),$(this.scope.percent.selector).html(a)},uploadProgress:function(a,b,c,d){var e=d+"%";$(this.scope.bar.selector).width(e),$(this.scope.percent.selector).html("<h4>"+e+"</h4>")},success:function(a,b,c,d){$(this.scope.bar.selector).width("100%"),$(this.scope.percent.selector).html("<h4> ..tunggu..</h4>")},complete:function(b){$(this.scope.percent.selector).html("<i class='fi-check' style='color: forestgreen;'></i>");var c=b.responseJSON.files;_.isUndefined(this.scope.autoHide)||$("#controls_"+a).delay(1e3).slideUp(500),this.scope.updateModelImage(c[0].url)}})}}function tampilinInfoText(a,b){"alert"==b?$("#infoText").removeClass("success").addClass("alert"):"success"==b?$("#infoText").removeClass("alert").addClass("success"):$("#infoText").removeClass("alert success"),$("#GeneralInfoBox").slideDown(),$("#infoText").html(a),$("#GeneralInfoBox").delay(5e3).slideUp(700)}function Slidizle(a,b){this.settings={classes:{content:"slidizle-content",next:"slidizle-next",previous:"slidizle-previous",beforeActive:"before-active",afterActive:"after-active",nextActive:"next",previousActive:"previous",forward:"forward",backward:"backward",navigation:"slidizle-navigation",timer:"slidizle-timer",slide:"slidizle-slide",disabled:"disabled",first:"first",last:"last",play:"played",pause:"paused",stop:"stoped",slider:"slidizle",active:"active",loading:"loading"},timeout:null,pauseOnHover:!1,nextOnClick:!1,loop:!1,autoPlay:!0,keyboardEnabled:!0,touchEnabled:!0,loadBeforeTransition:!0,disabled:!1,onInit:null,onClick:null,beforeChange:null,onChange:null,afterChange:null,beforeLoading:null,onLoading:null,afterLoading:null,onNext:null,onPrevious:null,onPlay:null,onPause:null,onResume:null},this.$refs={slider:null,content:null,medias:null,nextSlide:null,previousSlide:null,currentSlide:null,beforeActiveSlides:null,afterActiveSlides:null,navigation:null,next:null,previous:null,current:null,timer:null},this.loadingProgress=0,this.current_timeout_time=0,this._internalTimer=null,this.timeout=null,this.previous_index=0,this.current_index=0,this.next_index=0,this._previous_active_index=0,this._isPlaying=!1,this._isPause=!1,this._isOver=!1,this.total=0,this.$this=$(a),this.clickEvent=navigator.userAgent.match(/mobile/gi)?"touchend":"click",this.init($(a),b)}function startPrivateConversation(){var a=$("#users-list");if(null===a.val())return alert("Please select a user to send a private message to.");var b=$("option:selected",a).text(),c=a.val(),d=prompt("Enter a message to send to "+b);createPrivateConversationRoom({name:b,id:c}),addMessageToConversation(window.me.id,c,d),io.socket.post("/chat/private",{to:c,msg:d})}function createPrivateConversationRoom(a){var b="private-room-"+a.id;if(!$("#"+b).length){var c="unknown"==a.name?"User #"+a.id:a.name,d=$('<div id="'+b+'"></div>'),e='<h2>Private conversation with <span id="private-username-'+a.id+'">'+c+'</span></h2>\n<div id="private-messages-'+a.id+'" style="width: 50%; height: 150px; overflow: auto; border: solid 1px #666; padding: 5px; margin: 5px"></div><input id="private-message-'+a.id+'"/> <button id="private-button-'+a.id+'">Send message</button">';d.html(e),$("#convos").append(d),$("#private-button-"+a.id).click(onClickSendPrivateMessage)}}function onClickSendPrivateMessage(a){var b=a.currentTarget,c=b.id.split("-")[2],d=$("#private-message-"+c).val();$("#private-message-"+c).val(""),addMessageToConversation(window.me.id,c,d),io.socket.post("/chat/private",{to:c,msg:d})}function addMessageToConversation(a,b,c){var d=a==window.me.id,e="private-messages-"+(d?b:a),f=d?"Me":$("#private-username-"+a).html(),g=d?"right":"left",h=$('<div style="text-align:'+g+'"></div>');h.html("<strong>"+f+"</strong>: "+c),$("#"+e).append(h)}function receivePrivateMessage(a){var b=a.from;createPrivateConversationRoom(b),addMessageToConversation(b.id,window.me.id,a.msg)}function createPublicRoom(a){var b="public-room-"+a.id;if(!$("#"+b).length){var c=$('<div id="'+b+'"></div>'),d="<h2>Chat room &ldquo;"+a.name+'&rdquo; <button id="leave-room-button-'+a.id+'">Leave Room</button></h2>\n<div id="room-messages-'+a.id+'" style="width: 50%; height: 150px; overflow: auto; border: solid 1px #666; padding: 5px; margin: 5px"></div><input id="room-message-'+a.id+'"/> <button id="room-button-'+a.id+'">Send message</button">';c.html(d),$("#rooms").append(c),$("#room-button-"+a.id).click(onClickSendPublicMessage),$("#leave-room-button-"+a.id).click(onClickLeaveRoom)}}function onClickSendPublicMessage(a){var b=a.currentTarget,c=b.id.split("-")[2],d=$("#room-message-"+c).val();$("#room-message-"+c).val(""),addMessageToChatRoom(window.me.id,c,d),io.socket.post("/chat/public",{room:c,msg:d})}function addMessageToChatRoom(a,b,c){var d="room-messages-"+b;if(0===a)return postStatusMessage(d,c);var e=a==window.me.id,f=e?"Me":$("#user-"+a).text(),g=e?"right":"left",h=$('<div style="text-align:'+g+'"></div>');h.html("<strong>"+f+"</strong>: "+c),$("#"+d).append(h)}function receiveRoomMessage(a){var b=a.from,c=a.room;createPublicRoom(c),addMessageToChatRoom(b.id,c.id,a.msg)}function joinRoom(){var a=$("#rooms-list");if(null===a.val())return alert("Please select a room to join.");var b=$("option:selected",a).attr("data-name"),c=a.val();createPublicRoom({id:c,name:b}),io.socket.post("/room/"+c+"/users",{id:window.me.id}),increaseRoomCount(c)}function onClickLeaveRoom(a){var b=a.currentTarget,c=b.id.split("-")[3];$("#public-room-"+c).remove(),io.socket.delete("/room/"+c+"/users",{id:window.me.id}),decreaseRoomCount(c)}function newRoom(){var a=prompt("Please enter a name for the new room");a&&io.socket.post("/room",{name:a},function(a){addRoom(a),$("#rooms-list").val(a.id),createPublicRoom({id:a.id,name:a.name}),io.socket.post("/room/"+a.id+"/users",{id:window.me.id}),increaseRoomCount(a.id)})}function addRoom(a){var b=$("#rooms-list"),c=a.users||[],d=c.length,e=$('<option id="room-'+a.id+'" data-name="'+a.name+'" data-users="'+d+'" value="'+a.id+'">'+a.name+" ("+d+")</option>");b.append(e)}function increaseRoomCount(a){var b=$("#room-"+a),c=parseInt(b.attr("data-users"),10);c++,b.attr("data-users",c),b.html(b.attr("data-name")+" ("+c+")")}function decreaseRoomCount(a){var b=$("#room-"+a),c=parseInt(b.attr("data-users"),10);c--,b.attr("data-users",c),b.html(b.attr("data-name")+" ("+c+")")}function removeRoom(a){var b=a.id||a;$("#room-"+b).remove()}function updateRoomList(a){a.forEach(function(a){addRoom(a)})}function updateMyName(a){$("#my-name").val("unknown"==a.name?"User #"+a.id:a.name)}function updateName(){io.socket.put("/user/"+window.me.id,{name:$("#my-name").val()})}function addUser(a){var b=$("#users-list"),c=$('<option id="user-'+a.id+'" value="'+a.id+'">'+("unknown"==a.name?"User #"+a.id:a.name)+"</option>");b.append(c)}function removeUser(a){var b=a.id||a,c=$("#user-"+b).text(),d=$("#user-"+b).remove();d.css("display","none"),$("body").append(d),$("#private-room-"+b).length&&(postStatusMessage("private-messages-"+b,c+" has disconnected."),$("#private-message-"+b).remove(),$("#private-button-"+b).remove())}function updateUserList(a){a.forEach(function(a){a.id!=me.id&&addUser(a)})}function postStatusMessage(a,b){var c=$('<div style="text-align: center">----- '+b+" -----</div>");$("#"+a).append(c)}(function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}(function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')})(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&void 0!==c.body&&FastClick.attach(c.body)});var f=function(b,d){if("string"==typeof b){if(d){var e;if(d.jquery){if(!(e=d[0]))return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,d)},g=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},h=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},i=function(b,c){var d=this,e=!f(this).data(this.attr_name(!0));if(f(this.scope).is("["+this.attr_name()+"]")?(f(this.scope).data(this.attr_name(!0)+"-init",a.extend({},this.settings,c||b,this.data_options(f(this.scope)))),e&&this.events(this.scope)):f("["+this.attr_name()+"]",this.scope).each(function(){var e=!f(this).data(d.attr_name(!0)+"-init");f(this).data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(f(this)))),e&&d.events(this)}),"string"==typeof b)return this[b].call(this,c)},j=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}if(!a.attr("src"))return void c();a[0].complete||4===a[0].readyState?c():d.call(a)};b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),function(a){function c(){d&&(g(c),i&&jQuery.fx.tick())}for(var d,e=0,f=["webkit","moz"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i=void 0!==jQuery.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&!d&&(d=!0,c())},jQuery.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(jQuery),b.Foundation={name:"Foundation",version:"5.3.1",media_queries:{small:f(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:f(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:f(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:f(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:f(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,b,c,d,e){var g=[a,c,d,e],h=[];if(this.rtl=/rtl/i.test(f("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),b&&"string"==typeof b&&!/reflow/i.test(b))this.libs.hasOwnProperty(b)&&h.push(this.init_lib(b,g));else for(var i in this.libs)h.push(this.init_lib(i,b));return a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?(void 0!==this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):void 0!==this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=g,a.add_namespace=h,a.bindings=i,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=this.global.namespace===d?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{S:f,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a&&!0!==a}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return b.length>0?a.data(b+"-"+c):a.data(c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(-1===g[1].indexOf(".")?g[1]=parseInt(g[1],10):g[1]=parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Foundation.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Foundation.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{Foundation.media_queries[b]!==d&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }")}},image_loaded:function(a,b){var c=this,d=a.length;0===d&&b(a),a.each(function(){j(c.S(this),function(){0===(d-=1)&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}})(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.slider={name:"slider",version:"5.3.3",settings:{start:0,end:100,step:1,initial:null,display_selector:"",vertical:!1,on_change:function(){}},cache:{},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c),this.reflow()},events:function(){var c=this;a(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+c.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(b){c.cache.active||(b.preventDefault(),c.set_active_slider(a(b.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(d){if(c.cache.active)if(d.preventDefault(),a.data(c.cache.active[0],"settings").vertical){var e=0;d.pageY||(e=b.scrollY),c.calculate_position(c.cache.active,(d.pageY||d.originalEvent.clientY||d.originalEvent.touches[0].clientY||d.currentPoint.y)+e)}else c.calculate_position(c.cache.active,d.pageX||d.originalEvent.clientX||d.originalEvent.touches[0].clientX||d.currentPoint.x)}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(a){c.remove_active_slider()}).on("change.fndtn.slider",function(a){c.settings.on_change()}),c.S(b).on("resize.fndtn.slider",c.throttle(function(a){c.reflow()},300))},set_active_slider:function(a){this.cache.active=a},remove_active_slider:function(){this.cache.active=null},calculate_position:function(b,c){var d=this,e=a.data(b[0],"settings"),f=(a.data(b[0],"handle_l"),a.data(b[0],"handle_o"),a.data(b[0],"bar_l")),g=a.data(b[0],"bar_o");requestAnimationFrame(function(){var a;a=Foundation.rtl&&!e.vertical?d.limit_to((g+f-c)/f,0,1):d.limit_to((c-g)/f,0,1),a=e.vertical?1-a:a;var h=d.normalized_value(a,e.start,e.end,e.step);d.set_ui(b,h)})},set_ui:function(b,c){var d=a.data(b[0],"settings"),e=a.data(b[0],"handle_l"),f=a.data(b[0],"bar_l"),g=this.normalized_percentage(c,d.start,d.end),h=g*(f-e)-1,i=100*g;Foundation.rtl&&!d.vertical&&(h=-h),h=d.vertical?-h+f-e+1:h,this.set_translate(b,h,d.vertical),d.vertical?b.siblings(".range-slider-active-segment").css("height",i+"%"):b.siblings(".range-slider-active-segment").css("width",i+"%"),b.parent().attr(this.attr_name(),c).trigger("change").trigger("change.fndtn.slider"),b.parent().children("input[type=hidden]").val(c),""!=d.input_id&&a(d.display_selector).each(function(){this.hasOwnProperty("value")?a(this).val(c):a(this).text(c)})},normalized_percentage:function(a,b,c){return(a-b)/(c-b)},normalized_value:function(a,b,c,d){var e=c-b,f=a*e;return(f-f%d)/d*d+(f%d>=.5*d?d:0)+b},set_translate:function(b,c,d){d?a(b).css("-webkit-transform","translateY("+c+"px)").css("-moz-transform","translateY("+c+"px)").css("-ms-transform","translateY("+c+"px)").css("-o-transform","translateY("+c+"px)").css("transform","translateY("+c+"px)"):a(b).css("-webkit-transform","translateX("+c+"px)").css("-moz-transform","translateX("+c+"px)").css("-ms-transform","translateX("+c+"px)").css("-o-transform","translateX("+c+"px)").css("transform","translateX("+c+"px)")},limit_to:function(a,b,c){return Math.min(Math.max(a,b),c)},initialize_settings:function(b){var c=a.extend({},this.settings,this.data_options(a(b).parent()));c.vertical?(a.data(b,"bar_o",a(b).parent().offset().top),a.data(b,"bar_l",a(b).parent().outerHeight()),a.data(b,"handle_o",a(b).offset().top),a.data(b,"handle_l",a(b).outerHeight())):(a.data(b,"bar_o",a(b).parent().offset().left),a.data(b,"bar_l",a(b).parent().outerWidth()),a.data(b,"handle_o",a(b).offset().left),a.data(b,"handle_l",a(b).outerWidth())),a.data(b,"bar",a(b).parent()),a.data(b,"settings",c)},set_initial_position:function(b){var c=a.data(b.children(".range-slider-handle")[0],"settings"),d=c.initial?c.initial:Math.floor(.5*(c.end-c.start)/c.step)*c.step+c.start,e=b.children(".range-slider-handle");this.set_ui(e,d)},set_value:function(b){var c=this;a("["+c.attr_name()+"]",this.scope).each(function(){a(this).attr(c.attr_name(),b)}),!a(this.scope).attr(c.attr_name())||a(this.scope).attr(c.attr_name(),b),c.reflow()},reflow:function(){var b=this;b.S("["+this.attr_name()+"]").each(function(){var c=a(this).children(".range-slider-handle")[0],d=a(this).attr(b.attr_name());b.initialize_settings(c),d?b.set_ui(a(c),parseFloat(d)):b.set_initial_position(a(this))})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";var e=e||!1;Foundation.libs.joyride={name:"joyride",version:"5.3.3",defaults:{expose:!1,modal:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||a.extend({},this.defaults,d||c),this.bindings(c,d)},events:function(){var c=this;a(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(a){a.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(a){a.preventDefault(),this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(a){a.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)),a(b).off(".joyride").on("resize.fndtn.joyride",c.throttle(function(){if(a("["+c.attr_name()+"]").length>0&&c.settings.$next_tip){if(c.settings.exposed.length>0){a(c.settings.exposed).each(function(){var b=a(this);c.un_expose(b),c.expose(b)})}c.is_phone()?c.pos_phone():c.pos_default(!1)}},100))},start:function(){var b=this,c=a("["+this.attr_name()+"]",this.scope),d=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],e=d.length;!c.length>0||(this.settings.init||this.events(),this.settings=c.data(this.attr_name(!0)+"-init"),this.settings.$content_el=c,this.settings.$body=a(this.settings.tip_container),this.settings.body_offset=a(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,"function"!=typeof a.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!a.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(c){var f=a(this);this.settings=a.extend({},b.defaults,b.data_options(f));for(var g=e;g--;)b.settings[d[g]]=parseInt(b.settings[d[g]],10);b.create({$li:f,index:c})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(b){var c,d;return b.tip_class=b.tip_class||"",c=a(this.settings.template.tip).addClass(b.tip_class),d=a.trim(a(b.li).html())+this.prev_button_text(b.prev_button_text,b.index)+this.button_text(b.button_text)+this.settings.template.link+this.timer_instance(b.index),c.append(a(this.settings.template.wrapper)),c.first().attr(this.add_namespace("data-index"),b.index),a(".joyride-content-wrapper",c).append(d),c[0]},timer_instance:function(b){return 0===b&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":a(this.settings.template.timer)[0].outerHTML},button_text:function(b){return this.settings.tip_settings.next_button?(b=a.trim(b)||"Next",b=a(this.settings.template.button).append(b)[0].outerHTML):b="",b},prev_button_text:function(b,c){return this.settings.tip_settings.prev_button?(b=a.trim(b)||"Previous",b=0==c?a(this.settings.template.prev_button).append(b).addClass("disabled")[0].outerHTML:a(this.settings.template.prev_button).append(b)[0].outerHTML):b="",b},create:function(b){this.settings.tip_settings=a.extend({},this.settings,this.data_options(b.$li));var c=b.$li.attr(this.add_namespace("data-button"))||b.$li.attr(this.add_namespace("data-text")),d=b.$li.attr(this.add_namespace("data-button-prev"))||b.$li.attr(this.add_namespace("data-prev-text")),e=b.$li.attr("class"),f=a(this.tip_template({tip_class:e,index:b.index,button_text:c,prev_button_text:d,li:b.$li}));a(this.settings.tip_container).append(f)},show:function(b,c){var e=null;this.settings.$li===d||-1===a.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(b,c),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(b&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=a.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),e=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(e.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(e.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||a(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(a.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(a,b){a?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=b?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=a(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var b=this.settings.$li.attr(this.add_namespace("data-class")),d=this.settings.$li.attr(this.add_namespace("data-id")),e=function(){return d?a(c.getElementById(d)):b?a("."+b).first():a("body")};this.settings.$target=e()},scroll_to:function(){var c,d;c=a(b).height()/2,0!=(d=Math.ceil(this.settings.$target.offset().top-c+this.settings.$next_tip.outerHeight()))&&a("html, body").stop().animate({scrollTop:d},this.settings.scroll_speed,"swing")},paused:function(){return-1===a.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=d,this.show("init")},pos_default:function(a){var b=this.settings.$next_tip.find(".joyride-nub"),c=Math.ceil(b.outerWidth()/2),d=Math.ceil(b.outerHeight()/2),e=a||!1;if(e&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(b);else{var f=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,g=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+g}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(b.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(b){var c=this.settings.$next_tip.outerHeight(),d=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),e=a(".joyride-nub",this.settings.$next_tip),f=Math.ceil(e.outerHeight()/2),g=b||!1;e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),g&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(e):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-c-f}),e.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+d+f}),e.addClass("top")),g&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(a){this.center(),a.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var b=a(".joyride-modal-bg");b.length<1&&a("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?b.show():b.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var c,d,e,f,g,h="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof a)e=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;e=this.settings.$target}if(e.length<1)return b.console&&console.error("element not valid",e),!1;c=a(this.settings.template.expose),this.settings.$body.append(c),c.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),d=a(this.settings.template.expose_cover),f={zIndex:e.css("z-index"),position:e.css("position")},g=null==e.attr("class")?"":e.attr("class"),e.css("z-index",parseInt(c.css("z-index"))+1),"static"==f.position&&e.css("position","relative"),e.data("expose-css",f),e.data("orig-class",g),e.attr("class",g+" "+this.settings.expose_add_class),d.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(d),c.addClass(h),d.addClass(h),e.data("expose",h),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,e),this.add_exposed(e)},un_expose:function(){var c,d,e,f,g,h=!1;if(arguments.length>0&&arguments[0]instanceof a)d=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;d=this.settings.$target}if(d.length<1)return b.console&&console.error("element not valid",d),!1;c=d.data("expose"),e=a("."+c),arguments.length>1&&(h=arguments[1]),!0===h?a(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove(),f=d.data("expose-css"),"auto"==f.zIndex?d.css("z-index",""):d.css("z-index",f.zIndex),f.position!=d.css("position")&&("static"==f.position?d.css("position",""):d.css("position",f.position)),g=d.data("orig-class"),d.attr("class",g),d.removeData("orig-classes"),d.removeData("expose"),d.removeData("expose-z-index"),this.remove_exposed(d)},add_exposed:function(b){this.settings.exposed=this.settings.exposed||[],b instanceof a||"object"==typeof b?this.settings.exposed.push(b[0]):"string"==typeof b&&this.settings.exposed.push(b)},remove_exposed:function(b){var c,d;for(b instanceof a?c=b[0]:"string"==typeof b&&(c=b),this.settings.exposed=this.settings.exposed||[],d=this.settings.exposed.length;d--;)if(this.settings.exposed[d]==c)return void this.settings.exposed.splice(d,1)},center:function(){var c=a(b);return this.settings.$next_tip.css({top:(c.height()-this.settings.$next_tip.outerHeight())/2+c.scrollTop(),left:(c.width()-this.settings.$next_tip.outerWidth())/2+c.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(c){var d=a(b),e=d.height()/2,f=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight()),g=d.width()+d.scrollLeft(),h=d.height()+f,i=d.height()+d.scrollTop(),j=d.scrollTop();return f<j&&(j=f<0?0:f),h>i&&(i=h),[c.offset().top<j,g<c.offset().left+c.outerWidth(),i<c.offset().top+c.outerHeight(),d.scrollLeft()>c.offset().left]},visible:function(a){for(var b=a.length;b--;)if(a[b])return!1;return!0},nub_position:function(a,b,c){"auto"===b?a.addClass(c):a.addClass(b)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(b){this.settings.cookie_monster&&a.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),a(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),void 0!==b&&!1!==b||(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),a(".joyride-tip-guide").remove()},off:function(){a(this.scope).off(".joyride"),a(b).off(".joyride"),a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),a(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.3.3",settings:{use_tallest:!0,before_height_change:a.noop,after_height_change:a.noop,equalize_on_stack:!1},init:function(a,b,c){Foundation.inherit(this,"image_loaded"),this.bindings(b,c),this.reflow()},events:function(){this.S(b).off(".equalizer").on("resize.fndtn.equalizer",function(a){this.reflow()}.bind(this))},equalize:function(b){var c=!1,d=b.find("["+this.attr_name()+"-watch]:visible"),e=b.data(this.attr_name(!0)+"-init");if(0!==d.length){var f=d.first().offset().top;if(e.before_height_change(),b.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),d.height("inherit"),d.each(function(){a(this).offset().top!==f&&(c=!0)}),!1!==e.equalize_on_stack||!c){var g=d.map(function(){return a(this).outerHeight(!1)}).get();if(e.use_tallest){var h=Math.max.apply(null,g);d.css("height",h)}else{var i=Math.min.apply(null,g);d.css("height",i)}e.after_height_change(),b.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var b=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var c=a(this);b.image_loaded(b.S("img",this),function(){b.equalize(c)})})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.3.3",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c)},events:function(c){var d=this,e=d.S;e(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(b){(e(this).data(d.attr_name(!0)+"-init")||d.settings).is_hover&&!Modernizr.touch||(b.preventDefault(),d.toggle(a(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c,f=e(this);clearTimeout(d.timeout),f.data(d.data_attr())?(b=e("#"+f.data(d.data_attr())),c=f):(b=f,c=e("["+d.attr_name()+"='"+b.attr("id")+"']"));var g=c.data(d.attr_name(!0)+"-init")||d.settings;e(a.target).data(d.data_attr())&&g.is_hover&&d.closeall.call(d),g.is_hover&&d.open.apply(d,[b,c])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b=e(this);d.timeout=setTimeout(function(){if(b.data(d.data_attr())){var a=b.data(d.data_attr(!0)+"-init")||d.settings;a.is_hover&&d.close.call(d,e("#"+b.data(d.data_attr())))}else{var c=e("["+d.attr_name()+'="'+e(this).attr("id")+'"]'),a=c.data(d.attr_name(!0)+"-init")||d.settings;a.is_hover&&d.close.call(d,b)}}.bind(this),150)}).on("click.fndtn.dropdown",function(b){var c=e(b.target).closest("["+d.attr_name()+"-content]");if(!(e(b.target).closest("["+d.attr_name()+"]").length>0))return!e(b.target).data("revealId")&&c.length>0&&(e(b.target).is("["+d.attr_name()+"-content]")||a.contains(c.first()[0],b.target))?void b.stopPropagation():void d.close.call(d,e("["+d.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+d.attr_name()+"-content]",function(){d.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+d.attr_name()+"-content]",function(){d.settings.closed.call(this)}),e(b).off(".dropdown").on("resize.fndtn.dropdown",d.throttle(function(){d.resize.call(d)},50)),this.resize()},close:function(a){var b=this;a.each(function(){b.S(this).hasClass(b.settings.active_class)&&(b.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(b.settings.active_class).prev("["+b.attr_name()+"]").removeClass(b.settings.active_class).removeData("target"),b.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[a]))})},closeall:function(){var b=this;a.each(b.S("["+this.attr_name()+"-content]"),function(){b.close.call(b,b.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b),a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),a.data("target",b.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[a,b])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(a){var b=this.S("#"+a.data(this.data_attr()));0!==b.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b)),b.hasClass(this.settings.active_class)?(this.close.call(this,b),b.data("target")!==a.get(0)&&this.open.call(this,b,a)):this.open.call(this,b,a))},resize:function(){var a=this.S("["+this.attr_name()+"-content].open"),b=this.S("["+this.attr_name()+"='"+a.attr("id")+"']");a.length&&b.length&&this.css(a,b)},css:function(a,b){var c=Math.max((b.width()-a.width())/2,8);if(this.clear_idx(),this.small()){var d=this.dirs.bottom.call(a,b);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:d.top}),a.css(Foundation.rtl?"right":"left",c)}else{var e=b.data(this.attr_name(!0)+"-init")||this.settings;this.style(a,b,e)}return a},style:function(b,c,d){var e=a.extend({position:"absolute"},this.dirs[d.align].call(b,c,d));b.attr("style","").css(e)},dirs:{_base:function(a){var b=this.offsetParent(),c=b.offset(),d=a.offset();return d.top-=c.top,d.left-=c.left,d},top:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return this.addClass("drop-top"),(a.outerWidth()<this.outerWidth()||c.small())&&c.adjust_pip(8,d),Foundation.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top-this.outerHeight()}:{left:d.left,top:d.top-this.outerHeight()}},bottom:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return(a.outerWidth()<this.outerWidth()||c.small())&&c.adjust_pip(8,d),c.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top+a.outerHeight()}:{left:d.left,top:d.top+a.outerHeight()}},left:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);return this.addClass("drop-left"),{left:c.left-this.outerWidth(),top:c.top}},right:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);return this.addClass("drop-right"),{left:c.left+a.outerWidth(),top:c.top}}},adjust_pip:function(a,b){var c=Foundation.stylesheet;this.small()&&(a+=b.left-8),this.rule_idx=c.cssRules.length;var d=".f-dropdown.open:before",e=".f-dropdown.open:after",f="left: "+a+"px;",g="left: "+(a-1)+"px;";c.insertRule?(c.insertRule([d,"{",f,"}"].join(" "),this.rule_idx),c.insertRule([e,"{",g,"}"].join(" "),this.rule_idx+1)):(c.addRule(d,f,this.rule_idx),c.addRule(e,g,this.rule_idx+1))},clear_idx:function(){var a=Foundation.stylesheet;this.rule_idx&&(a.deleteRule(this.rule_idx),a.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(b).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.3.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(a,b,c){var d=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(b,c),d.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(d.S("li",this.scope)):d.S("["+this.attr_name()+"]",this.scope).each(function(){d.assemble(d.S("li",this))})},events:function(d){var e=this,f=e.S,g=a(".scroll-container");g.length>0&&(this.scope=g),f(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(a,b,c){var b=b||f(this),c=c||b,d=b.next("li"),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init"),h=f(a.target);a.preventDefault(),g||(e.init(),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init")),c.hasClass("visible")&&b[0]===c[0]&&d.length>0&&e.is_open(b)&&(c=d,h=f("img",c)),e.open(h,b,c),e.update_paddles(c)}).on("click.fndtn.clearing",".clearing-main-next",function(a){e.nav(a,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(a){e.nav(a,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(a){Foundation.libs.clearing.close(a,this)}),a(c).on("keydown.fndtn.clearing",function(a){e.keydown(a)}),f(b).off(".clearing").on("resize.fndtn.clearing",function(){e.resize()}),this.swipe_events(d)},swipe_events:function(a){var b=this,c=b.S;c(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};c(this).data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var d=c(this).data("swipe-transition");if(void 0===d&&(d={}),d.delta_x=a.touches[0].pageX-d.start_page_x,Foundation.rtl&&(d.delta_x=-d.delta_x),void 0===d.is_scrolling&&(d.is_scrolling=!!(d.is_scrolling||Math.abs(d.delta_x)<Math.abs(a.touches[0].pageY-d.start_page_y))),!d.is_scrolling&&!d.active){a.preventDefault();var e=d.delta_x<0?"next":"prev";d.active=!0,b.nav(a,e)}}}).on("touchend.fndtn.clearing",".visible-img",function(a){c(this).data("swipe-transition",{}),a.stopPropagation()})},assemble:function(b){var c=b.parent();if(!c.parent().hasClass("carousel")){c.after('<div id="foundationClearingHolder"></div>');var d=c.detach(),e="";if(null!=d[0]){e=d[0].outerHTML;var f=this.S("#foundationClearingHolder"),g=c.data(this.attr_name(!0)+"-init"),h={grid:'<div class="carousel">'+e+"</div>",viewing:g.templates.viewing},i='<div class="clearing-assembled"><div>'+h.viewing+h.grid+"</div></div>",j=this.settings.touch_label;Modernizr.touch&&(i=a(i).find(".clearing-touch-label").html(j).end()),f.after(i).remove()}}},open:function(b,d,e){function f(){setTimeout(function(){this.image_loaded(m,function(){1!==m.outerWidth()||o?g.call(this,m):f.call(this)}.bind(this))}.bind(this),100)}function g(b){a(b).css("visibility","visible"),i.css("overflow","hidden"),j.addClass("clearing-blackout"),k.addClass("clearing-container"),l.show(),this.fix_height(e).caption(h.S(".clearing-caption",l),h.S("img",e)).center_and_label(b,n).shift(d,e,function(){e.closest("li").siblings().removeClass("visible"),e.closest("li").addClass("visible")}),l.trigger("opened.fndtn.clearing")}var h=this,i=a(c.body),j=e.closest(".clearing-assembled"),k=h.S("div",j).first(),l=h.S(".visible-img",k),m=h.S("img",l).not(b),n=h.S(".clearing-touch-label",k),o=!1;a("body").on("touchmove",function(a){a.preventDefault()}),m.error(function(){o=!0}),this.locked()||(l.trigger("open.fndtn.clearing"),m.attr("src",this.load(b)).css("visibility","hidden"),f.call(this))},close:function(b,d){b.preventDefault();var e,f,g=function(a){return/blackout/.test(a.selector)?a:a.closest(".clearing-blackout")}(a(d)),h=a(c.body);return d===b.target&&g&&(h.css("overflow",""),e=a("div",g).first(),f=a(".visible-img",e),f.trigger("close.fndtn.clearing"),this.settings.prev_index=0,a("ul["+this.attr_name()+"]",g).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),e.removeClass("clearing-container"),f.hide(),f.trigger("closed.fndtn.clearing")),a("body").off("touchmove"),!1},is_open:function(a){return a.parent().prop("style").length>0},keydown:function(b){var c=a(".clearing-blackout ul["+this.attr_name()+"]"),d=this.rtl?37:39,e=this.rtl?39:37;b.which===d&&this.go(c,"next"),b.which===e&&this.go(c,"prev"),27===b.which&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(b,c){var d=a("ul["+this.attr_name()+"]",".clearing-blackout");b.preventDefault(),this.go(d,c)},resize:function(){var b=a("img",".clearing-blackout .visible-img"),c=a(".clearing-touch-label",".clearing-blackout");b.length&&(this.center_and_label(b,c),b.trigger("resized.fndtn.clearing"))},fix_height:function(a){var b=a.parent().children(),c=this;return b.each(function(){var a=c.S(this),b=a.find("img");a.height()>b.outerHeight()&&a.addClass("fix-height")}).closest("ul").width(100*b.length+"%"),this},update_paddles:function(a){a=a.closest("li");var b=a.closest(".carousel").siblings(".visible-img");a.next().length>0?this.S(".clearing-main-next",b).removeClass("disabled"):this.S(".clearing-main-next",b).addClass("disabled"),a.prev().length>0?this.S(".clearing-main-prev",b).removeClass("disabled"):this.S(".clearing-main-prev",b).addClass("disabled")},center_and_label:function(a,b){return this.rtl?(a.css({marginRight:-a.outerWidth()/2,marginTop:-a.outerHeight()/2,left:"auto",right:"50%"}),b.length>0&&b.css({marginRight:-b.outerWidth()/2,marginTop:-a.outerHeight()/2-b.outerHeight()-10,left:"auto",right:"50%"})):(a.css({marginLeft:-a.outerWidth()/2,marginTop:-a.outerHeight()/2}),b.length>0&&b.css({marginLeft:-b.outerWidth()/2,marginTop:-a.outerHeight()/2-b.outerHeight()-10})),this},load:function(a){var b;return b="A"===a[0].nodeName?a.attr("href"):a.parent().attr("href"),this.preload(a),b||a.attr("src")},preload:function(a){this.img(a.closest("li").next()).img(a.closest("li").prev())},img:function(a){if(a.length){var b=new Image,c=this.S("a",a);c.length?b.src=c.attr("href"):b.src=this.S("img",a).attr("src")}return this},caption:function(a,b){var c=b.attr("data-caption");return c?a.html(c).show():a.text("").hide(),this},go:function(a,b){var c=this.S(".visible",a),d=c[b]();this.settings.skip_selector&&0!=d.find(this.settings.skip_selector).length&&(d=d[b]()),d.length&&this.S("img",d).trigger("click",[c,d]).trigger("click.fndtn.clearing",[c,d]).trigger("change.fndtn.clearing")},shift:function(a,b,c){var d,e=b.parent(),f=this.settings.prev_index||b.index(),g=this.direction(e,a,b),h=this.rtl?"right":"left",i=parseInt(e.css("left"),10),j=b.outerWidth(),k={};b.index()===f||/skip/.test(g)?/skip/.test(g)&&(d=b.index()-this.settings.up_count,this.lock(),d>0?(k[h]=-d*j,e.animate(k,300,this.unlock())):(k[h]=0,e.animate(k,300,this.unlock()))):/left/.test(g)?(this.lock(),k[h]=i+j,e.animate(k,300,this.unlock())):/right/.test(g)&&(this.lock(),k[h]=i-j,e.animate(k,300,this.unlock())),c()},direction:function(a,b,c){var d,e=this.S("li",a),f=e.outerWidth()+e.outerWidth()/4,g=Math.floor(this.S(".clearing-container").outerWidth()/f)-1,h=e.index(c);return this.settings.up_count=g,d=this.adjacent(this.settings.prev_index,h)?h>g&&h>this.settings.prev_index?"right":h>g-1&&h<=this.settings.prev_index&&"left":"skip",this.settings.prev_index=h,d},adjacent:function(a,b){for(var c=b+1;c>=b-1;c--)if(c===a)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(b).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";var e=function(){},f=function(e,f){if(e.hasClass(f.slides_container_class))return this;var j,k,l,m,n,o,p=this,q=e,r=0,s=!1;p.slides=function(){return q.children(f.slide_selector)},p.slides().first().addClass(f.active_slide_class),p.update_slide_number=function(b){f.slide_number&&(k.find("span:first").text(parseInt(b)+1),k.find("span:last").text(p.slides().length)),f.bullets&&(l.children().removeClass(f.bullets_active_class),a(l.children().get(b)).addClass(f.bullets_active_class))},p.update_active_link=function(b){var c=a('[data-orbit-link="'+p.slides().eq(b).attr("data-orbit-slide")+'"]');c.siblings().removeClass(f.bullets_active_class),c.addClass(f.bullets_active_class)},p.build_markup=function(){q.wrap('<div class="'+f.container_class+'"></div>'),j=q.parent(),q.addClass(f.slides_container_class),f.stack_on_small&&j.addClass(f.stack_on_small_class),f.navigation_arrows&&(j.append(a('<a href="#"><span></span></a>').addClass(f.prev_class)),j.append(a('<a href="#"><span></span></a>').addClass(f.next_class))),f.timer&&(m=a("<div>").addClass(f.timer_container_class),m.append("<span>"),m.append(a("<div>").addClass(f.timer_progress_class)),m.addClass(f.timer_paused_class),j.append(m)),f.slide_number&&(k=a("<div>").addClass(f.slide_number_class),k.append("<span></span> "+f.slide_number_text+" <span></span>"),j.append(k)),f.bullets&&(l=a("<ol>").addClass(f.bullets_container_class),j.append(l),l.wrap('<div class="orbit-bullets-container"></div>'),p.slides().each(function(b,c){var d=a("<li>").attr("data-orbit-slide",b).on("click",p.link_bullet);l.append(d)}))},p._goto=function(b,c){if(b===r)return!1;"object"==typeof o&&o.restart();var d=p.slides(),e="next";if(s=!0,b<r&&(e="prev"),b>=d.length){if(!f.circular)return!1;b=0}else if(b<0){if(!f.circular)return!1;b=d.length-1}var g=a(d.get(r)),h=a(d.get(b));g.css("zIndex",2),g.removeClass(f.active_slide_class),h.css("zIndex",4).addClass(f.active_slide_class),q.trigger("before-slide-change.fndtn.orbit"),f.before_slide_change(),p.update_active_link(b);var i=function(){var a=function(){r=b,s=!1,!0===c&&(o=p.create_timer(),o.start()),p.update_slide_number(r),q.trigger("after-slide-change.fndtn.orbit",[{slide_number:r,total_slides:d.length}]),f.after_slide_change(r,d.length)};q.height()!=h.height()&&f.variable_height?q.animate({height:h.height()},250,"linear",a):a()};if(1===d.length)return i(),!1;var j=function(){"next"===e&&n.next(g,h,i),"prev"===e&&n.prev(g,h,i)};h.height()>q.height()&&f.variable_height?q.animate({height:h.height()},250,"linear",j):j()},p.next=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r+1)},p.prev=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r-1)},p.link_custom=function(b){b.preventDefault();var c=a(this).attr("data-orbit-link");if("string"==typeof c&&""!=(c=a.trim(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index())}},p.link_bullet=function(b){var c=a(this).attr("data-orbit-slide");if("string"==typeof c&&""!=(c=a.trim(c)))if(isNaN(parseInt(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index()+1)}else p._goto(parseInt(c))},p.timer_callback=function(){p._goto(r+1,!0)},p.compute_dimensions=function(){var b=a(p.slides().get(r)),c=b.height();f.variable_height||p.slides().each(function(){a(this).height()>c&&(c=a(this).height())}),q.height(c)},p.create_timer=function(){return new g(j.find("."+f.timer_container_class),f,p.timer_callback)},p.stop_timer=function(){"object"==typeof o&&o.stop()},p.toggle_timer=function(){j.find("."+f.timer_container_class).hasClass(f.timer_paused_class)?(void 0===o&&(o=p.create_timer()),o.start()):"object"==typeof o&&o.stop()},p.init=function(){p.build_markup(),f.timer&&(o=p.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),o.start)),n=new i(f,q),"slide"===f.animation&&(n=new h(f,q)),j.on("click","."+f.next_class,p.next),j.on("click","."+f.prev_class,p.prev),f.next_on_click&&j.on("click","."+f.slides_container_class+" [data-orbit-slide]",p.link_bullet),j.on("click",p.toggle_timer),f.swipe&&j.on("touchstart.fndtn.orbit",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};j.data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.orbit",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var b=j.data("swipe-transition");if(void 0===b&&(b={}),b.delta_x=a.touches[0].pageX-b.start_page_x,void 0===b.is_scrolling&&(b.is_scrolling=!!(b.is_scrolling||Math.abs(b.delta_x)<Math.abs(a.touches[0].pageY-b.start_page_y))),!b.is_scrolling&&!b.active){a.preventDefault();var c=b.delta_x<0?r+1:r-1;b.active=!0,p._goto(c)}}}).on("touchend.fndtn.orbit",function(a){j.data("swipe-transition",{}),a.stopPropagation()}),j.on("mouseenter.fndtn.orbit",function(a){f.timer&&f.pause_on_hover&&p.stop_timer()}).on("mouseleave.fndtn.orbit",function(a){f.timer&&f.resume_on_mouseout&&o.start()}),a(c).on("click","[data-orbit-link]",p.link_custom),a(b).on("load resize",p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){j.prev("."+f.preloader_class).css("display","none"),p.update_slide_number(0),p.update_active_link(0),q.trigger("ready.fndtn.orbit")})},p.init()},g=function(a,b,c){var d,e,f=this,g=b.timer_speed,h=a.find("."+b.timer_progress_class),i=-1;this.update_progress=function(a){var b=h.clone();b.attr("style",""),b.css("width",a+"%"),h.replaceWith(b),h=b},this.restart=function(){clearTimeout(e),a.addClass(b.timer_paused_class),i=-1,f.update_progress(0)},this.start=function(){if(!a.hasClass(b.timer_paused_class))return!0;i=-1===i?g:i,a.removeClass(b.timer_paused_class),d=(new Date).getTime(),h.animate({width:"100%"},i,"linear"),e=setTimeout(function(){f.restart(),c()},i),a.trigger("timer-started.fndtn.orbit")},this.stop=function(){if(a.hasClass(b.timer_paused_class))return!0;clearTimeout(e),a.addClass(b.timer_paused_class);var c=(new Date).getTime();i-=c-d;var h=100-i/g*100;f.update_progress(h),a.trigger("timer-stopped.fndtn.orbit")}},h=function(b,c){var d=b.animation_speed,e=1===a("html[dir=rtl]").length,f=e?"marginRight":"marginLeft",g={};g[f]="0%",this.next=function(a,b,c){a.animate({marginLeft:"-100%"},d),b.animate(g,d,function(){a.css(f,"100%"),c()})},this.prev=function(a,b,c){a.animate({marginLeft:"100%"},d),b.css(f,"-100%"),b.animate(g,d,function(){a.css(f,"100%"),c()})}},i=function(b,c){var d=b.animation_speed;a("html[dir=rtl]").length;this.next=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})},this.prev=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.3.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:e,after_slide_change:e},init:function(a,b,c){this.bindings(b,c)},events:function(a){var b=new f(this.S(a),this.S(a).data("orbit-init"));this.S(a).data(this.name+"-instance",b)},reflow:function(){var a=this;if(a.S(a.scope).is("[data-orbit]")){a.S(a.scope).data(a.name+"-instance").compute_dimensions()}else a.S("[data-orbit]",a.scope).each(function(b,c){var d=a.S(c);a.data_options(d);d.data(a.name+"-instance").compute_dimensions()})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.3.3",settings:{open_method:"move",close_on_click:!1},init:function(a,b,c){this.bindings(b,c)},events:function(){var a=this,b=a.S,c="",d="",e="";"move"===this.settings.open_method?(c="move-",d="right",e="left"):"overlap"===this.settings.open_method&&(c="offcanvas-overlap"),b(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(b){a.click_toggle_class(b,c+d)}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(b){a.get_settings(b).close_on_click&&a.hide.call(a,c+d,a.get_wrapper(b))}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(b){a.click_toggle_class(b,c+e)}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(b){a.get_settings(b).close_on_click&&a.hide.call(a,c+e,a.get_wrapper(b))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(b){a.click_remove_class(b,c+e),d&&a.click_remove_class(b,c+d)})},toggle:function(a,b){b=b||this.get_wrapper(),b.is("."+a)?this.hide(a,b):this.show(a,b)},show:function(a,b){b=b||this.get_wrapper(),b.trigger("open").trigger("open.fndtn.offcanvas"),b.addClass(a)},hide:function(a,b){b=b||this.get_wrapper(),b.trigger("close").trigger("close.fndtn.offcanvas"),b.removeClass(a)},click_toggle_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.toggle(b,c)},click_remove_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.hide(b,c)},get_settings:function(a){return this.S(a.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(a){var b=this.S(a?a.target:this.scope).closest(".off-canvas-wrap");return 0===b.length&&(b=this.S(".off-canvas-wrap")),b},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.alert={name:"alert",version:"5.3.3",settings:{callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;a(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(a){var d=c(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;a.preventDefault(),Modernizr.csstransitions?(d.addClass("alert-close"),d.on("transitionend webkitTransitionEnd oTransitionEnd",function(a){c(this).trigger("close").trigger("close.fndtn.alert").remove(),e.callback()})):d.fadeOut(300,function(){c(this).trigger("close").trigger("close.fndtn.alert").remove(),e.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";function e(a){var b=/fade/i.test(a),c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}Foundation.libs.reveal={name:"reveal",version:"5.3.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(a){var b=this,d=b.S;return d(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(a){if(a.preventDefault(),!b.locked){var c=d(this),e=c.data(b.data_attr("reveal-ajax"));if(b.locked=!0,void 0===e)b.open.call(b,c);else{var f=!0===e?c.attr("href"):e;b.open.call(b,c,{url:f})}}}),d(c).on("click.fndtn.reveal",this.close_targets(),function(a){if(a.preventDefault(),!b.locked){var c=d("["+b.attr_name()+"].open").data(b.attr_name(!0)+"-init"),e=d(a.target)[0]===d("."+c.bg_class)[0];if(e){if(!c.close_on_background_click)return;a.stopPropagation()}b.locked=!0,b.close.call(b,e?d("["+b.attr_name()+"].open"):d(this).closest("["+b.attr_name()+"]"))}}),d("["+b.attr_name()+"]",this.scope).length>0?d(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):d(this.scope).on("open.fndtn.reveal","["+b.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+b.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.close_video),!0},key_up_on:function(a){var b=this;return b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(a){var c=b.S("["+b.attr_name()+"].open"),d=c.data(b.attr_name(!0)+"-init")||b.settings;d&&27===a.which&&d.close_on_esc&&!b.locked&&b.close.call(b,c)}),!0},key_up_off:function(a){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(b,c){var d,e=this;b?void 0!==b.selector?d=e.S("#"+b.data(e.data_attr("reveal-id"))).first():(d=e.S(this.scope),c=b):d=e.S(this.scope);var f=d.data(e.attr_name(!0)+"-init");if(f=f||this.settings,d.hasClass("open")&&b.attr("data-reveal-id")==d.attr("id"))return e.close(d);if(!d.hasClass("open")){var g=e.S("["+e.attr_name()+"].open");if(void 0===d.data("css-top")&&d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d)),this.key_up_on(d),d.trigger("open").trigger("open.fndtn.reveal"),g.length<1&&this.toggle_bg(d,!0),"string"==typeof c&&(c={url:c}),void 0!==c&&c.url){var h=void 0!==c.success?c.success:null;a.extend(c,{success:function(b,c,i){a.isFunction(h)&&h(b,c,i),d.html(b),e.S(d).foundation("section","reflow"),e.S(d).children().foundation(),g.length>0&&e.hide(g,f.css.close),e.show(d,f.css.open)}}),a.ajax(c)}else g.length>0&&this.hide(g,f.css.close),this.show(d,f.css.open)}},close:function(a){var a=a&&a.length?a:this.S(this.scope),b=this.S("["+this.attr_name()+"].open"),c=a.data(this.attr_name(!0)+"-init")||this.settings;b.length>0&&(this.locked=!0,this.key_up_off(a),a.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(a,!1),this.hide(b,c.css.close,c))},close_targets:function(){var a="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(b,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var e=this.settings.bg.filter(":visible").length>0;c!=e&&((c==d?e:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init")||this.settings,g=f.root_element;if(0===c.parent(g).length){var h=c.wrap('<div style="display: none;" />').parent();c.on("closed.fndtn.reveal.wrapped",function(){c.detach().appendTo(h),c.unwrap().unbind("closed.fndtn.reveal.wrapped")}),c.detach().appendTo(g)}var i=e(f.animation);if(i.animate||(this.locked=!1),i.pop){d.top=a(b).scrollTop()-c.data("offset")+"px";var j={top:a(b).scrollTop()+c.data("css-top")+"px",opacity:1};return setTimeout(function(){return c.css(d).animate(j,f.animation_speed,"linear",function(){this.locked=!1,c.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)}if(i.fade){d.top=a(b).scrollTop()+c.data("css-top")+"px";var j={opacity:1};return setTimeout(function(){return c.css(d).animate(j,f.animation_speed,"linear",function(){this.locked=!1,c.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)}return c.css(d).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeIn(f.animation_speed/2):(this.locked=!1,c.show())},hide:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init");f=f||this.settings;var g=e(f.animation);if(g.animate||(this.locked=!1),g.pop){var h={top:-a(b).scrollTop()-c.data("offset")+"px",opacity:0};return setTimeout(function(){return c.animate(h,f.animation_speed,"linear",function(){this.locked=!1,c.css(d).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)}if(g.fade){var h={opacity:0};return setTimeout(function(){return c.animate(h,f.animation_speed,"linear",function(){this.locked=!1,c.css(d).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)}return c.hide().css(d).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeOut(f.animation_speed/2):c.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),e=c.find("iframe");if(e.length>0){if("string"==typeof e.attr("data-src"))e[0].src=e.attr("data-src");else{var f=e[0].src;e[0].src=d,e[0].src=f}c.show()}},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.3.3",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{default:"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(b,c,d){if(/IMG/.test(b[0].nodeName)){var e=b[0].src;if(new RegExp(c,"i").test(e))return;return b[0].src=c,d(b[0].src)}var f=this;if(b.data(this.data_attr+"-last-path")!=c)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(c)?(a(b).css("background-image","url("+c+")"),b.data("interchange-last-path",c),d(c)):a.get(c,function(a){b.html(a),b.data(f.data_attr+"-last-path",c),d()})}}},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),a.extend(!0,this.settings,c,d),this.bindings(c,d),this.load("images"),this.load("nodes")},get_media_hash:function(){var a="";for(var b in this.settings.named_queries)a+=matchMedia(this.settings.named_queries[b]).matches.toString();return a},events:function(){var c,d=this;return a(b).off(".interchange").on("resize.fndtn.interchange",d.throttle(function(){var a=d.get_media_hash();a!==c&&d.resize(),c=a},50)),this},resize:function(){var b=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(a.proxy(this.resize,this),50);for(var c in b)if(b.hasOwnProperty(c)){var d=this.results(c,b[c]);d&&this.settings.directives[d.scenario[1]].call(this,d.el,d.scenario[0],function(){if(arguments[0]instanceof Array)var a=arguments[0];else var a=Array.prototype.slice.call(arguments,0);d.el.trigger(d.scenario[1],a)})}},results:function(a,b){var c=b.length;if(c>0)for(var d=this.S("["+this.add_namespace("data-uuid")+'="'+a+'"]');c--;){var e,f=b[c][2];if(e=this.settings.named_queries.hasOwnProperty(f)?matchMedia(this.settings.named_queries[f]):matchMedia(f),e.matches)return{el:d,scenario:b[c]}}return!1},load:function(a,b){return(void 0===this["cached_"+a]||b)&&this["update_"+a](),this["cached_"+a]},update_images:function(){var a=this.S("img["+this.data_attr+"]"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===b;c--;){if(d++,a[c]){(a[c].getAttribute(e)||"").length>0&&this.cached_images.push(a[c])}d===b&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var a=this.S("["+this.data_attr+"]").not("img"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===b;c--;){d++;(a[c].getAttribute(e)||"").length>0&&this.cached_nodes.push(a[c]),d===b&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(c){for(var d=this["cached_"+c].length;d--;)this.object(a(this["cached_"+c][d]));return a(b).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(a){var b=this.trim(a);return b.length>0?b:"replace"},parse_scenario:function(a){var b=a[0].match(/(.+),\s*(\w+)\s*$/),c=a[1];if(b)var d=b[1],e=b[2];else var f=a[0].split(/,\s*$/),d=f[0],e="";return[this.trim(d),this.convert_directive(e),this.trim(c)]},object:function(a){var b=this.parse_data_attr(a),c=[],d=b.length;if(d>0)for(;d--;){var e=b[d].split(/\((.*?)(\))$/);if(e.length>1){var f=this.parse_scenario(e);c.push(f)}}return this.store(a,c)},store:function(a,b){var c=this.random_str(),d=a.data(this.add_namespace("uuid",!0));return this.cache[d]?this.cache[d]:(a.attr(this.add_namespace("data-uuid"),c),this.cache[c]=b)},trim:function(b){return"string"==typeof b?a.trim(b):b},set_data_attr:function(a){return a?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(a){for(var b=a.attr(this.attr_name()).split(/\[(.*?)\]/),c=b.length,d=[];c--;)b[c].replace(/[\W\d]+/,"").length>4&&d.push(b[c]);return d},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.3.3",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c)},events:function(){var c=this,d=c.S,e=c.settings;c.set_expedition_position(),d(c.scope).off(".magellan").on("click.fndtn.magellan","["+c.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(b){b.preventDefault();var d=a(this).closest("["+c.attr_name()+"]"),e=d.data("magellan-expedition-init"),f=this.hash.split("#").join(""),g=a("a[name='"+f+"']");0===g.length&&(g=a("#"+f));var h=g.offset().top-e.destination_threshold+1;h-=d.outerHeight(),a("html, body").stop().animate({scrollTop:h},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+f):location.hash="#"+f})}).on("scroll.fndtn.magellan",c.throttle(this.check_for_arrivals.bind(this),e.throttle_delay)),a(b).on("resize.fndtn.magellan",c.throttle(this.set_expedition_position.bind(this),e.throttle_delay))},check_for_arrivals:function(){var a=this;a.update_arrivals(),a.update_expedition_positions()},set_expedition_position:function(){var b=this;a("["+this.attr_name()+"=fixed]",b.scope).each(function(c,d){var e,f,g=a(this),h=g.data("magellan-expedition-init"),i=g.attr("styles");g.attr("style",""),e=g.offset().top+h.threshold,f=parseInt(g.data("magellan-fixed-top")),isNaN(f)||(b.settings.fixed_top=f),g.data(b.data_attr("magellan-top-offset"),e),g.attr("style",i)})},update_expedition_positions:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"=fixed]",c.scope).each(function(){var b=a(this),e=b.data("magellan-expedition-init"),f=b.attr("style"),g=b.data("magellan-top-offset");if(d+c.settings.fixed_top>=g){var h=b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]");0===h.length&&(h=b.clone(),h.removeAttr(c.attr_name()),h.attr(c.add_namespace("data-magellan-expedition-clone"),""),b.before(h)),b.css({position:"fixed",top:e.fixed_top})}else b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]").remove(),b.attr("style",f).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"]",c.scope).each(function(){var b=a(this),e=b.data(c.attr_name(!0)+"-init"),f=c.offsets(b,d),g=b.find("["+c.add_namespace("data-magellan-arrival")+"]"),h=!1;f.each(function(a,d){if(d.viewport_offset>=d.top_offset){return b.find("["+c.add_namespace("data-magellan-arrival")+"]").not(d.arrival).removeClass(e.active_class),d.arrival.addClass(e.active_class),h=!0,!0}}),h||g.removeClass(e.active_class)})},offsets:function(b,c){var d=this,e=b.data(d.attr_name(!0)+"-init"),f=c;return b.find("["+d.add_namespace("data-magellan-arrival")+"]").map(function(c,g){var h=a(this).data(d.data_attr("magellan-arrival")),i=a("["+d.add_namespace("data-magellan-destination")+"="+h+"]");if(i.length>0){var j=Math.floor(i.offset().top-e.destination_threshold-b.outerHeight());return{destination:i,arrival:a(this),top_offset:j,viewport_offset:f}}}).sort(function(a,b){return a.top_offset<b.top_offset?-1:a.top_offset>b.top_offset?1:0})},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){this.S(this.scope).off(".magellan"),this.S(b).off(".magellan")},reflow:function(){var b=this;a("["+b.add_namespace("data-magellan-expedition-clone")+"]",b.scope).remove()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.3.3",settings:{active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;c(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(d){var e=c(this).closest("["+b.attr_name()+"]"),f=b.attr_name()+"="+e.attr(b.attr_name()),g=e.data(b.attr_name(!0)+"-init"),h=c("#"+this.href.split("#")[1]),i=a("> dd",e),j=i.children(".content"),k=j.filter("."+g.active_class);if(d.preventDefault(),e.attr(b.attr_name())&&(j=j.add("["+f+"] dd > .content"),i=i.add("["+f+"] dd")),g.toggleable&&h.is(k))return h.parent("dd").toggleClass(g.active_class,!1),h.toggleClass(g.active_class,!1),g.callback(h),h.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[h]),void 0;g.multi_expand||(j.removeClass(g.active_class),i.removeClass(g.active_class)),h.addClass(g.active_class).parent().addClass(g.active_class),g.callback(h),h.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[h])})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.3.3",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(b,c,d){Foundation.inherit(this,"add_custom_rule register_media throttle");var e=this;e.register_media("topbar","foundation-mq-topbar"),this.bindings(c,d),e.S("["+this.attr_name()+"]",this.scope).each(function(){var b=a(this),c=b.data(e.attr_name(!0)+"-init");e.S("section",this);b.data("index",0);var d=b.parent();d.hasClass("fixed")||e.is_sticky(b,d,c)?(e.settings.sticky_class=c.sticky_class,e.settings.sticky_topbar=b,b.data("height",d.outerHeight()),b.data("stickyoffset",d.offset().top)):b.data("height",b.outerHeight()),c.assembled||e.assemble(b),c.is_hover?e.S(".has-dropdown",b).addClass("not-click"):e.S(".has-dropdown",b).removeClass("not-click"),e.add_custom_rule(".f-topbar-fixed { padding-top: "+b.data("height")+"px }"),d.hasClass("fixed")&&e.S("body").addClass("f-topbar-fixed")})},is_sticky:function(a,b,c){var d=b.hasClass(c.sticky_class);return!(!d||"all"!==c.sticky_on)||(d&&this.small()&&"small"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:d&&this.medium()&&"medium"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:!(!d||!this.large()||"large"!==c.sticky_on)&&(matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches))},toggle:function(c){var d,e=this;d=c?e.S(c).closest("["+this.attr_name()+"]"):e.S("["+this.attr_name()+"]");var f=d.data(this.attr_name(!0)+"-init"),g=e.S("section, .section",d);e.breakpoint()&&(e.rtl?(g.css({right:"0%"}),a(">.name",g).css({right:"100%"})):(g.css({left:"0%"}),a(">.name",g).css({left:"100%"})),e.S("li.moved",g).removeClass("moved"),d.data("index",0),d.toggleClass("expanded").css("height","")),f.scrolltop?d.hasClass("expanded")?d.parent().hasClass("fixed")&&(f.scrolltop?(d.parent().removeClass("fixed"),d.addClass("fixed"),e.S("body").removeClass("f-topbar-fixed"),b.scrollTo(0,0)):d.parent().removeClass("expanded")):d.hasClass("fixed")&&(d.parent().addClass("fixed"),d.removeClass("fixed"),e.S("body").addClass("f-topbar-fixed")):(e.is_sticky(d,d.parent(),f)&&d.parent().addClass("fixed"),d.parent().hasClass("fixed")&&(d.hasClass("expanded")?(d.addClass("fixed"),d.parent().addClass("expanded"),e.S("body").addClass("f-topbar-fixed")):(d.removeClass("fixed"),d.parent().removeClass("expanded"),e.update_sticky_positioning())))},timer:null,events:function(c){var d=this,e=this.S;e(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(a){a.preventDefault(),d.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(b){var c=a(this).closest("li");d.breakpoint()&&!c.hasClass("back")&&!c.hasClass("has-dropdown")&&d.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(b){var c=e(this),f=e(b.target),g=c.closest("["+d.attr_name()+"]"),h=g.data(d.attr_name(!0)+"-init");if(f.data("revealId"))return void d.toggle();d.breakpoint()||h.is_hover&&!Modernizr.touch||(b.stopImmediatePropagation(),c.hasClass("hover")?(c.removeClass("hover").find("li").removeClass("hover"),c.parents("li.hover").removeClass("hover")):(c.addClass("hover"),a(c).siblings().removeClass("hover"),"A"===f[0].nodeName&&f.parent().hasClass("has-dropdown")&&b.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(a){if(d.breakpoint()){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .section"),g=(b.next(".dropdown").outerHeight(),b.closest("li"));c.data("index",c.data("index")+1),g.addClass("moved"),d.rtl?(f.css({right:-100*c.data("index")+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-100*c.data("index")+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),c.css("height",b.siblings("ul").outerHeight(!0)+c.data("height"))}}),e(b).off(".topbar").on("resize.fndtn.topbar",d.throttle(function(){d.resize.call(d)},50)).trigger("resize").trigger("resize.fndtn.topbar"),e("body").off(".topbar").on("click.fndtn.topbar",function(a){e(a.target).closest("li").closest("li.hover").length>0||e("["+d.attr_name()+"] li.hover").removeClass("hover")}),e(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(a){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .section"),g=(c.data(d.attr_name(!0)+"-init"),b.closest("li.moved")),h=g.parent();c.data("index",c.data("index")-1),d.rtl?(f.css({right:-100*c.data("index")+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-100*c.data("index")+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),0===c.data("index")?c.css("height",""):c.css("height",h.outerHeight(!0)+c.data("height")),setTimeout(function(){g.removeClass("moved")},300)})},resize:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var b,d=a.S(this),e=d.data(a.attr_name(!0)+"-init"),f=d.parent("."+a.settings.sticky_class);if(!a.breakpoint()){var g=d.hasClass("expanded");d.css("height","").removeClass("expanded").find("li").removeClass("hover"),g&&a.toggle(d)}a.is_sticky(d,f,e)&&(f.hasClass("fixed")?(f.removeClass("fixed"),b=f.offset().top,a.S(c.body).hasClass("f-topbar-fixed")&&(b-=d.data("height")),d.data("stickyoffset",b),f.addClass("fixed")):(b=f.offset().top,d.data("stickyoffset",b)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(b){var c=this,d=b.data(this.attr_name(!0)+"-init"),e=c.S("section",b);e.detach(),c.S(".has-dropdown>a",e).each(function(){var b,e=c.S(this),f=e.siblings(".dropdown"),g=e.attr("href");f.find(".title.back").length||(b=a(1==d.mobile_show_parent_link&&g?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small"><a class="parent-link js-generated" href="'+g+'">'+e.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==d.custom_back_text?a("h5>a",b).html(d.back_text):a("h5>a",b).html("&laquo; "+e.html()),f.prepend(b))}),e.appendTo(b),this.sticky(),this.assembled(b)},assembled:function(b){b.data(this.attr_name(!0),a.extend({},b.data(this.attr_name(!0)),{assembled:!0}))},height:function(b){var c=0,d=this;return a("> li",b).each(function(){c+=d.S(this).outerHeight(!0)}),c},sticky:function(){var a=this;this.S(b).on("scroll",function(){a.update_sticky_positioning()})},update_sticky_positioning:function(){var a="."+this.settings.sticky_class,c=this.S(b),d=this;if(d.settings.sticky_topbar&&d.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var e=this.settings.sticky_topbar.data("stickyoffset");d.S(a).hasClass("expanded")||(c.scrollTop()>e?d.S(a).hasClass("fixed")||(d.S(a).addClass("fixed"),d.S("body").addClass("f-topbar-fixed")):c.scrollTop()<=e&&d.S(a).hasClass("fixed")&&(d.S(a).removeClass("fixed"),d.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(b).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function(a,b,c,d){"use strict";Foundation.libs.tab={name:"tab",version:"5.3.3",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(a,b,c){var d=this,e=this.S;this.bindings(b,c),this.handle_location_hash_change(),e("["+this.attr_name()+"] > .active > a",this.scope).each(function(){d.default_tab_hashes.push(this.hash)})},events:function(){var a=this,c=this.S;c(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(b){c(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover&&!Modernizr.touch||(b.preventDefault(),b.stopPropagation(),a.toggle_active_tab(c(this).parent()))}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(b){c(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover&&a.toggle_active_tab(c(this).parent())}),c(b).on("hashchange.fndtn.tab",function(b){b.preventDefault(),a.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this,c=this.S;c("["+this.attr_name()+"]",this.scope).each(function(){if(c(this).data(b.attr_name(!0)+"-init").deep_linking){var e=b.scope.location.hash;if(""!=e){var f=c(e);if(f.hasClass("content")&&f.parent().hasClass("tab-content"))b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+e+"]").parent());else{var g=f.closest(".content").attr("id");g!=d&&b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href=#"+g+"]").parent(),e)}}else for(var h in b.default_tab_hashes)b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[h]+"]").parent())}})},toggle_active_tab:function(c,e){var f=this.S,g=c.closest("["+this.attr_name()+"]"),h=c.children("a").first(),i="#"+h.attr("href").split("#")[1],j=f(i),k=c.siblings(),l=g.data(this.attr_name(!0)+"-init");if(f(this).data(this.data_attr("tab-content"))&&(i="#"+f(this).data(this.data_attr("tab-content")).split("#")[1],j=f(i)),l.deep_linking){var m=a("body,html").scrollTop();b.location.hash=e!=d?e:i,l.scroll_to_content?e==d||e==i?c.parent()[0].scrollIntoView():f(i)[0].scrollIntoView():(e==d||e==i)&&a("body,html").scrollTop(m)}c.addClass(l.active_class).triggerHandler("opened"),k.removeClass(l.active_class),j.siblings().removeClass(l.active_class).end().addClass(l.active_class),l.callback(c),j.triggerHandler("toggled",[c]),g.triggerHandler("toggled",[j])},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.abide={name:"abide",version:"5.3.3",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(a,b,d){return c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value===a.value}}},timer:null,init:function(a,b,c){this.bindings(b,c)},events:function(b){var c=this,d=c.S(b).attr("novalidate","novalidate"),e=d.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),d.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(a){var b=/ajax/i.test(c.S(this).attr(c.attr_name()));return c.validate(c.S(this).find("input, textarea, select").get(),a,b)}).on("reset",function(){return c.reset(a(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(a){c.validate([this],a)}).on("keydown.fndtn.abide",function(a){!0===e.live_validate&&(clearTimeout(c.timer),c.timer=setTimeout(function(){c.validate([this],a)}.bind(this),e.timeout))})},reset:function(b){b.removeAttr(this.invalid_attr),a(this.invalid_attr,b).removeAttr(this.invalid_attr),a(".error",b).not("small").removeClass("error")},validate:function(a,b,c){for(var d=this.parse_patterns(a),e=d.length,f=this.S(a[0]).closest("form"),g=/submit/.test(b.type),h=0;h<e;h++)if(!d[h]&&(g||c))return this.settings.focus_on_invalid&&a[h].focus(),f.trigger("invalid"),this.S(a[h]).closest("form").attr(this.invalid_attr,""),!1;return(g||c)&&f.trigger("valid"),f.removeAttr(this.invalid_attr),!c},parse_patterns:function(a){for(var b=a.length,c=[];b--;)c.push(this.pattern(a[b]));return this.check_validation_and_apply_styles(c)},pattern:function(a){var b=a.getAttribute("type"),c="string"==typeof a.getAttribute("required"),d=a.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(d)&&d.length>0?[a,this.settings.patterns[d],c]:d.length>0?[a,new RegExp(d),c]:this.settings.patterns.hasOwnProperty(b)?[a,this.settings.patterns[b],c]:(d=/.*/,[a,d,c])},check_validation_and_apply_styles:function(b){var c=b.length,d=[],e=this.S(b[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(e.data(this.attr_name(!0)+"-init");c--;){var f,g,h=b[c][0],i=b[c][2],j=h.value.trim(),k=this.S(h).parent(),l=h.getAttribute(this.add_namespace("data-abide-validator")),m="radio"===h.type,n="checkbox"===h.type,o=this.S('label[for="'+h.getAttribute("id")+'"]'),p=!i||h.value.length>0;h.getAttribute(this.add_namespace("data-equalto"))&&(l="equalTo"),f=k.is("label")?k.parent():k,m&&i?d.push(this.valid_radio(h,i)):n&&i?d.push(this.valid_checkbox(h,i)):(l&&(g=this.settings.validators[l].apply(this,[h,i,f]),d.push(g)),b[c][1].test(j)&&p||!i&&h.value.length<1||a(h).attr("disabled")?d.push(!0):d.push(!1),d=[d.every(function(a){return a})],d[0]?(this.S(h).removeAttr(this.invalid_attr),f.removeClass("error"),o.length>0&&this.settings.error_labels&&o.removeClass("error"),a(h).triggerHandler("valid")):(f.addClass("error"),this.S(h).attr(this.invalid_attr,""),o.length>0&&this.settings.error_labels&&o.addClass("error"),a(h).triggerHandler("invalid")))}return d},valid_checkbox:function(a,b){var a=this.S(a),c=a.is(":checked")||!b;return c?a.removeAttr(this.invalid_attr).parent().removeClass("error"):a.attr(this.invalid_attr,"").parent().addClass("error"),c},valid_radio:function(a,b){for(var c=a.getAttribute("name"),d=this.S(a).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+c+"']"),e=d.length,f=!1,g=0;g<e;g++)d[g].checked&&(f=!0);for(var g=0;g<e;g++)f?this.S(d[g]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(d[g]).attr(this.invalid_attr,"").parent().addClass("error");return f},valid_equal:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g?(this.S(a).removeAttr(this.invalid_attr),d.removeClass("error")):(this.S(a).attr(this.invalid_attr,""),d.addClass("error")),g},valid_oneof:function(a,b,c,d){var a=this.S(a),e=this.S("["+this.add_namespace("data-oneof")+"]"),f=e.filter(":checked").length>0;if(f?a.removeAttr(this.invalid_attr).parent().removeClass("error"):a.attr(this.invalid_attr,"").parent().addClass("error"),!d){var g=this;e.each(function(){g.valid_oneof.call(g,this,null,null,!0)})}return f}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.3.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"),this.bindings(b,c)},should_show:function(b,c){var d=a.extend({},this.settings,this.data_options(b));return"all"===d.show_on||(!(!this.small()||"small"!==d.show_on)||(!(!this.medium()||"medium"!==d.show_on)||!(!this.large()||"large"!==d.show_on)))},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){var c=this,d=c.S;c.create(this.S(b)),a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(b){var e=d(this),f=a.extend({},c.settings,c.data_options(e));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&d(b.target).is("a"))return!1;if(/mouse/i.test(b.type)&&c.ie_touch(b))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),c.hide(e);else{if(f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type))return;!f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),d(f.tooltip_class+".open").hide(),!0),/enter|over/i.test(b.type)?this.timer=setTimeout(function(){c.showTip(e)}.bind(this),c.settings.hover_delay):"mouseout"===b.type||"mouseleave"===b.type?(clearTimeout(this.timer),c.hide(e)):c.showTip(e)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){if(/mouse/i.test(b.type)&&c.ie_touch(b))return!1;"touch"==a(this).data("tooltip-open-event-type")&&"mouseleave"==b.type||("mouse"==a(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(b.type)?c.convert_to_touch(a(this)):c.hide(a(this)))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){c.hide(d(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);if(this.should_show(a,b))return this.show(a)},getTip:function(b){var c=this.selector(b),d=a.extend({},this.settings,this.data_options(b)),e=null;return c&&(e=this.S('span[data-selector="'+c+'"]'+d.tooltip_class)),"object"==typeof e&&e},selector:function(a){var b=a.attr("id"),c=a.attr(this.attr_name())||a.attr("data-selector");return(b&&b.length<1||!b)&&"string"!=typeof c&&(c=this.random_str(6),a.attr("data-selector",c)),b&&b.length>0?b:c},create:function(c){var d=this,e=a.extend({},this.settings,this.data_options(c)),f=this.settings.tip_template;"string"==typeof e.tip_template&&b.hasOwnProperty(e.tip_template)&&(f=b[e.tip_template]);var g=a(f(this.selector(c),a("<div></div>").html(c.attr("title")).html())),h=this.inheritable_classes(c);g.addClass(h).appendTo(e.append_to),Modernizr.touch&&(g.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(a){d.hide(c)})),c.removeAttr("title").attr("title","")},reposition:function(b,c,d){var e,f,g,h;if(c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),f.outerHeight(),this.small()?c.css({width:"100%"}):c.css({width:e||"auto"}),(h=function(a,b,c,d,e,f){return a.css({top:b||"auto",bottom:d||"auto",left:e||"auto",right:c||"auto"}).end()})(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left),this.small())h(c,b.offset().top+b.outerHeight()+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),h(f,-g,"auto","auto",b.offset().left);else{var i=b.offset().left;Foundation.rtl&&(f.addClass("rtl"),i=b.offset().left+b.outerWidth()-c.outerWidth()),h(c,b.offset().top+b.outerHeight()+10,"auto","auto",i),c.removeClass("tip-override"),d&&d.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),h(c,b.offset().top-c.outerHeight(),"auto","auto",i).removeClass("tip-override")):d&&d.indexOf("tip-left")>-1?(h(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left-c.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):d&&d.indexOf("tip-right")>-1&&(h(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left+b.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(c.additional_inheritable_classes),e=b.attr("class"),f=e?a.map(e.split(" "),function(b,c){if(-1!==a.inArray(b,d))return b}).join(" "):"";return a.trim(f)},convert_to_touch:function(b){var c=this,d=c.getTip(b),e=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&(d.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(a){c.hide(b)})),b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a),this.reposition(a,b,a.attr("class")),a.addClass("open"),b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove(),b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(){var a=this,b=a._,c=Array.prototype,d=Object.prototype,e=Function.prototype,f=c.push,g=c.slice,h=c.concat,i=d.toString,j=d.hasOwnProperty,k=Array.isArray,l=Object.keys,m=e.bind,n=function(a){return a instanceof n?a:this instanceof n?void(this._wrapped=a):new n(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n,n.VERSION="1.7.0";var o=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};n.iteratee=function(a,b,c){return null==a?n.identity:n.isFunction(a)?o(a,b,c):n.isObject(a)?n.matches(a):n.property(a)},n.each=n.forEach=function(a,b,c){if(null==a)return a;b=o(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=n.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},n.map=n.collect=function(a,b,c){if(null==a)return[];b=n.iteratee(b,c);for(var d,e=a.length!==+a.length&&n.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var p="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},n.reduceRight=n.foldr=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},n.find=n.detect=function(a,b,c){var d;return b=n.iteratee(b,c),n.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},n.filter=n.select=function(a,b,c){var d=[];return null==a?d:(b=n.iteratee(b,c),n.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},n.reject=function(a,b,c){return n.filter(a,n.negate(n.iteratee(b)),c)},n.every=n.all=function(a,b,c){if(null==a)return!0;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},n.some=n.any=function(a,b,c){if(null==a)return!1;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},n.contains=n.include=function(a,b){return null!=a&&(a.length!==+a.length&&(a=n.values(a)),n.indexOf(a,b)>=0)},n.invoke=function(a,b){var c=g.call(arguments,2),d=n.isFunction(b);return n.map(a,function(a){return(d?b:a[b]).apply(a,c)})},n.pluck=function(a,b){return n.map(a,n.property(b))},n.where=function(a,b){return n.filter(a,n.matches(b))},n.findWhere=function(a,b){return n.find(a,n.matches(b))},n.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)(d=a[h])>f&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){((e=b(a,c,d))>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},n.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},n.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:n.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=n.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},n.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=n.values(a)),a[n.random(a.length-1)]):n.shuffle(a).slice(0,Math.max(0,b))},n.sortBy=function(a,b,c){return b=n.iteratee(b,c),n.pluck(n.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var q=function(a){return function(b,c,d){var e={};return c=n.iteratee(c,d),n.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};n.groupBy=q(function(a,b,c){n.has(a,c)?a[c].push(b):a[c]=[b]}),n.indexBy=q(function(a,b,c){a[c]=b}),n.countBy=q(function(a,b,c){n.has(a,c)?a[c]++:a[c]=1}),n.sortedIndex=function(a,b,c,d){c=n.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},n.toArray=function(a){return a?n.isArray(a)?g.call(a):a.length===+a.length?n.map(a,n.identity):n.values(a):[]},n.size=function(a){return null==a?0:a.length===+a.length?a.length:n.keys(a).length},n.partition=function(a,b,c){b=n.iteratee(b,c);var d=[],e=[];return n.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},n.first=n.head=n.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:g.call(a,0,b)},n.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},n.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},n.rest=n.tail=n.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},n.compact=function(a){return n.filter(a,n.identity)};var r=function(a,b,c,d){if(b&&n.every(a,n.isArray))return h.apply(d,a);for(var e=0,g=a.length;g>e;e++){var i=a[e];n.isArray(i)||n.isArguments(i)?b?f.apply(d,i):r(i,b,c,d):c||d.push(i)}return d};n.flatten=function(a,b){return r(a,b,!1,[])},n.without=function(a){return n.difference(a,g.call(arguments,1))},n.uniq=n.unique=function(a,b,c,d){if(null==a)return[];n.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=n.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);n.indexOf(f,j)<0&&(f.push(j),e.push(i))}else n.indexOf(e,i)<0&&e.push(i)}return e},n.union=function(){return n.uniq(r(arguments,!0,!0,[]))},n.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!n.contains(b,f)){for(var g=1;c>g&&n.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},n.difference=function(a){var b=r(g.call(arguments,1),!0,!0,[]);return n.filter(a,function(a){return!n.contains(b,a)})},n.zip=function(a){if(null==a)return[];for(var b=n.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=n.pluck(arguments,d);return c},n.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},n.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=n.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},n.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},n.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var s=function(){};n.bind=function(a,b){var c,d;if(m&&a.bind===m)return m.apply(a,g.call(arguments,1));if(!n.isFunction(a))throw new TypeError("Bind must be called on a function");return c=g.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(g.call(arguments)));s.prototype=a.prototype;var e=new s;s.prototype=null;var f=a.apply(e,c.concat(g.call(arguments)));return n.isObject(f)?f:e}},n.partial=function(a){var b=g.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===n&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},n.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=n.bind(a[c],a);return a},n.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return n.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},n.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},n.defer=function(a){return n.delay.apply(n,[a,1].concat(g.call(arguments,1)))},n.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:n.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=n.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}},n.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=n.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=n.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},n.wrap=function(a,b){return n.partial(b,a)},n.negate=function(a){return function(){return!a.apply(this,arguments)}},n.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},n.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},n.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},n.once=n.partial(n.before,2),n.keys=function(a){if(!n.isObject(a))return[];if(l)return l(a);var b=[];for(var c in a)n.has(a,c)&&b.push(c);return b},n.values=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},n.pairs=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},n.invert=function(a){for(var b={},c=n.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},n.functions=n.methods=function(a){var b=[];for(var c in a)n.isFunction(a[c])&&b.push(c);return b.sort()},n.extend=function(a){if(!n.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)j.call(b,c)&&(a[c]=b[c])}return a},n.pick=function(a,b,c){var d,e={};if(null==a)return e;if(n.isFunction(b)){b=o(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var i=h.apply([],g.call(arguments,1));a=new Object(a);for(var j=0,k=i.length;k>j;j++)(d=i[j])in a&&(e[d]=a[d])}return e},n.omit=function(a,b,c){if(n.isFunction(b))b=n.negate(b);else{var d=n.map(h.apply([],g.call(arguments,1)),String);b=function(a,b){return!n.contains(d,b)}}return n.pick(a,b,c)},n.defaults=function(a){if(!n.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},n.clone=function(a){return n.isObject(a)?n.isArray(a)?a.slice():n.extend({},a):a},n.tap=function(a,b){return b(a),a};var t=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof n&&(a=a._wrapped),b instanceof n&&(b=b._wrapped);var e=i.call(a);if(e!==i.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(n.isFunction(g)&&g instanceof g&&n.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var j,k;if("[object Array]"===e){if(j=a.length,k=j===b.length)for(;j--&&(k=t(a[j],b[j],c,d)););}else{var l,m=n.keys(a);if(j=m.length,k=n.keys(b).length===j)for(;j--&&(l=m[j],k=n.has(b,l)&&t(a[l],b[l],c,d)););}return c.pop(),d.pop(),k};n.isEqual=function(a,b){return t(a,b,[],[])},n.isEmpty=function(a){if(null==a)return!0;if(n.isArray(a)||n.isString(a)||n.isArguments(a))return 0===a.length;for(var b in a)if(n.has(a,b))return!1;return!0},n.isElement=function(a){return!(!a||1!==a.nodeType)},n.isArray=k||function(a){return"[object Array]"===i.call(a)},n.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},n.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){n["is"+a]=function(b){return i.call(b)==="[object "+a+"]"}}),n.isArguments(arguments)||(n.isArguments=function(a){return n.has(a,"callee")}),"function"!=typeof/./&&(n.isFunction=function(a){return"function"==typeof a||!1}),n.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},n.isNaN=function(a){return n.isNumber(a)&&a!==+a},n.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===i.call(a)},n.isNull=function(a){return null===a},n.isUndefined=function(a){return void 0===a},n.has=function(a,b){return null!=a&&j.call(a,b)},n.noConflict=function(){return a._=b,this},n.identity=function(a){return a},n.constant=function(a){return function(){return a}},n.noop=function(){},n.property=function(a){return function(b){return b[a]}},n.matches=function(a){var b=n.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},n.times=function(a,b,c){var d=Array(Math.max(0,a));b=o(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},n.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},n.now=Date.now||function(){return(new Date).getTime()};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},v=n.invert(u),w=function(a){var b=function(b){return a[b]},c="(?:"+n.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};n.escape=w(u),n.unescape=w(v),n.result=function(a,b){if(null!=a){var c=a[b];return n.isFunction(c)?a[b]():c}};var x=0;n.uniqueId=function(a){var b=++x+"";return a?a+b:b},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g,B=function(a){return"\\"+z[a]};n.template=function(a,b,c){!b&&c&&(b=c),b=n.defaults({},b,n.templateSettings);var d=RegExp([(b.escape||y).source,(b.interpolate||y).source,(b.evaluate||y).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(A,B),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,n)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},n.chain=function(a){var b=n(a);return b._chain=!0,b};var C=function(a){return this._chain?n(a).chain():a};n.mixin=function(a){n.each(n.functions(a),function(b){var c=n[b]=a[b];n.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),C.call(this,c.apply(n,a))}})},n.mixin(n),n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];n.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],C.call(this,c)}}),n.each(["concat","join","slice"],function(a){var b=c[a];n.prototype[a]=function(){return C.call(this,b.apply(this._wrapped,arguments))}}),n.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(a){d("cannot get iframe.contentWindow document: "+a)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(a){d("Server abort: ",a," (",a.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action"),g="multipart/form-data",j=l.attr("enctype")||l.attr("encoding")||g;x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&k.push(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?a('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(x)[0]:a('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(x)[0]);m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(a){var p=document.createElement("form").submit;p.apply(x)}}finally{x.setAttribute("action",f),x.setAttribute("enctype",j),c?x.setAttribute("target",c):l.removeAttr("target"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s)return s.abort("timeout"),void y.reject(s,"timeout");if(b==A&&s)return s.abort("server abort"),void y.reject(s,"error","server abort");if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v)throw"timeout";var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),void setTimeout(h,250);var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){return{"content-type":m.dataType}[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(a){f="parsererror",s.error=c=a||f}}catch(a){d("error caught: ",a),f="error",s.error=c=a||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;k<p.length;k++)j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(a){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0==a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&!1===m.beforeSend.call(m.context,s,m))return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;(t=x.clk)&&(u=t.name)&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&!1===b.beforeSubmit(q,this,b))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;!1!==b.iframe&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f,g=this[0],h=this.attr("id"),i=b?g.getElementsByTagName("*"):g.elements;if(i&&!/MSIE [678]/.test(navigator.userAgent)&&(i=a(i).get()),h&&(f=a(':input[form="'+h+'"]').get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length)return d;var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++)if(n=i[j],(l=n.name)&&!n.disabled)if(b&&g.clk&&"image"==n.type)g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}));else if((m=a.fieldValue(n,!0))&&m.constructor==Array)for(c&&c.push(n),k=0,p=m.length;p>k;k++)d.push({name:l,value:m[k]});else if(e.fileapi&&"file"==n.type){c&&c.push(n);var q=n.files;if(q.length)for(k=0;k<q.length;k++)d.push({name:l,value:q[k],type:n.type});else d.push({name:l,value:"",type:n.type})}else null!==m&&void 0!==m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}));if(!b&&g.clk){var r=a(g.clk),s=r[0];(l=s.name)&&!s.disabled&&"image"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&void 0!==e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||void 0===g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(!0===b&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}),function(a){var b=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return void 0===a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return!!(d=c.call(null,e,a,b))&&void 0}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return!(d=c.call(null,e,a,b))&&void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}}}(),c="0.10.5",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]}function d(a){return function(){var c=[].slice.call(arguments,0);return function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix))}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(a){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return!!(b.isNumber(d)&&c()>d)}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),g=function(){"use strict";function c(b){b=b||{},this.cancelled=!1,this.lastUrl=null,this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get,this._cache=!1===b.cache?new e(0):i}function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i.reset()},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),k._cache.set(a,b)}function e(){c&&c(!0)}function i(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var j,k=this;this.cancelled||a!==this.lastUrl||((j=g[a])?j.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(i)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),this.cancelled=!1,this.lastUrl=a,(e=this._cache.get(a))?b.defer(function(){d&&d(null,e)}):this._get(a,c,d),!!e},cancel:function(){this.cancelled=!0}}),c}(),h=function(){"use strict";function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];a=a.sort(c),b=b.sort(c);for(var g=a.length,h=b.length;g>d&&h>e;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},reset:function(){this.datums=[],this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();!function(c){"use strict";function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new f(this.cacheKey):null}function j(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function k(){return!1}var l,m;l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e},e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)}var d,e,f=this;if(this.transport)return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)}var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)}),!c&&d.push(a),d.length<e.limit}),c&&c(e.sorter(d))}var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit?g=this._getFromRemote(a,d):this._cancelLastRemoteRequest(),g||(f.length>0||!this.transport)&&c&&c(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&g.resetCache()},ttAdapter:function(){return b.bind(this.get,this)}})}(this);var j=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),k=function(){"use strict";var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(a.input,{marginTop:"-1px"}),a}(),l=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+a,b)}}),c}(),m=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=!1===a[e].apply(b,c);return!d}return d}function g(){return window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),n=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),o=function(){"use strict";function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,m,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=!!b&&this.query.length!==a.length,this.query=a,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),!(""!==a&&c&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:!document.selection||(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),p=function(){"use strict";function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(j.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",i="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(i)},b.mixin(c.prototype,m,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c;return c=a(j.suggestion).append(p.templates.suggestion(b)).data(g,p.name).data(h,p.displayFn(b)).data(i,b),c.children().each(function(){a(this).css(k.suggestionChild)}),c}var f,l;return f=a(j.suggestions).css(k.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&n({className:"tt-highlight",node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function m(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),q=function(){"use strict";function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new p(a)}return b.mixin(c.prototype,m,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,-1===(d=(d+1)%(b.length+1)-1))return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?k.ltr:k.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:p.extractDatum(a),value:p.extractValue(a),datasetName:p.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),r=function(){"use strict";function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),f.on("blur.tt",function(a){var c,d,g;c=document.activeElement,d=e.is(c),g=e.has(c).length>0,b.isMsie()&&(d||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){f.focus()}))}),e.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=c.eventBus||new l({el:f}),this.dropdown=new q({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new o({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function d(b,c){var d,f,h,i;d=a(b),f=a(j.wrapper).css(k.wrapper),h=a(j.dropdown).css(k.dropdown),i=d.clone().css(k.hint).css(e(d)),i.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?k.input:k.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(a){}return d.wrap(f).parent().prepend(c?i:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(c=this.input.getInputValue(),d=o.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(c+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){a=b.toStr(a),this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){"use strict";var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),f=new r({input:g,eventBus:new l({el:g}),withHint:!!b.isUndefined(c.hint)||!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),g.data(d,f)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b;(b=a(this).data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b;(b=a(this).data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c;(c=a(this).data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(b){var c;return e[b]&&"initialize"!==b?(c=this.filter(function(){return!!a(this).data(d)}),e[b].apply(c,[].slice.call(arguments,1))):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.NProgress=b()}(this,function(){function a(a,b,c){return a<b?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){return("string"==typeof a?a:g(a)).indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.1.6";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)void 0!==(c=a[b])&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!=c.state()?(0==b&&i.start(),a++,b++,c.always(function(){b--,0==b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector))&&h(d),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if((c=e[d]+f)in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)void 0!==(e=b[c])&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i}),function(a,b,c){void 0!==c.module&&c.module.exports?c.module.exports=b.apply(c):void 0!==c.define&&"function"===c.define&&c.define.amd?define(a,[],b):c[a]=b()}("ydn",function(){function a(a){return void 0!==a}function b(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function c(a){return"array"==b(a)}function d(a){var c=b(a);return"array"==c||"object"==c&&"number"==typeof a.length}function e(a){return"string"==typeof a}function f(a){return"boolean"==typeof a}function g(a){return"number"==typeof a}function h(a){return"function"==b(a)}function i(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function j(a,b,c){return a.call.apply(a.bind,arguments)}function k(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function l(a,b,c){return l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:k,l.apply(null,arguments)}function m(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function n(b,c){var d=b.split("."),e=ad;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&a(c)?e[f]=c:e=e[f]?e[f]:e[f]={}}function o(a,b){function c(){}c.prototype=b.prototype,a.r=b.prototype,a.prototype=new c,a.qb=function(a,c,d){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}}function p(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0}function q(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(a){return!1}}function r(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function s(a){for(var b=0;1>b;b++)if('"'==a.charAt(0)&&'"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}function t(a){if(a=String(a),a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d,e=a.charAt(c),f=e.charCodeAt(0),g=c+1;(d=fd[e])||(31<f&&127>f||(e in gd?e=gd[e]:e in fd?e=gd[e]=fd[e]:(f=e,d=e.charCodeAt(0),31<d&&127>d?f=e:(256>d?(f="\\x",(16>d||256<d)&&(f+="0")):(f="\\u",4096>d&&(f+="0")),f+=d.toString(16).toUpperCase()),e=gd[e]=f)),d=e),b[g]=d}return b.push('"'),b.join("")}function u(a){ad.setTimeout(function(){throw a},0)}function v(){if(ad.Promise&&ad.Promise.resolve){var a=ad.Promise.resolve();return function(b){a.then(function(){try{b()}catch(a){u(a)}})}}var b=ad.MessageChannel;if(void 0===b&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=l(function(a){a.origin!=d&&a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),void 0!==b){var c=new b,d={},e=d;return c.port1.onmessage=function(){d=d.next;var a=d.Da;d.Da=null,a()},function(a){e.next={Da:a},e=e.next,c.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){ad.setTimeout(a,0)}}function w(a,b){if(!hd){var c=x;h(ad.setImmediate)?ad.setImmediate(c):(ed||(ed=v()),ed(c)),hd=!0}id.push(new y(a,b))}function x(){for(;id.length;){var a=id;id=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(a){u(a)}}}hd=!1}function y(a,b){this.a=a,this.b=b}function z(a,b){this.b=jd,this.f=void 0,this.a=this.c=null,this.d=this.e=!1;try{var c=this;a.call(b,function(a){C(c,kd,a)},function(a){C(c,ld,a)})}catch(a){C(this,ld,a)}}function A(a,b){a.a&&a.a.length||a.b!=kd&&a.b!=ld||E(a),a.a||(a.a=[]),a.a.push(b)}function B(b,c,d,e){var f={$:null,sa:null,ta:null};return f.$=new z(function(b,g){f.sa=c?function(a){try{var d=c.call(e,a);b(d)}catch(a){g(a)}}:b,f.ta=d?function(c){try{var f=d.call(e,c);!a(f)&&c instanceof H?g(c):b(f)}catch(a){g(a)}}:g}),f.$.c=b,A(b,f),f.$}function C(a,b,c){if(a.b==jd){if(a==c)b=ld,c=new TypeError("Promise cannot resolve to itself");else{if(q(c))return a.b=1,void c.then(a.g,a.h,a);if(i(c))try{var d=c.then;if(h(d))return void D(a,c,d)}catch(a){b=ld,c=a}}a.f=c,a.b=b,E(a),b!=ld||c instanceof H||G(a,c)}}function D(a,b,c){function d(b){f||(f=!0,a.h(b))}function e(b){f||(f=!0,a.g(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(a){d(a)}}function E(a){a.e||(a.e=!0,w(a.j,a))}function F(a){for(;a&&a.d;a=a.c)a.d=!1}function G(a,b){a.d=!0,w(function(){a.d&&md.call(null,b)})}function H(a){r.call(this,a)}function I(a,b){var c=J(a,b,void 0);return 0>c?null:e(a)?a.charAt(c):a[c]}function J(a,b,c){for(var d=a.length,f=e(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function K(a){if(!c(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function L(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function M(a,b){if(!d(a)||!d(b)||a.length!=b.length)return!1;for(var c=a.length,e=N,f=0;f<c;f++)if(!e(a[f],b[f]))return!1;return!0}function N(a,b){return a===b}function O(a,b){this.h=[],this.I=b||null,this.b=this.c=!1,this.e=void 0,this.Q=this.u=this.j=!1,this.g=0,this.d=null,this.o=0}function P(a,b,c){a.c=!0,a.e=c,a.b=!b,a.oa()}function Q(a){if(a.c){if(!a.Q)throw new U;a.Q=!1}}function R(a,b,c,d){return a.h.push([b,c,d]),a.c&&a.oa(),a}function S(a,b){b instanceof O?a.s(l(b.fb,b)):a.s(function(){return b})}function T(a){return qd(a.h,function(a){return h(a[1])})}function U(){r.call(this)}function V(a){this.da=ad.setTimeout(l(this.b,this),0),this.a=a}function W(a){var b=rd[a];b&&(ad.clearTimeout(b.da),delete rd[a])}function X(a){r.call(this,a),this.name="ydn.error.ArgumentException"}function Y(a){r.call(this,a),this.name="ydn.error.NotSupportedException"}function Z(a){r.call(this,a),this.name="ydn.error.NotImplementedException"}function $(a){r.call(this,a),this.name="ydn.error.InvalidOperationException"}function _(a){Error.captureStackTrace?Error.captureStackTrace(this,_):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.error.InternalError"}function aa(b,c){for(var e=d(c),f=e?c:arguments,e=e?0:1;e<f.length&&(b=b[f[e]],a(b));e++);return b}function ba(a){return-1!=sd.indexOf(a)}function ca(){}function da(){}function ea(a,b){O.call(this,0,b),this.f=[]}function fa(b,c){var f,g;for(2==arguments.length&&e(arguments[1])?(f=!0,g=arguments[1].split(".")):g=(f=d(c))?c:arguments,f=f?0:1;f<g.length&&(b=b[g[f]],a(b));f++);return b}function ga(a,b,c){if(a)if(-1==b.indexOf("."))a[b]=c;else{b=b.split(".");for(var d,e=b.pop();d=b.shift();)i(a[d])||(a[d]={}),a=a[d];a[e]=c}}function ha(a){var b=[a];a=new na;for(var c,d,e=0;void 0!==(d=b.pop());){if(0==e%4&&12<e+4&&(a.write(e),e=0),c=typeof d,d instanceof Array){if(e+=4,0<d.length){for(b.push(Fd),c=d.length;c--;)b.push(d[c]);continue}a.write(e)}else if("number"===c)e+=1,a.write(e),ia(a,d);else if(d instanceof Date)e+=2,a.write(e),ia(a,d.valueOf());else if("string"===c){for(e+=3,a.write(e),e=a,c=0;c<d.length;c++){var f=d.charCodeAt(c);126>=f?e.write(f+1):16510>=f?(f-=127,e.write(128|f>>8,255&f)):e.write(192|f>>10,f>>2|255,(3|f)<<6)}e.write(0)}else{if(d!==Fd)return"";a.write(0)}e=0}for(b=a.a.length;"00"===a.a[--b];);return a.a.length=++b,a.toString()}function ia(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){if(0>c&&(d=1,c=-c),f=0,2.2250738585072014e-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/5e-324)}else e=2047,isNaN(c)?f=0x8000000000000:-1/0===c&&(d=1);c=d,d=e,e=f,c&&(e=0xfffffffffffff-e,d=2047-d),a.write((c?0:128)|d>>4),a.write((15&d)<<4|0|e/281474976710656),e%=281474976710656,c=0|e/4294967296,a.write(c>>8,255&c),e%=4294967296,c=0|e/65536,a.write(c>>8,255&c),c=e%65536,a.write(c>>8,255&c)}function ja(a){var b=0|ma(a),c=!(b>>7),d=c?-1:1,e=(127&b)<<4,b=0|ma(a),e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(15&b):15&b],f=6;f--;)b.push(c?255-(0|ma(a)):0|ma(a));for(a=0,f=7;f--;)a=a/256+b[f];return a/=16,0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}function ka(a){for(var b,c,d=[],e=0,f=0,g=0;0!==(b=ma(a))&&null!=b;)0===e?(c=b>>6,2>c&&!isNaN(b)?d.push(String.fromCharCode(b-1)):(e=c,f=b<<10,g++)):2===e?(d.push(String.fromCharCode(f+b+127)),e=f=g=0):2===g?(f+=b<<2,g++):(d.push(String.fromCharCode(f|b>>6)),e=f=g=0);return d.join("")}function la(a){this.a=null,this.b=a,this.c=this.b.length-1,this.index=-1}function ma(a){return a.a=a.index<a.c?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function na(){this.a=[],this.b=void 0}function oa(a,b){var c=ha(a),d=ha(b);return c>d?1:c==d?0:-1}function pa(a,b,c){ea.call(this,0,c),this.m=a,this.f=[],this.l=[],this.X=[],this.a=null,this.S="",this.B=0}function qa(a,b,c){if(a.a=b,a.S=c,b){for(c=0;c<a.l.length;c++)a.l[c][0].call(a.l[c][1],b);a.l.length=0}}function ra(a){var b=new pa(a.m);return a.B++,qa(b,a.a,a.S+"C"+a.B),b}function sa(a,b,c){var d=a.X.shift();c=!!c,d?d[0].call(d[1],b,c,function(b,c){sa(a,b,c)}):c?a.i(b):a.callback(b)}function ta(a,b,c){a.X.push([b,c])}function ua(a,b,c){a.a?b.call(c,a.a):a.l.push([b,c])}function va(a){var b="";return a.S&&(b=a.a?"*":"",b="["+a.S+b+"]"),a.m+b}function wa(a,b){var c=new pa(a);return sa(c,b),c}function xa(){0!=Id&&(this[bd]||(this[bd]=++cd))}function ya(a,b){this.type=a,this.target=b}function za(a,b){ya.call(this,a,b)}function Aa(a,b,c,d,e){ya.call(this,a,b),this.version=c,this.Wa=d,this.Ka=e}function Ba(a,b,c){ya.call(this,c||"error",a),this.error=b}function Ca(a,b){Ba.call(this,a,b,"fail")}function Da(b,c,d){var e;if(i(b))e=b.store,c=b.id,null!=b.parent&&(d=new Da(b.parent));else if(a(c))e=b;else if(e=b.lastIndexOf("^|"),c=b,0<e&&(c=b.substr(e),d=new Da(b.substring(0,e))),c=c.split("^:"),e=c[0],c=c[1],!a(c))throw Error("Invalid key value: "+b);this.b=e,this.a=c,this.c=d||null}function Ea(a){return c(a.a)?a.a.join("^|"):a.a instanceof Date?+a.a:a.a}function Fa(a){if(d(a)){for(var b=[],c=0,e=a.length;c<e;c++)b[c]=a[c];return b}return a}function Ga(a,b,c,d){this.lower=a,this.upper=b,this.lowerOpen=!!c,this.upperOpen=!!d}function Ha(a){return Ja(a)}function Ia(a){var b;if(c(a))b=L(a),b.push("￿");else if(e(a))b=a+"￿";else{if(!g(a))return Ga.only(a);b=a+2.220460492503131e-16,a-=2.220460492503131e-16}return Ga.bound(a,b,!1,!0)}function Ja(a){return null!=a?null!=a.upper&&null!=a.lower?Jd.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Jd.upperBound(a.upper,a.upperOpen):null!=a.lower?Jd.lowerBound(a.lower,a.lowerOpen):null:null}function Ka(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;return null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen),null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen),Ga.bound(c,d,e,f)}function La(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==Gd(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?" > ":" >= ";d.push(a+f+"?"),e.push(Oa(c.lower,b))}null!=c.upper&&(f=c.upperOpen?" < ":" <= ",d.push(a+f+"?"),e.push(Oa(c.upper,b)))}else d.push(a+" = ?"),e.push(Oa(c.lower,b))}function Ma(b,c,d,e){var f,g,h,i;if("starts"==b||"^"==b)return Ia(c);if("<"==b||"<="==b)f=c,h="<"==b;else if(">"==b||">="==b)g=c,i=">"==b;else{if("="!=b&&"=="!=b)throw new X("invalid op: "+b);f=g=c}if("<"==d||"<="==d)f=e,h="<"==d;else if(">"==d||">="==d)g=e,i=">"==d;else if(a(d))throw new X("invalid op2: "+d);return Ga.bound(g,f,i,h)}function Na(b,f,g,h,i,j){if(a(i)||(i=c(b)?b.join(", "):b),null!=b&&!e(b)&&!d(b))throw new X("index keyPath for "+i+" must be a string or array, but "+b+" is "+typeof b);if(!a(b)&&a(i)&&(b=i),this.keyPath=b,this.f=d(this.keyPath),this.a=i,this.type=Qa(f),a(f)){if(!a(this.type))throw new X("type invalid in index: "+this.a);if(c(this.keyPath))throw new X('composite key for store "'+this.a+'" must not specified type')}this.unique=!!g,this.multiEntry=!!h,this.g=e(this.type)?this.type:Kd,this.d=e(i)?i:c(b)?this.keyPath.join(","):b,this.c=t(this.d),this.b=this.f?null:this.keyPath.split("."),this.e=j||null}function Oa(a,b){return"DATE"!=b?null!=b?a:ha(a):a instanceof Date?+a:void 0}function Pa(b,c){var d;if("DATE"==c)d=new Date(b);else if(a(c))d=b;else{for(var e,f,g,h=d=[],i=[],j=new la(b);null!=ma(j);)if(0===j.a)h=i.pop();else{if(null===j.a)break;for(;;){f=j.a/4|0,e=j.a%4;for(var k=0;k<f;k++)g=[],h.push(g),i.push(h),h=g;if(!(0===e&&12<j.a+4))break;ma(j)}1===e?h.push(ja(j)):2===e?h.push(new Date(ja(j))):3===e?h.push(ka(j)):0===e&&(h=i.pop())}d=d[0]}return d}function Qa(a){if(e(a))return a=od(Ld,a),Ld[a]}function Ra(a,b){return null!=a||null!=b?null!=a?null!=b?d(a)&&d(b)?M(a,b)?null:"expect: "+a+", but: "+b:zb(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}function Sa(b,f,g,h,i,j,k){if(!e(b))throw new X("store name must be a string");if(this.d=b,this.keyPath=a(f)?f:null,this.g=d(this.keyPath),null!==this.keyPath&&!e(this.keyPath)&&!this.g)throw new X("keyPath must be a string or array");this.b=!!g;var l;if(null!=h){if(l=Qa(h),!a(l))throw new X('type "'+h+'" for primary key in store "'+this.d+'" is invalid.');if(this.g)throw new X('composite key for store "'+this.d+'" must not specified type')}this.type=null!=l?l:this.b?"INTEGER":void 0,this.f=e(this.keyPath)?this.keyPath.split("."):[],this.a=i||[],this.L=!!j,this.P=!!k,this.j=e(this.type)?this.type:Kd,this.e=c(this.keyPath)?this.keyPath.join(","):e(this.keyPath)?this.keyPath:"_ROWID_",this.c=t(this.e),this.h=[]}function Ta(b){var d=[],e=b.indexes||[];if(c(e))for(var f=0;f<e.length;f++){var g;g=e[f],g=new Na(g.keyPath,g.type,g.unique,g.multiEntry,g.name,g.generator),a(g.keyPath)&&g.keyPath===b.keyPath||d.push(g)}return new Sa(b.name,b.keyPath,b.autoIncrement,"undefined"===b.type||"null"===b.type?void 0:b.type,d,b.dispatchEvents,b.fixed)}function Ua(a,b,c,d,e,f,g){return a=Va(a,b,c,d,e,f,g),b="",0!=c&&(b+="SELECT "+a.select),b+=" FROM "+a.A,a.k&&(b+=" WHERE "+a.k),a.group&&(b+=" GROUP BY "+a.group),a.C&&(b+=" ORDER BY "+a.C),b}function Va(a,b,c,d,f,g,h){var i={select:"",A:"",k:"",group:"",C:""},j=a.e,k=a.c,l=null;d!==j&&e(d)&&(l=Ya(a,d));var m=!!l,n=d||j,o=t(n),p=m?l.type:a.type,q=m&&l.multiEntry;return i.A=_a(a),6===c?i.select="COUNT("+k+")":3===c||1===c||2===c?(i.select=k,null!=d&&d!=j&&(i.select+=", "+o)):i.select="*",d=h?"DISTINCT ":"",j=[],q?(q=t("ydn.db.me:"+a.getName()+":"+l.getName()),i.select=6===c?"COUNT("+d+q+"."+o+")":3===c||1===c||2===c?"DISTINCT "+_a(a)+"."+k+", "+q+"."+o+" AS "+n:"DISTINCT "+_a(a)+".*, "+q+"."+o+" AS "+n,i.A=q+" INNER JOIN "+_a(a)+" USING ("+k+")",null!=f&&(La(q+"."+o,p,f,j,b),0<j.length&&(i.k=i.k?i.k+" AND "+j.join(" AND "):j.join(" AND ")))):null!=f&&(La(o,p,f,j,b),0<j.length&&(i.k=i.k?i.k+" AND "+j.join(" AND "):j.join(" AND "))),m&&!l.unique&&h&&(i.group=o),a=g?"DESC":"ASC",i.C=o+" "+a,m&&(i.C+=", "+k+" "+a),i}function Wa(a,b,c,d,e,f,g,h,i){var j,k,l,m;return null!=e?(j=e.lower,k=e.upper,l=e.lowerOpen,m=e.upperOpen,f?null!=k?(e=Gd(h,k),-1==e?(k=h,m=i):0==e&&(m=i||m)):(k=h,m=i):null!=j?(e=Gd(h,j),1==e?(j=h,l=i):0==e&&(l=i||l)):(j=h,l=i)):f?(k=h,m=i):(j=h,l=i),e=new Ga(j,k,!!l,!!m),d=d?Ya(a,d):null,b=Va(a,c,b,d?d.d:a.e,e,f,g),b="SELECT "+b.select+" FROM "+b.A+(b.k?" WHERE "+b.k:"")+(b.group?" GROUP BY "+b.group:"")+" ORDER BY "+b.C,d&&(b+=", "+a.c+(f?"DESC":"ASC")),b}function Xa(a,b,c,d,e,f,g,h,i,j){var k=Ya(a,d),l=k.d;d=k.c;var m=a.c,n=i?" <":" >",n=g?n+" ":n+"= ";return g=Oa(f,k.type),h=Oa(h,a.type),k="",e?(a=Va(a,c,b,l,e,i,j),a.k+=" AND ",k=d+n+"?",c.push(g)):(e=i?Ga.upperBound(f,!0):Ga.lowerBound(f,!0),a=Va(a,c,b,l,e,i,j),k=a.k,a.k=""),a.k+="("+k+" OR ("+d+" = ? AND "+m+n+"?))",c.push(g),c.push(h),"SELECT "+a.select+" FROM "+a.A+" WHERE "+a.k+(a.group?" GROUP BY "+a.group:"")+" ORDER BY "+a.C}function Ya(a,b){return I(a.a,function(a){return a.getName()==b})}function Za(a,b){for(var c=0;c<a.a.length;c++)if(!Ra(a.a[c].keyPath,b))return a.a[c];return null}function $a(a,b){return b===a.keyPath||qd(a.a,function(a){return a.getName()==b})}function _a(a){return t(a.d)}function ab(b,d){if(!d)return b;var f=b.b,g=c(b.keyPath)?L(b.keyPath):b.keyPath,h=b.type,i=pd(b.a,function(a){return a.clone()});a(d.type)||"TEXT"!=h||(h=void 0),c(d.keyPath)&&e(g)&&g==d.keyPath.join(",")&&(g=L(d.keyPath));for(var j=0,k=d.a.length;j<k;j++)if(d.a[j].f)for(var l=d.a[j].getName(),m=i.length-1;0<=m;m--)if(0<=l.indexOf(i[m].getName())){i[m]=d.a[j].clone();break}for(j=0;j<i.length;j++)(k=Ya(d,i[j].getName()))&&(i[j]=i[j].hint(k));return new Sa(d.d,g,f,h,i)}function bb(a){return!!a.keyPath}function cb(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.g){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(fa(b,a.keyPath[d]));return c}if(a.keyPath)return aa(b,a.f)}}function db(b,c,d){for(var e=0;e<b.f.length;e++){var f=b.f[e];if(e==b.f.length-1){c[f]=d;break}a(c[f])||(c[f]={}),c=c[f]}}function eb(b,c,f){var g=[],h=[];f=a(f)?f:cb(b,c),a(f)&&(h.push(b.c),g.push(Oa(f,b.type)));for(var i=0;i<b.a.length;i++){var j=b.a[i];if(!j.multiEntry&&j.getName()!==b.keyPath&&"_default_"!=j.getName()){var k;k=j;var l=c;if(null!=l)if(d(k.keyPath)){for(var m=[],n=0,o=k.keyPath.length;n<o;n++){var p=fa(l,k.keyPath[n]);m[n]=p}k=m}else k=fa(l,k.keyPath);else k=void 0;null!=k&&(g.push(Oa(k,j.type)),h.push(j.c))}}for(b.P?b.P&&!b.keyPath&&0==b.a.length&&(e(c)&&-1==c.indexOf(";base64,")?g.push(c):g.push(kb(c)),h.push("_default_")):(g.push(kb(c)),h.push("_default_")),b=[],i=g.length-1;0<=i;i--)b[i]="?";return{Fa:h,Ra:b,w:g,key:f}}function fb(b,c){if(!c)return"missing store: "+b.d;if(b.d!=c.d)return"store name, expect: "+b.d+", but: "+c.d;var e=Ra(b.keyPath,c.keyPath);if(e)return"keyPath, "+e;if(a(b.b)&&a(c.b)&&b.b!=c.b)return"autoIncrement, expect:  "+b.b+", but: "+c.b;if(b.a.length!=c.a.length)return"indexes length, expect:  "+b.a.length+", but: "+c.a.length;if(a(b.type)&&a(c.type)&&(d(b.type)?!M(b.type,c.type):b.type!=c.type))return"data type, expect:  "+b.type+", but: "+c.type;for(e=0;e<b.a.length;e++){var f,g=Ya(c,b.a[e].getName());if(f=b.a[e],g)if(f.a!=g.a)f="name, expect: "+f.a+", but: "+g.a;else{var h=Ra(f.keyPath,g.keyPath);f=h?"keyPath, "+h:null!=f.unique&&null!=g.unique&&f.unique!=g.unique?"unique, expect: "+f.unique+", but: "+g.unique:null!=f.multiEntry&&null!=g.multiEntry&&f.multiEntry!=g.multiEntry?"multiEntry, expect: "+f.multiEntry+", but: "+g.multiEntry:a(f.type)&&a(g.type)&&(d(f.type)?!M(f.type,g.type):f.type!=g.type)?"data type, expect: "+f.type+", but: "+g.type:""}else f="no index for "+f.a;if(0<f.length)return'index "'+b.a[e].getName()+'" '+f}return""}function gb(a,b){if(b)for(var d=0;d<a.a.length;d++){var e=a.a[d],f=b;if(e.e){var g=e.e(f),h=typeof g;if("string"==h||"number"==h||g instanceof Date||c(g)){for(h=0;h<e.b.length-1;h++)i(f[e.b[h]])||(f[e.b[h]]={});f[e.b[e.b.length-1]]=g}}}}function hb(a,b,c,d,e){for(var f=0;f<a.h.length;f++)d!==f&&a.h[f].call(e,b,c)}function ib(a){return!e(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)}function jb(a){var b;try{b=kb(a)}catch(a){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function kb(a){return JSON.stringify(a,void 0,void 0)}function lb(a){this.a=a}function mb(a,b){this.name=a,this.a=b}function nb(a){if(!c(a.sources))throw new X("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");var b=a.sources.map(function(a){return new lb(a.storeName)});return new mb(a.name,b)}function ob(b,d){var f,h,j=d;if(i(b)){h=b,f=h.version;for(var j=[],k=h.stores||[],l=0;l<k.length;l++){var m=Ta(k[l]);j.push(m)}}else e(b)?f=0==b.length?void 0:parseFloat(b):g(b)&&(f=b);if(a(f)){if(!g(f)||0>f)throw new X("Invalid version: "+f+" ("+b+")");isNaN(f)&&(f=void 0)}if(a(d)&&(!c(d)||0<d.length&&!(d[0]instanceof Sa)))throw new X("stores");if(this.version=f,this.b=!a(this.version),this.stores=j||[],f=[],h&&h.fullTextCatalogs)for(l=0;l<h.fullTextCatalogs.length;l++)j=nb(h.fullTextCatalogs[l]),f[l]=j,qb(this,j.getName())||(k=[new Na("k",Kd),new Na("v",Kd)],j=new Sa(j.getName(),"id",!1,void 0,k,!1,!1),this.stores.push(j));this.c=f}function pb(a){return pd(a.stores,function(a){return a.getName()})}function qb(a,b){return I(a.stores,function(a){return a.getName()==b})}function rb(a,b){return qd(a.stores,function(a){return a.getName()==b})}function sb(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=qb(b,a.stores[e].getName());if(!f)return'missing object store "'+a.stores[e].getName()+'"';if(c&&(f=ab(f,a.stores[e])),d)for(var g=f,h=a.stores[e],i=0;i<h.a.length;i++){var j=h.a[i];$a(g,j.getName())||"BLOB"!=j.type||(j=new Na(j.keyPath,j.type,j.unique,j.multiEntry,j.getName()),g.a.push(j))}if(f=fb(a.stores[e],f),0<f.length)return'store: "'+a.stores[e].getName()+'" '+f}return""}function tb(a,b){ob.call(this,a,b)}function ub(a,b){a.stores.push(b)}function vb(a){Error.captureStackTrace?Error.captureStackTrace(this,vb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.error.InternalError"}function wb(a){Error.captureStackTrace?Error.captureStackTrace(this,wb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.error.ConstraintError"}function xb(a){Error.captureStackTrace?Error.captureStackTrace(this,xb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.error.InvalidOperationException"}function yb(a){Error.captureStackTrace?Error.captureStackTrace(this,yb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.error.InvalidOperationError"}function zb(a,b){var c;if(c=c||{},null!=a&&null!=b){if(d(a)&&d(b)){if(a.length!=b.length)return!1;for(var e=0;e<a.length;e++)if(-1==I(b,function(b){return zb(b,a[e])}))return!1;return!0}if(d(a))return 1==a.length&&zb(a[0],b);if(d(b))return 1==b.length&&zb(b[0],a);if(i(a)&&i(a)){for(var f in a)if(a.hasOwnProperty(f)&&!c[f]){var g=zb(a[f],b[f]);if(!g)return!1}for(f in b)if(b.hasOwnProperty(f)&&!c[f]&&!(g=zb(a[f],b[f])))return!1;return!0}return a===b}return!1}function Ab(b,c,d){d=d||{},this.l=d.mechanisms||Md,this.j=d.size,this.m=a(d.connectionTimeout)?d.connectionTimeout:6e4,this.a=null,this.e=[],this.ea=!1;var e;if(c instanceof ob)e=c;else if(i(c)){e=d.autoSchema||!a(c.stores)?new tb(c):new ob(c);var f=c.stores?c.stores.length:0;for(d=0;d<f;d++)qb(e,c.stores[d].name)}else e=new tb;for(this.b=e,d=0;d<this.b.count();d++);a(b)&&this.h(b),this.d=new O}function Bb(a,b){var c=b instanceof Sa?b:Ta(b);if(0==fb(c,qb(a.b,b.name)).length)(new O).callback(!1);else{if(!(a.b instanceof tb))throw new wb("");ub(a.b,c),a.a?(a.a.close(),a.a=null,Cb(a)):(new O).callback(!1)}}function Cb(a){function b(b,e){b?(a.Ha=NaN,d.Va=function(){},d.ya=function(){a.a=null},d.La=function(){},setTimeout(function(){Db(a,e),Fb(a)},10),c.callback(e)):(setTimeout(function(){if(Db(a,new Ca(a,e)),a.e)for(var b;b=a.e.shift();)b.t&&b.t("error",e)},10),c.i(e))}for(var c=new O,d=null,e=a.l,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.ma(g)){d=a.ma(g);break}}null===d?(e=new wb("No storage mechanism found."),b(!1,new Ca(a,e))):R(d.wa(a.f,a.b),function(a){this.a=d,b(!0,new Aa("ready",this,parseFloat(d.Ua()),parseFloat(a),null))},function(a){b(!1,a)},a)}function Db(a,b){setTimeout(function(){a.b.b&&a.d.c||(b instanceof Ba?a.d.i(b.error):a.d.callback())},4)}function Eb(a){return!!a.a&&a.a.xa()}function Fb(a){var b=a.e.shift();b&&a.transaction(b.ca,b.gb,b.mode,b.t),a.Ha=dd()}function Gb(a,b,c,d){xa.call(this),this.a=c,this.ua=c.getName(),this.g=void 0,this.e=!1,this.O=null,this.j=a,this.l=this.h=!1,this.B=d||4,this.Q=this.f=this.c=void 0,this.o=function(){throw new _},this.I=function(){throw new _},this.X=function(){}}function Hb(a,b){a.I(b),Ib(a),a.h=!0}function Ib(a){null!=a.f?a.f=Fa(a.f):a.f=void 0,null!=a.c?a.c=Fa(a.c):a.c=void 0,a.X(a.l,a.c,a.f)}function Jb(a){a.l=!0,Ib(a)}function Kb(){}function Lb(b,c,d,f,g,h,i){this.b=b,this.d=c,this.j=i,this.l=!!this.d,this.c=a(h)?h:!!e(this.d),b="next",f&&g?b="prevunique":f?b="prev":g&&(b="nextunique"),this.f=b,this.a=Ja(d),this.e=Nd,this.m=NaN}function Mb(a,b,c){return a=new Lb(a.b,a.d,a.a,Nb(a),Ob(a),a.c,a.j),a.g=b,a.h=c,a.e="rest",a}function Nb(a){return"prev"===a.f||"prevunique"===a.f}function Ob(a){return"nextunique"===a.f||"prevunique"===a.f}function Pb(a,b,c,d){b=b||Nd,"busy"!=a.e&&(a.g=c,a.h=d,a.e=b)}function Qb(a){this.b=a||null,this.a=!1}function Rb(a,b){var c;for(a.a=Nb(b[0]),c=0;c<b.length;c++);return!1}function Sb(a){Error.captureStackTrace?Error.captureStackTrace(this,Sb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ConstraintError"}function Tb(a){Error.captureStackTrace?Error.captureStackTrace(this,Tb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="InvalidStateError"}function Ub(a){Error.captureStackTrace?Error.captureStackTrace(this,Ub):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="InvalidAccessError"}function Vb(a){Error.captureStackTrace?Error.captureStackTrace(this,Vb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="NotFoundError"}function Wb(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Wb):this.stack=Error().stack||"",b&&(this.message=String(b)),this.message+=" :"+a.message+" ["+a.code+"]",this.name="SQLError"}function Xb(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Xb):this.stack=Error().stack||"",b&&(this.message=String(b)),this.message+=" :"+a.message,this.name="SecurityError"}function Yb(a){Error.captureStackTrace?Error.captureStackTrace(this,Yb):this.stack=Error().stack||"",a&&(this.message=String(a)),this.name="ydn.db.TimeoutError"}function Zb(a,b){this.a=b}function $b(a){this.d=a,this.a=null,this.b=0}function _b(a){return!!a.a&&!a.c}function ac(a,b,c,d,e,f){this.h=a,this.B=b,this.a=this.d=0,this.u=d,this.o=e,this.f=c||Od,this.j=f||0}function bc(a){if(!a)throw new Tb("No active transaction");if(h(a.abort))a.abort();else{if(!h(a.executeSql))throw new Y;a.executeSql("ABORT",[],null,function(){return!0})}}function cc(a,b,c,d,e,f){ac.call(this,a,b,c,d,e,f),this.c=[],this.e=[],this.g=null,this.b=new $b(b),this.l=f||0,this.m=!1}function dc(a,b,c){if("multi"==a.f)a:if(a=a.b,!a.v||!a.mode||c!=a.mode&&(a.mode!=Cd||c!=Bd)||b.length>a.v.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.v.indexOf(b[c])){b=!1;break a}b=!0}else if("repeat"==a.f)a:if(a=a.b,a.v&&a.mode&&c==a.mode&&a.v.length==b.length){for(c=0;c<b.length;c++)if(-1==a.v.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b="all"==a.f;return b}function ec(a){var b=0<a.c.length?a.c[0].v:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c&&dc(a,b,c)}function fc(a,b){cc.call(this,a,b)}function gc(a,b,c){this.c=a,this.b=b,this.a=c,this.d=null}function hc(a){if(!a.d){var b;b=a.c;var c=b.za();if("indexeddb"==c)b=new yc(0,b.b);else{if("websql"!=c&&"sqlite"!=c)throw new _("No executor for "+c);b=new Gc(0,b.b)}a.d=b}return a.d}function ic(a,b,c){gc.call(this,a,b,c)}function jc(a,b){var c=e(b)?b:i(b)?b.name:void 0;if(!e(c))throw new X("store name must be a string");var d=qb(a.b,c);if(d){if(a.b.a()&&i(b)){var f=Ta(b);if(f=fb(d,f))throw new Y(f)}}else{if(!a.b.a())throw new Vb(c);d=Ta(i(b)?b:{name:c}),Bb(a.c,d)}if(!d)throw new Vb(c);return d}function kc(a,b,c){gc.call(this,a,b,c)}function lc(b,d,e){var f,g=Cd||Bd,h=[];for(f=0;f<e.length;f++)for(var j=e[f].stores(),k=0;k<j.length;k++)0<=od(h,j[k])||h.push(j[k]);return f=b.a.request("qa",h),b.a.K(f,function(f,g,h){function j(){for(var a=0,c=0;c<e.length;c++){var d=e[c],h=[hc(b).b(f,g,d.b)],d=d.load(h);d.I=k,d.o=m(l,a),s[c]=d,p[a]=c,a++}n=e.length}function k(a){for(var b=0;b<s.length;b++)Jb(s[b]);K(s),h(a,!0)}function l(b,f){if(o)throw new vb;t++;var g=t===n,j=p[b],k=e[j],l=s[j],j=l.G(),l=l.Z();if(q[b]=f,r[b]=k.l?k.c?j:l:k.c?f:l,g){var m;if(m=d instanceof Qb?d.c(q,r):d(q,r),g=[],k=[],j=[],l=[],c(m))for(var u=0;u<m.length;u++)!0===m[u]?j[u]=1:!1===m[u]?l[u]=!0:k[u]=m[u];else if(null===m)g=[];else if(a(m)){if(!i(m))throw new $("scan callback output");g=m.continuePrimary||[],k=m.continue||[],j=m.advance||[],l=m.restart||[]}else for(g=[],u=0;u<e.length;u++)a(p[u])&&(j[u]=1);for(u=t=m=0;u<e.length;u++)null!=g[u]||a(k[u])||null!=l[u]||null!=j[u]||t++;for(u=0;u<e.length;u++)if(null!=g[u]||a(k[u])||null!=l[u]||null!=j[u]){var v=p[u];if(!a(v))throw new xb(u+" is not an iterator.");var v=e[v],w=s[u];if(q[u]=void 0,r[u]=void 0,null!=l[u])v=w,v.h=!1,v.l=!1,v.openCursor(void 0,void 0);else if(a(k[u]))w.T(k[u]);else if(null!=g[u])w.ia(g[u]);else{if(null==j[u])throw new vb(v+": has no action");w.advance(1)}m++}if(0==m){for(m=0;m<s.length;m++)Jb(s[m]);o=!0,K(s),h(void 0)}}}var n,o=!1,p=[],q=[],r=[],s=[],t=0;d instanceof Qb?Rb(d,e)||j():j()},h,g),f}function mc(a,b,c,d){var e=c.b,f=c.d||null,g=d||100,h=a.a.request("u",[e]),i="done"==c.e||c.e==Nd?[]:[c.g,c.h];return ua(h,function(){hc(this).V(h,b,e,f,c.a?c.a instanceof Jd?c.a:Jd.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,Nb(c),Ob(c),i)},a),h.s(function(){null!=i[0]?Pb(c,"rest",i[0],i[1]):Pb(c)}),h}function nc(b,c,d,e,f){var g=[],h=d.a,i=va(d);b=hc(b);for(var j=[],k=e.stores(),l=0;l<k.length;l++)j[l]=b.b(h,i,k[l]);var m=e.load(j);m.I=function(a){Jb(m),sa(d,a,!0)};var n=0,o=!1;m.o=function(b){o||(o=!0),null!=b?(m.G(),n++,1==c?g.push(b):2==c?g.push(m.G()):3==c?g.push([b,m.G()]):6!=c&&g.push(m.Z()),5==c?(Jb(m),sa(d,g[0])):6==c||!a(f)||n<f?m.T():(Jb(m),sa(d,g))):(Jb(m),sa(d,5==c?g[0]:6==c?n:g))}}function oc(a,b,c,d){this.d=a,this.a=L(c),this.b=d,this.c=[]}function pc(a,b,c){if(!a.d)throw new _("tx committed on ParallelTxExecutor");c&&a.c.push(c),b(a.d)}function qc(a,b,c,d,e,f){ac.call(this,a,b,c,d,e,f),this.c=this.b=null}function rc(a,b){qc.call(this,a,b,Od)}function sc(b,c,d){Ab.call(this,b,c,d),this.R=0,b=!0,c=Od,d&&(a(d.isSerial)&&(b=!!d.isSerial),d.policy&&(c=d.policy)),d=tc(this,c,b),this.g=tc(this,"atomic",!1),this.c=this.W(d,this.g)}function tc(a,b,c,d,e,f){if(c){if("multi"==b||"repeat"==b||"all"==b||b==Od)return new cc(a,a.R++,b,d,e,f);if("atomic"==b)return new fc(a,a.R++);throw new X('Invalid requestType "'+b+'"')}if("multi"==b||"repeat"==b||"all"==b||b==Od)return new qc(a,a.R++,b,d,e,f);if("atomic"==b)return new rc(a,a.R++);throw new X('Invalid requestType "'+b+'"')}function uc(a,b,c){for(sc.call(this,a,b,c),a=this.b,b=0;b<a.c.length;b++){c=a.c[b];var d=qb(a,c.getName());if(!d)throw new X('full text index store "'+c.getName()+'" required.');if(!$a(d,"k"))throw new X('full text index store "'+d.getName()+'" must have "keyword" index');if(!$a(d,"v"))throw new X('full text index store "'+d.getName()+'" must have "keyword" index');if("id"!=d.keyPath)throw new X('full text index store "'+d.getName()+'" must use "id" as key path.');for(d=0;d<c.count();d++){var e=c.index(d);if(!qb(a,e.a))throw new X('full text source store "'+e.a+'" does not exist for full text index "'+c.getName()+'"')}}}function vc(a,b,c){uc.call(this,a,b,c)}function wc(a,b,c,d){Gb.call(this,a,0,c,d),this.b=null}function xc(a,b){this.a=b}function yc(a,b){this.a=b}function zc(a,b,c,d){Gb.call(this,a,0,c,d),this.u=null,this.b=this.d=void 0}function Ac(b,c){if(b.d=void 0,b.b=void 0,b.m=void 0,a(c))if(i(c)){var d=Pa(c[b.a.e],b.a.type);if(b.b=d,b.e){var e=Ya(b.a,b.g);b.d=Pa(c[b.g],e.type)}else b.d=d;b.m=b.fa?d:Ec(c,b.a)}else b.m=c}function Bc(a,b,c){Ya(a.a,a.g);var d=[],e=a.g,f=a.O,g=a.d;if(null!=f){var h=f.lower,i=f.upper,j=f.lowerOpen,k=f.upperOpen;a.p?i=null!=i&&-1==Gd(i,g)?i:g:h=null!=h&&1==Gd(h,g)?h:g,f=null!=h&&null!=i?Ga.bound(h,i,!!j,!!k):null!=h?Jd.lowerBound(h,!!j):Jd.upperBound(i,!!k)}else f=a.p?Jd.upperBound(g):Jd.lowerBound(g);e=Va(a.a,d,a.B,e,f,a.p,a.unique),c=a.p?Jd.upperBound(c,!1):Jd.lowerBound(c,!1),c=Va(a.a,d,a.B,a.a.e,c,a.p,a.unique),e.k=e.k?e.k+" AND "+c.k:c.k,c="SELECT "+e.select+" FROM "+e.A+(e.k?" WHERE "+e.k:"")+(e.group?" GROUP BY "+e.group:"")+" ORDER BY "+e.C,c+=" LIMIT 1",ca(a+": continuePrimary:  SQL: "+c+" : "+kb(d)),a.j.executeSql(c,d,function(c,d){0<d.rows.length?Ac(a,d.rows.item(0)):Ac(a),b.call(a,a.d,a.b,a.m),b=null},function(c,d){return Hb(a,d),Ac(a),b.call(a,a.b,a.d,a.m),b=null,!1})}function Cc(a,b,c,d,e,f){var g=!d;d=[],a.e&&null!=f&&null!=c?c=Xa(a.a,a.B,d,a.u.getName(),a.O,c,g,f,a.p,a.unique):null!=c?c=Wa(a.a,a.B,d,a.u?a.u.getName():null,a.O,a.p,a.unique,c,g):(c=Ua(a.a,d,a.B,a.e?a.u.d:a.a.e,a.O,a.p,a.unique),a.e&&(c+=", "+a.a.c+" ASC")),c+=" LIMIT 1",0<e&&(c+=" OFFSET "+e),ca(a+": continue:  SQL: "+c+" : "+kb(d)),a.j.executeSql(c,d,function(c,d){0<d.rows.length?Ac(a,d.rows.item(0)):Ac(a),b.call(a,a.d,a.b,a.m),b=null},function(c,d){return Hb(a,d),Ac(a),b.call(a,a.b,a.d,a.m),b=null,!1})}function Dc(a,b){this.a=b}function Ec(b,c){if(c.P&&!c.keyPath&&0==c.a.length&&b._default_){var d=b._default_;if(-1==d.indexOf(";base64,"))return ib(d);'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substr(1,d.length-2));for(var e=d.split(";base64,"),d=e[0].split(":")[1],e=window.atob(e[1]),f=e.length,g=new Uint8Array(f),h=0;h<f;++h)g[h]=e.charCodeAt(h);return new Blob([g.buffer],{type:d})}for(d=b._default_?ib(b._default_):{},null!=c.keyPath&&null!=(e=Pa(b[c.keyPath],c.type))&&db(c,d,e),e=0;e<c.a.length;e++)if(f=c.index(e),"_default_"!=(g=f.d)&&!f.f&&!f.multiEntry&&("DATE"==f.type||c.P)&&(h=Pa(b[g],f.type),a(h)))for(var g=d,j=0;j<f.b.length;j++)j==f.b.length-1?g[f.b[j]]=h:i(g[f.b[j]])||(g[f.b[j]]={});return d}function Fc(b,c,d,e,f){function g(a){a="DELETE FROM  "+t("ydn.db.me:"+i.getName()+":"+a.getName())+k,h.executeSql(a,j)}var h=c.a,i=qb(b.a,d);b="DELETE FROM "+_a(i),d=[];var j=[],k="";for(null!=f&&(a(e)?(e=Ya(i,e),La(e.c,e.type,f,j,d)):La(i.c,i.type,f,j,d),k=" WHERE "+j.join(" AND ")),h.executeSql(b+k,d,function(a,b){sa(c,b.rowsAffected)},function(a,b){return sa(c,b,!0),!1}),f=0,e=i.a.length;f<e;f++)b=i.index(f),b.multiEntry&&g(b)}function Gc(a,b){this.a=b}function Hc(a,b){this.n=null,this.Y=b||NaN}function Ic(a,b,c){function d(){var b={autoIncrement:!!c.b};return null!=c.keyPath&&(b.keyPath=c.keyPath),a.createObjectStore(c.getName(),b)}if(a.objectStoreNames.contains(c.getName())){b=b.objectStore(c.getName()),Ra(c.keyPath||"",b.keyPath||"")?(a.deleteObjectStore(c.getName()),b=d()):f(b.autoIncrement)&&f(c.b)&&b.autoIncrement!=c.b&&(a.deleteObjectStore(c.getName()),b=d());for(var e=b.indexNames,g=0;g<c.a.length;g++){var h=c.index(g);!e.contains(h.getName())&&h.e&&b.clear()}for(var i=0,j=0,k=0,g=0;g<c.a.length;g++){var h=c.index(g),l=!1;if(e.contains(h.getName())){var m=b.index(h.getName()),n=null!=m.unique&&null!=h.unique&&m.unique!=h.unique,o=null!=m.multiEntry&&null!=h.multiEntry&&m.multiEntry!=h.multiEntry,m=null!=m.keyPath&&null!=h.keyPath&&!!Ra(m.keyPath,h.keyPath);(n||o||m)&&(b.deleteIndex(h.getName()),l=!0,i--,k++)}else"BLOB"!=h.type&&(l=!0);l&&(h.unique||h.multiEntry?(l={unique:h.unique,multiEntry:h.multiEntry},b.createIndex(h.getName(),h.keyPath,l)):b.createIndex(h.getName(),h.keyPath),i++)}for(g=0;g<e.length;g++)$a(c,e[g])||(b.deleteIndex(e[g]),j++)}else for(b=d(),g=0;g<c.a.length;g++)h=c.index(g),"BLOB"!=h.type&&(h.unique||h.multiEntry?(l={unique:h.unique,multiEntry:h.multiEntry},b.createIndex(h.getName(),h.keyPath,l)):b.createIndex(h.getName(),h.keyPath))}function Jc(b,c){this.a=a(b)?b:4194304,this.b=c||"websql"}function Kc(a){var b=a.j,c="CREATE TABLE IF NOT EXISTS "+_a(a)+" (",d=a.c,c=c+(d+" ")+b+" PRIMARY KEY ";a.b&&(c+=" AUTOINCREMENT "),a.P&&(a.keyPath||0!=a.a.length)||(c+=" ,_default_ BLOB");for(var f=[],g=[d],h=0,i=a.a.length;h<i;h++){var j=a.index(h),k="";if(j.multiEntry)k=j.unique?" UNIQUE ":"",j="CREATE TABLE IF NOT EXISTS "+t("ydn.db.me:"+a.getName()+":"+j.getName())+" ("+d+" "+b+", "+j.c+" "+j.g+k+")",f.push(j);else{j.unique&&(k=" UNIQUE ");var l=j.keyPath;"BLOB"!=j.type&&e(l)&&(l="CREATE "+k+" INDEX IF NOT EXISTS "+t(a.getName()+"-"+j.getName())+" ON "+_a(a)+" ("+j.c+")",f.push(l)),l=j.c,-1==g.indexOf(l)&&(c+=", "+l+" "+j.g+k,g.push(l))}}return f.unshift(c+")"),f}function Lc(a,b,c,d){function e(b){a.executeSql(b,[],function(){++f==g.length&&(c(!0),c=null)},function(a,b){throw f++,f==g.length&&(c(!1),c=null),new Wb(b,'"')})}var f=0,g=Kc(b);if(d){if(0==fb(b,d).length)return c(!0),void(c=null);g.unshift("DROP TABLE IF EXISTS "+t(b.getName()))}for(b=0;b<g.length;b++)e(g[b])}function Mc(a,b,c){uc.call(this,a,b,c)}function Nc(a,b,c){this.db=a,this.b=b,this.type=c||0,this.c=null}function Oc(a){Qb.call(this,a)}function Pc(a){Qb.call(this,a)}function Qc(a,b,c,d){this.c=a,this.a=b||null,this.f=!!c,this.e=!!d,this.b=[],this.d=[]}function Rc(a,b){for(var c=b.length-1;0<=c&&b[c]==a.b[a.b.length-1];c--)b=b.slice(0,c);return a.d=b,null}function Sc(a,b){if((0!=a.b.length||0!=a.d.length)&&Vc(a)&&!Tc(a))throw new Sb('Require index "'+a.b.concat(a.d).join(", ")+'" not found in store "'+a.c.getName()+'"');var c=new Lb(a.c.getName(),Uc(a),a.a,a.f,a.e,!!b);return c.m=a.b.length,c}function Tc(a){var b=a.b.concat(a.d),c=Za(a.c,b);return c||b[b.length-1]==a.c.keyPath&&(c=Za(a.c,b.slice(0,b.length-1)))?c:null}function Uc(a){return(a=Tc(a))?a.getName():void 0}function Vc(a){return 0<a.b.length||(1==a.d.length?a.d[0]!=a.c.keyPath:1<a.d.length)}function Wc(a,b,c,d){Nc.call(this,a,b,c),this.a=d}function Xc(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Sc(a.a[c]);return b}function Yc(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}function Zc(a,b,c,d){Nc.call(this,a,b,c),this.a=d}function $c(a){return Sc(a.a,!(2==a.type||3==a.type||1==a.type))}var _c,ad=this,bd="closure_uid_"+(1e9*Math.random()>>>0),cd=0,dd=Date.now||function(){return+new Date};o(r,Error),r.prototype.name="CustomError";var ed,fd={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},gd={"'":"\\'"},hd=!1,id=[],jd=0,kd=2,ld=3;z.prototype.then=function(a,b,c){return B(this,h(a)?a:null,h(b)?b:null,c)},p(z),z.prototype.g=function(a){this.b=jd,C(this,kd,a)},z.prototype.h=function(a){this.b=jd,C(this,ld,a)},z.prototype.j=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.f;this.b==kd?c.sa(d):(F(this),c.ta(d))}}this.e=!1};var md=u;o(H,r),H.prototype.name="cancel";var nd=Array.prototype,od=nd.indexOf?function(a,b,c){return nd.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,e(a))return e(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},pd=nd.map?function(a,b,c){return nd.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=e(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},qd=nd.some?function(a,b,c){return nd.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=e(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return!0;return!1};_c=O.prototype,_c.aa=function(a,b){this.j=!1,P(this,a,b)},_c.callback=function(a){Q(this),P(this,!0,a)},_c.i=function(a){Q(this),P(this,!1,a)},_c.s=function(a,b){return R(this,a,null,b)},_c.Ca=function(a,b){return R(this,null,a,b)},_c.Ba=function(a,b){return R(this,a,a,b)},_c.then=function(a,b,c){var d,e,f=new z(function(a,b){d=a,e=b});return R(this,d,function(a){e(a)}),f.then(a,b,c)},p(O),O.prototype.fb=function(a){var b=new O;return R(this,b.callback,b.i,b),a&&(b.d=this,this.o++),b},O.prototype.oa=function(){this.g&&this.c&&T(this)&&(W(this.g),this.g=0),this.d&&(this.d.o--,delete this.d);for(var b=this.e,c=!1,d=!1;this.h.length&&!this.j;){var e=this.h.shift(),f=e[0],g=e[1],e=e[2];if(f=this.b?g:f)try{var h=f.call(e||this.I,b);a(h)&&(this.b=this.b&&(h==b||h instanceof Error),this.e=b=h),q(b)&&(this.j=d=!0)}catch(a){b=a,this.b=!0,T(this)||(c=!0)}}this.e=b,d&&(d=l(this.aa,this,!0),h=l(this.aa,this,!1),b instanceof O?(R(b,d,h),b.u=!0):b.then(d,h)),c&&(b=new V(b),rd[b.da]=b,this.g=b.da)},o(U,r),U.prototype.message="Deferred has already fired",U.prototype.name="AlreadyCalledError",V.prototype.b=function(){throw delete rd[this.da],this.a};var rd={};o(X,r),o(Y,r),o(Z,r),o($,r),o(_,Error),_.prototype.name="ydn.error.InternalError";var sd;a:{var td=ad.navigator;if(td){var ud=td.userAgent;if(ud){sd=ud;break a}}sd=""}var vd=ba("Opera")||ba("OPR"),wd=ba("Trident")||ba("MSIE"),xd=ba("Gecko")&&-1==sd.toLowerCase().indexOf("webkit")&&!(ba("Trident")||ba("MSIE")),yd=-1!=sd.toLowerCase().indexOf("webkit");!function(){var a,b="";vd&&ad.opera?(b=ad.opera.version,h(b)&&b()):(xd?a=/rv\:([^\);]+)(\)|;)/:wd?a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:yd&&(a=/WebKit\/(\S+)/),a&&(b=(b=a.exec(sd))?b[1]:""),wd&&(a=(a=ad.document)?a.documentMode:void 0)>parseFloat(b)&&String(a))}(),o(ea,O),ea.prototype.ua=function(a,b){return this.f.push([a,b]),this},ea.prototype.callback=function(a){this.f.length=0,ea.r.callback.call(this,a)},ea.prototype.i=function(a){this.f.length=0,ea.r.i.call(this,a)},ea.prototype.hb=function(){return this};var zd={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},Ad=ad.IDBRequest&&"LOADING"in ad.IDBRequest?ad.IDBTransaction:ad.webkitIDBRequest&&"LOADING"in ad.webkitIDBRequest&&1===ad.webkitIDBTransaction.READ_WRITE?ad.webkitIDBTransaction:zd,Bd=Ad.READ_ONLY,Cd=Ad.READ_WRITE,Dd=Ad.VERSION_CHANGE,Ed=ad.indexedDB||ad.mozIndexedDB||ad.webkitIndexedDB||ad.moz_indexedDB||ad.msIndexedDB;O.prototype.done=O.prototype.s,O.prototype.fail=O.prototype.Ca,O.prototype.always=O.prototype.Ba,ea.prototype.then=ea.prototype.then;var Fd={};na.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)},na.prototype.toString=function(){return this.a.length?this.a.join(""):""},o(pa,ea),_c=pa.prototype,_c.S="",_c.Za=function(){return!!this.a},_c.abort=function(){if(!this.a)throw new Tb("");if(h(this.a.abort))this.a.abort();else{if(!h(this.a.executeSql))throw new Y;this.a.executeSql("ABORT",[],function(){},function(){return!0})}},_c.callback=function(a){pa.r.callback.call(this,a)},_c.i=function(a){pa.r.i.call(this,a)},_c.toString=function(){return"Request:"+va(this)},_c.oa=function(){this.g&&this.c&&T(this)&&(W(this.g),this.g=0),this.d&&(this.d.o--,delete this.d);for(var b=this.e,c=!1;this.h.length&&!this.j;){var d=this.h.shift(),e=d[0],f=d[1],d=d[2];(e=this.b?f:e)&&(e=e.call(d||this.I,b),a(e)&&(this.b=this.b&&(e==b||e instanceof Error),this.e=b=e),q(b)&&(this.j=c=!0))}this.e=b,c&&(c=l(this.aa,this,!0),e=l(this.aa,this,!1),b instanceof O?(R(b,c,e),b.u=!0):b.then(c,e))},_c.toJSON=function(){var a=(this.S||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.m?this.m.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Gd=Ed&&Ed.cmp?l(Ed.cmp,Ed):oa,Hd=[],Id=0;ya.prototype.preventDefault=function(){},o(za,ya),za.prototype.a=function(){return this.b},o(Aa,za),_c=Aa.prototype,_c.name="ReadyEvent",_c.version=NaN,_c.Wa=NaN,_c.Ka=null,_c.ob=function(){return this.version},_c.bb=function(){return this.Wa},_c.ab=function(){return this.Ka},o(Ba,za),Ba.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")},Ba.prototype.name="ErrorEvent",Ba.prototype.error=null,Ba.prototype.c=function(){return this.error},o(Ca,Ba),Ca.prototype.name="FailEvent",_c=Da.prototype,_c.toJSON=function(){var a={store:this.b,id:this.a};return this.c&&(a.parent=this.c.toJSON()),a},_c.valueOf=function(){return(this.c?this.c.valueOf()+"^|":"")+this.b+"^:"+this.a},_c.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")},_c.jb=function(){return this.b},_c.$a=function(){return this.a},_c.ib=function(){return this.c},Ga.prototype.lower=void 0,Ga.prototype.upper=void 0,Ga.prototype.toJSON=function(){var a;return a=this||{},{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}},Ga.only=function(a){return new Ga(a,a,!1,!1)},Ga.bound=function(a,b,c,d){return new Ga(a,b,c,d)},Ga.upperBound=function(a,b){return new Ga(void 0,a,void 0,!!b)},Ga.lowerBound=function(a,b){return new Ga(a,void 0,!!b,void 0)};var Jd=ad.IDBKeyRange||ad.webkitIDBKeyRange||Ga,Kd="TEXT",Ld=["BLOB","DATE","INTEGER","NUMERIC",Kd];Na.prototype.getName=function(){return this.a},Na.prototype.toJSON=function(){return{name:this.a,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}},Na.prototype.clone=function(){return new Na(c(this.keyPath)?L(this.keyPath):this.keyPath,this.type,this.unique,this.multiEntry,this.a,this.e)},Na.prototype.hint=function(b){if(!b)return this;var d=c(this.keyPath)?L(this.keyPath):this.keyPath,e=this.type;return a(b.type)||"TEXT"!=e||(e=void 0),new Na(d,e,this.unique,this.multiEntry,b.a)},_c=Sa.prototype,_c.L=!1,_c.P=!1,_c.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.d,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}},_c.clone=function(){return Ta(this.toJSON())},_c.index=function(a){return this.a[a]||null},_c.getName=function(){return this.d},mb.prototype.getName=function(){return this.name},mb.prototype.count=function(){return this.a.length},mb.prototype.index=function(a){return this.a[a]},ob.prototype.toJSON=function(){var b=pd(this.stores,function(a){return a.toJSON()}),c={};return c.stores=b,a(this.version)&&(c.version=this.version),c},ob.prototype.b=!1,ob.prototype.a=function(){return!1},ob.prototype.count=function(){return this.stores.length},o(tb,ob),tb.prototype.a=function(){return!0},o(vb,Error),vb.prototype.name="ydn.InternalError",o(wb,Error),wb.prototype.name="ydn.error.ConstraintError",o(yb,Error),Ab.prototype.o=function(b){if(a(b)){var c=function(a){b(a.toJSON()),b=void 0};if(this.a)this.a.J(c);else{var d=this;this.transaction(function(a){d.a.J(c,a)},null,Bd)}}return this.b?this.b.toJSON():null},Ab.prototype.h=function(a){if(this.a)throw new $("Already connected with "+this.f);this.f=a,Cb(this)},Ab.prototype.getName=function(){return this.f};var Md="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");_c=Ab.prototype,_c.ma=function(){return null},_c.za=function(){if(this.a)return this.a.Ta()},_c.ha=function(a,b){this.d.Ba(a,b)},_c.close=function(){this.a&&(this.a.close(),this.a=null)},_c.nb=function(){return this.a?this.a.Sa():null},_c.Ha=NaN,_c.ea=!1,_c.transaction=function(b,c,d,f){var g=c;if(e(c)?g=[c]:null!=c||(g=null),this.a&&this.a.xa()&&!this.ea){var i=this,j=a(d)?d:Bd;j==Dd&&(this.ea=!0),this.a.na(function(a){b(a),b=null},g,j,function(a,b){h(f)&&(f(a,b),f=void 0),j==Dd&&(i.ea=!1),Fb(i)})}else this.e.push({ca:b,gb:g,mode:d,t:f})},Ab.prototype.close=Ab.prototype.close,Ab.prototype.getType=Ab.prototype.za,Ab.prototype.getName=Ab.prototype.getName,Ab.prototype.getSchema=Ab.prototype.o,Ab.prototype.onReady=Ab.prototype.ha,Ab.prototype.setName=Ab.prototype.h,Ab.prototype.transaction=Ab.prototype.transaction,Ab.prototype.db=Ab.prototype.nb,n("ydn.db.version","1.0.4"),n("ydn.db.cmp",Gd),n("ydn.db.deleteDatabase",function(a,b){for(var c,d=0;d<Hd.length;d++){var e=Hd[d](a,b);e&&(c=e)}return c||wa("vc",null)}),Aa.prototype.name=Aa.prototype.name,Aa.prototype.getVersion=Aa.prototype.ob,Aa.prototype.getOldVersion=Aa.prototype.bb,Aa.prototype.getOldSchema=Aa.prototype.ab,Ba.prototype.getError=Ba.prototype.c,pa.prototype.abort=pa.prototype.abort,pa.prototype.canAbort=pa.prototype.Za,ea.prototype.progress=ea.prototype.ua,ea.prototype.promise=ea.prototype.hb,o(Gb,xa),_c=Gb.prototype,_c.Aa=function(b,d,f,g,h){a(d)&&(b=this.a,this.g=(c(d)?Za(b,d):Ya(b,d)).getName()),this.e=e(this.g),this.O=f||null,this.l=this.h=!1,this.p="prev"==g||"prevunique"==g,this.unique="nextunique"==g||"prevunique"==g,this.D=g,this.fa=h,this.Q=this.f=this.c=void 0},_c.D="",_c.O=null,_c.unique=!1,_c.p=!1,_c.fa=!0,_c.F=function(a,b,c){null==a&&(this.h=!0),this.c=a,this.f=b,this.Q=c,this.h?(this.o(),Ib(this)):this.o(this.c)},_c.open=function(a,b,c,d){this.j=a,this.h=this.l=!1,this.c=c,this.f=d,this.openCursor(this.c,this.f)},_c.G=function(){return this.e?this.f:this.c},_c.Z=function(){return this.fa?this.G():this.Q},_c.ia=function(){},_c.T=function(){},o(Lb,Kb),Lb.prototype.c=!0;var Nd="init";Lb.prototype.clone=function(){var a=new Lb(this.b,this.d,this.a,Nb(this),Ob(this),this.c,this.j);return a.m=this.m,a},Lb.prototype.unique=function(a){return new Lb(this.b,this.d,this.a,Nb(this),a,this.c,this.j)},Lb.prototype.load=function(a){a=a[0],a.Aa(this.b,this.j||this.d,this.a,this.f,this.c),this.e="busy";var b=this;return a.X=function(a,c,d){b.g=c,b.h=d,b.e=a?"rest":"done"},a.openCursor(this.g,this.h),a},Lb.prototype.stores=function(){return[this.b]},Qb.prototype.c=function(){return[]},o(Sb,Error),Sb.prototype.name="ConstraintError",o(Tb,Error),o(Ub,Error),o(Vb,Error),Vb.prototype.name="NotFoundError",o(Wb,Error),o(Xb,Error),o(Yb,Error),$b.prototype.v=null,$b.prototype.t=null,ac.prototype.type=function(){return this.h.za()},ac.prototype.H=function(){return"B"+this.B+"T"+this.d};var Od="single";return o(cc,ac),_c=cc.prototype,_c.abort=function(){bc(this.g)},_c.N=function(b,c,d,f){var g=e(c)?[c]:c,i=a(d)?d:Bd,j=this;if(this.b.a||!Eb(this.h)&&this.m)this.c.push({ca:b,v:c,mode:i,t:f});else{if(f&&this.e.push(f),this.l&&this.d>=this.l)throw new $("Exceed maximum number of transactions of "+this.l);this.m=!0,this.h.transaction(function(a){var d=j.b;for(d.a=a,d.c=!1,d.v=c,d.mode=i,d.b++,d.t=null,kb(c),b(j),b=null;ec(j);)a=j.c.shift(),a.t&&j.e.push(a.t),a.ca()},g,i,function(a,b){var c=j.b;for(c.a&&(c.a=null,c.v=null,c.mode=null,h(c.t)&&c.t(a,b),c.t=null),c=0;c<j.e.length;c++)(0,j.e[c])(a,b);j.e.length=0,(c=j.c.shift())&&j.N(c.ca,c.v,c.mode,c.t),j.a=0})}},_c.H=function(){var a=this.b;return"B"+a.d+"T"+a.b},_c.request=function(a,b,c,d){function e(a,b){f.a=null,d&&d(a,b)}var f=new pa(a);a=c||Bd;var g=this;return _b(this.b)&&dc(this,b,a)?(b=this.b.a,this.a++,qa(f,b,this.H()+"R"+this.a),this.e.push(e)):g.N(function(){var a=g.b.a;g.a++,qa(f,a,g.H()+"R"+g.a)},b,a,e),f},_c.K=function(a,b,c,d,e){d=d||Bd;var f,g=this;if(_b(g.b)&&dc(this,c,d)){var h=g.b.a;g.a++,f=g.H()+"R"+g.a,b(h,f,function(b,c){g.g=h,c?a.i(b):a.callback(b),g.g=null}),b=null}else g.N(function(){var c=g.b.a;g.a++,f=g.H()+"R"+g.a,b(c,f,function(b,d){g.g=c,d?a.i(b):a.callback(b),g.g=null}),b=null},c,d,e)},_c.getName=function(){return this.h.getName()},o(fc,cc),fc.prototype.request=function(a,b,c){var d,e,f,g=fc.r.request.call(this,a,b,c,function(a,b){if(g.a=null,d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new Yb;sa(g,c,!0)}});return ta(g,function(a,b,c){f=b,e=a,d=c}),g},fc.prototype.K=function(a,b,c,d,e){var f,g,h=new O;R(h,function(a){g=!1,f=a},function(a){g=!0,f=a}),fc.r.K.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.i(c);else if(!0===g)a.i(f);else if(!1===g)a.callback(f);else{var d=new Yb;a.i(d)}e&&(e(b,c),e=void 0)})},gc.prototype.e=function(){return this.a.d},gc.prototype.abort=function(){this.a.abort()},o(ic,gc),_c=ic.prototype,_c.count=function(b,d,f,g){var h,j,k,l;if(null!=b)if(c(b)){if(a(f)||a(d))throw new X("too many arguments.");j=b;for(var m=0;m<j.length;m++)if(!rb(this.b,j[m]))throw new X('store name "'+j[m]+'" at '+m+" not found.");da("countStores: "+kb(j)),h=this.a.request("d",j),ua(h,function(){hc(this).la(h,j)},this)}else{if(!e(b))throw new X("Invalid store name or store names.");if(!(m=qb(this.b,b)))throw new X('store name "'+b+'" not found.');if(j=[b],e(d))k=d,l=i(f)?Ja(f):null;else{if(!i(d)&&null!=d)throw new X('invalid second argument for count "'+jb(f)+'" of type '+typeof d);if(i(d))l=Ja(d);else{if(null!=d)throw new X("key range must be  an object but found "+jb(d)+" of type "+typeof d);l=null}}da("countKeyRange: "+b+" "+(k||"")+kb(l)),h=this.a.request("d",j),hb(m,h,arguments),ua(h,function(){hc(this).Ga(h,j[0],l,k,!!g)},this)}else m=pb(this.b),h=this.a.request("d",m),ta(h,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),ua(h,function(){hc(this).la(h,j)},this);return h},_c.get=function(b,c){var d,f=this;if(b instanceof Da){var g=b,h=g.b,i=qb(this.b,h);if(!i){if(this.b.a())return Eb(this.c)?wa("e",void 0):(d=new pa("e"),this.c.ha(function(){R(f.get(b,c),function(a){d.callback(a)},function(a){d.i(a)})}),d);throw new X("Store: "+h+" not found.")}var j=g.a;d=this.a.request("ek",[h]),hb(i,d,arguments,void 0,this),ua(d,function(){hc(this).pa(d,h,j)},this)}else{if(!e(b)||!a(c))throw new X("get require valid input arguments.");var k=b,i=qb(this.b,k);if(!i){if(this.b.a())return Eb(this.c)?wa("e",void 0):(d=new pa("e"),this.c.ha(function(){R(f.get(b,c),function(a){d.callback(a)},function(a){d.i(a)})}),d);throw new X('Store name "'+k+'" not found.')}var l=c;d=this.a.request("e",[k]),hb(i,d,arguments,void 0,this),ua(d,function(){hc(this).pa(d,k,l)},this)}return d},_c.U=function(b,c,d,h,j,k,l){var m,n,o=null,p=!1,q=!1,r=b,s=qb(this.b,r);if(this.b.a()&&!s)return wa("g",[]);var t;if(e(c)){var u=c,o=Ja(d);if(g(h))m=h;else{if(a(h))throw new X("limit must be a number");m=100}if(g(j))n=j;else{if(a(j))throw new X("offset must be a number");n=0}if(a(k)){if(!f(k))throw new X("reverse must be a boolean");p=k}if(a(l)){if(!f(l))throw new X("unique must be a boolean");q=l}t=this.a.request("i",[r]),hb(s,t,arguments),ua(t,function(){hc(this).V(t,2,r,u,o,m,n,p,q)},this)}else{if(o=i(c)?Ja(c):null,g(d))m=d;else{if(a(d))throw new X("limit must be a number");m=100}if(g(h))n=h;else{if(a(h))throw new X("offset must be a number");n=0}if(a(j)){if(!f(j))throw new X("reverse must be a boolean");p=j}t=this.a.request("g",[r]),hb(s,t,arguments),ua(t,function(){hc(this).V(t,2,r,null,o,m,n,p,!1)},this)}return t},_c.w=function(b,d,h,j,k,l,m){var n,o,p,q=this,r=!1,s=!1;if(e(b)){var t=b,u=qb(this.b,t);if(!u){if(this.b.a())return Eb(this.c)?wa("s",[]):(n=new pa("s"),this.c.ha(function(){R(q.w(b,d,h,j,k,l),function(a){n.callback(a)},function(a){n.i(a)})}),n);throw new Vb(t)}if(c(d)){var v=d;n=this.a.request("v",[t]),hb(u,n,arguments,void 0,this),ua(n,function(){hc(this).Ia(n,t,v)},this)}else if(e(d)){var w=d,x=Ja(h);if(a(j)){if(!g(j))throw new X("limit must be a number.");o=j}else o=100;if(a(k)){if(!g(k))throw new X("offset must be a number.");p=k}else p=0;if(f(l))r=l;else if(a(l))throw new X("reverse must be a boolean, but "+l);if(a(m)){if(!f(m))throw new X("unique must be a boolean");s=m}n=this.a.request("u",[t]),hb(u,n,arguments),ua(n,function(){hc(this).V(n,4,t,w,x,o,p,r,s)},this)}else{if(x=null,i(d)&&(x=Ja(d)),a(h)){if(!g(h))throw new X("limit must be a number, but "+h+" is "+typeof h);o=h}else o=100;if(a(j)){if(!g(j))throw new X("offset must be a number, but "+j+" is "+typeof j);p=j}else p=0;if(a(k)){if(!f(k))throw new X("reverse must be a boolean, but "+k+" is "+typeof k);r=k}n=this.a.request("s",[t]),hb(u,n,arguments),ua(n,function(){hc(this).V(n,4,t,null,x,o,p,r,!1)},this)}}else{if(!c(b))throw new X("first argument "+b+" is invalid.");if(!(b[0]instanceof Da))throw new X("first argumentmust be array of ydn.db.Key, but "+b[0]+" of "+typeof b[0]+" found.");for(var u=[],y=b,z=0;z<y.length;z++){var A=y[z].b;if(!rb(this.b,A)){if(this.b.a())return u=[],u[y.length-1]=void 0,wa("e",u);throw new X("Store: "+A+" not found.")}0<=od(u,A)||u.push(A)}da("listByKeys: "+kb(u)+" "+y.length+" keys"),n=this.a.request("w",u),ua(n,function(){hc(this).Ja(n,y)},this)}return n},_c.add=function(b,d,f){var g=e(b)?b:i(b)?b.name:void 0;if(!e(g))throw new X("store name "+g+" must be a string, but "+typeof g);var h=qb(this.b,g);if(h){if(this.b.a()&&i(b)&&(b=Ta(b),b=fb(h,b)))throw new Y(b)}else{if(!this.b.a())throw new X('store name "'+g+'" not found.');h=Ta(i(b)?b:{name:g}),Bb(this.c,h)}var j;if(!h)throw new X('store name "'+g+'" not found.');if(e(h.keyPath)&&a(f))throw new X("key must not be provided while the store uses in-line key.");if(!h.keyPath&&!h.b&&!a(f))throw new X("out-of-line key must be provided.");if(c(d)){for(b=0;b<d.length;b++)gb(h,d[b]);j=this.a.request("b",[g],Cd),ua(j,function(){hc(this).M(j,!1,!1,g,d,f)},this),h.L&&j.s(function(){},this)}else{if(!i(d))throw new X("record must be an object or array list of objects, but "+d+" of type "+typeof d+" found.");cb(h,d,f),gb(h,d),j=this.a.request("a",[g],Cd),ua(j,function(){hc(this).M(j,!1,!0,g,[d],[f])},this),h.L&&j.s(function(){},this)}return j},_c.load=function(a,b,c){var d=c||",",e=jc(this,a).getName();a=this.a.request("i3",[e]);var f=this;return this.a.K(a,function(a,c,g){hc(f).Na(a,c,g,e,b,d)},[e],Cd),a},_c.put=function(b,d,f){var g,h=this;if(b instanceof Da){var j=b,k=j.b,l=qb(this.b,k);if(!l)throw new X('store "'+k+'" not found.');if(l.keyPath){var m=cb(l,d);if(null!=m){if(0!=Gd(m,j.a))throw new X("Inline key must be "+j+" but "+m+" found.")}else db(l,d,j.a);return this.put(k,d)}return this.put(k,d,j.a)}if(c(b)){for(var n=b,o=d,j=[],k=0,l=n.length;k<l;k++){m=n[k].b,-1==od(j,m)&&j.push(m);var p=qb(this.b,m);if(!p)throw new X('store "'+m+'" not found.');p.keyPath&&db(p,o[k],n[k].a)}for(da("putByKeys: to "+kb(j)+" "+o.length+" objects"),k=0;k<o.length;k++)gb(p,o[k]);g=this.a.request("l",j,Cd),hb(p,g,arguments),ua(g,function(){hc(h).Ma(g,o,n)},this)}else{if(!e(b)&&!i(b))throw new X("the first argument of put must be store name, store schema or array of keys.");var p=jc(this,b),q=p.getName();if(p.keyPath&&a(f))throw new X("key must not be provided while the store uses in-line key.");if(!p.keyPath&&!p.b&&!a(f))throw new X("out-of-line key must be provided.");if(c(d)){for(var r=d,s=f,k=0;k<r.length;k++)gb(p,r[k]);g=this.a.request("k",[q],Cd),hb(p,g,arguments),ua(g,function(){hc(this).M(g,!0,!1,q,r,s)},this),p.L&&g.s(function(){},this)}else{if(!i(d))throw new X("put record value must be Object or array of Objects");var t=d,u=f;if(a(ad.Blob)&&t instanceof Blob&&p.P&&!p.keyPath&&0==p.a.length&&yd)g=new pa("j"),j=new FileReader,j.onload=function(a){var b=a.target.result,c=h.a.request("j",[q],Cd);hb(p,c,[q,t,u]),ua(c,function(){hc(h).M(c,!0,!0,q,[b],[u])},this),R(c,function(a){g.callback(a)},function(a){g.i(a)})},j.onerror=function(a){g.i(a)},j.onabort=function(a){g.i(a)},j.readAsDataURL(t);else{gb(p,t),g=this.a.request("j",[q],Cd);var v=[q,t,u];hb(p,g,v),ua(g,function(){var b=a(u)?[v[2]]:void 0;hc(h).M(g,!0,!0,q,[v[1]],b)},this)}p.L&&g.s(function(){},this)}}return g},_c.clear=function(b,d){var f;if(e(b)){var g=qb(this.b,b);if(!g)throw new X('store name "'+b+'" not found.');if(i(d)){var h=Ja(d);if(null===h)throw new X("clear method requires a valid non-null KeyRange object.");da("clearByKeyRange: "+b+":"+kb(h)),f=this.a.request("c",[b],Cd),hb(g,f,[b,h]),ua(f,function(){hc(this).Ea(f,b,h)},this)}else{if(a(d))throw new X("clear method requires a valid KeyRange object as second argument, but found "+d+" of type "+typeof d);f=this.a.request("c",[b],Cd),ua(f,function(){hc(this).ka(f,[b])},this)}}else{if(!(!a(b)||c(b)&&e(b[0])))throw new X('first argument "'+b+'" is invalid.');var j=b||pb(this.b);da("clearByStores: "+kb(j)),f=this.a.request("c",j,Cd),ua(f,function(){hc(this).ka(f,j)},this)}return f},_c.ja=function(f,h,j){var k;if(e(f)){var l=qb(this.b,f);if(!l)throw new X('store name "'+f+'" not found.');if(a(j)){if(!e(h))throw new X('index name "'+h+'" must be a string, but '+typeof h+" found.");var m=Ya(l,h);if(!m)throw new X("index: "+h+" not found in "+f);if(!i(j)&&null!==j)throw new X("key range "+j+' is invalid type "'+typeof j+'".');var n=Ja(j);k=this.a.request("p",[f],Cd),ua(k,function(){hc(this).Oa(k,f,m.getName(),n)},this)}else if(e(h)||g(h)||d(h)||h instanceof Date){k=this.a.request("m",[f],Cd);var o=[f,h];hb(l,k,o),ua(k,function(){hc(this).va(k,f,o[1])},this),l.L&&k.s(function(){},this)}else{if(!i(h))throw new X('Invalid key or key range "'+h+'" of type '+typeof h);n=Ja(h),da("removeByKeyRange: "+f+":"+kb(n)),k=this.a.request("n",[f],Cd),hb(l,k,[f,n]),ua(k,function(){hc(this).Pa(k,f,n)},this),l.L&&k.s(function(){},this)}}else if(f instanceof Da){var p=f.b,l=qb(this.b,p);k=this.a.request("m",[p],Cd);var q=[p,f.a];hb(l,k,q),ua(k,function(){hc(this).va(k,p,q[1])},this)}else{if(!c(f))throw new X('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+jb(f)+'" ('+b(f)+") found.");for(h=[],j=0,l=f.length;j<l;j++){var r=f[j].b;-1==od(h,r)&&h.push(r)}if(1>h.length)throw new X('at least one valid key required in key list "'+jb(f)+'"');k=this.a.request("o",h,Cd),ua(k,function(){hc(this).Qa(k,f)},this)}return k},o(kc,ic),_c=kc.prototype,_c.get=function(b,c){if(b instanceof Lb){var d=b.b,e=qb(this.b,d);if(!e)throw new X('store "'+d+'" not found.');var f=b.d;if(a(f)&&!$a(e,f))throw new X('index "'+f+'" not found in store "'+d+'".');var g=this.a.request("f",[d]);return ua(g,function(){nc(this,5,g,b,1)},this),g}return kc.r.get.call(this,b,c)},_c.U=function(b,c,d,e,f,h,i){if(b instanceof Lb){var j=100;if(g(c)){if(1>(j=c))throw new X("limit must be a positive value, but "+c)}else if(a(c))throw new X("limit must be a number,  but "+c);if(a(d))throw new X("offset must not be specified");var k=this.a.request("h",[b.b]);return ua(k,function(){b.l?nc(this,1,k,b,j):nc(this,2,k,b,j)},this),k}return kc.r.U.call(this,b,c,d,e,f,h,i)},_c.count=function(b,c,d,e){if(b instanceof Lb){if(a(c)||a(d))throw new X("too many arguments.");var f=this.a.request("d",[b.b]);return ua(f,function(){nc(this,6,f,b)},this),f}return kc.r.count.call(this,b,c,d,e)},_c.w=function(b,c,d,e,f,h){if(b instanceof Lb){var i;if(g(c)){if(1>(i=c))throw new X("limit must be a positive value, but "+i)}else if(a(c))throw new X("limit must be a number, but "+c);if(a(d))throw new X("offset must not be specified");var j=this.a.request("t",[b.b]);return ua(j,function(){b.c?nc(this,2,j,b,i):nc(this,4,j,b,i)},this),j}return kc.r.w.call(this,b,c,d,e,f,h)},_c.open=function(a,b,c,d){c=c||Bd;var e=this,f=this.a.request("i5",b.stores(),c);return ua(f,function(c){for(var g=va(f),h=b.stores(),j=[],k=0;k<h.length;k++)j[k]=hc(e).b(c,g,h[k]);var l=b.load(j);l.I=function(a){sa(f,a,!0)},l.o=function(b){if(null!=b){var c=a.call(d,l);!0===c?(l.h=!1,l.l=!1,l.openCursor(void 0,void 0)):i(c)?!0===c.restart?(b=c.continue,c=c.continuePrimary,l.h=!1,l.l=!1,l.openCursor(c,b)):null!=c.continue?l.T(c.continue):null!=c.continuePrimary?l.ia(c.continuePrimary):(Jb(l),sa(f,void 0)):null===c?(Jb(l),sa(f,void 0)):null!=c?l.T(c):l.advance(1)}else Jb(l),sa(f,void 0)}},this),f},_c.map=function(a,b){for(var c,d=this,e=a.stores(),f=0;c=e[f];f++)if(!c)throw new X('Store "'+c+'" not found.');return c=this.a.request("i4",e),this.a.K(c,function(c,e,f){for(var g=a.stores(),h=[],i=0;i<g.length;i++)h[i]=hc(d).b(c,e,g[i]);var j=a.load(h);j.I=function(a){f(a,!1)},j.o=function(c){if(null!=c){var d;d=a.l?a.c?c:j.G():a.c?c:j.Z(),b(d),j.advance(1)}else f(void 0),b=null}},e,Bd),c},oc.prototype.d=null,o(qc,ac),_c=qc.prototype,_c.abort=function(){bc(this.c)},_c.Xa=function(a,b){var c;if("multi"==this.f)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=Cd||b!=Bd)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if("repeat"==this.f)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c="all"==this.f;return c},_c.N=function(b,c,d,e){function f(a){j.d++,h=new oc(a,0,c,i),kb(c),j.b=h,pc(j.b,b,e)}function g(a,b){if(h){for(var c=h,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0,c.d=null,c.a=null,c.c=null}j.a=0}this.u&&(c=this.u),this.o&&(d=this.o);var h,i=a(d)?d:Bd,j=this;if(this.b&&this.b.d&&this.Xa(c,i))pc(this.b,b,e);else{if(this.j&&this.d>=this.j)throw new $("Exceed maximum number of transactions of "+this.j);this.h.transaction(f,c,i,g)}},_c.request=function(a,b,c,d){var e=new pa(a),f=this;return this.N(function(a){f.a++,qa(e,a,f.H()+"R"+f.a)},b,c||Bd,function(a,b){e.a=null,d&&d(a,b)}),e},_c.K=function(a,b,c,d,e){var f,g=this;this.N(function(c){g.a++,f=g.H()+"R"+g.a,b(c,f,function(b,d){g.c=c,f=g.H()+"R"+g.a,d?a.i(b):a.callback(b),g.c=null}),b=null},c,d,e)},o(rc,qc),rc.prototype.Xa=function(){return!1},rc.prototype.request=function(a,b,c){var d,e,f,g=rc.r.request.call(this,a,b,c,function(a,b){if(g.a=null,d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new Yb;sa(g,c,!0)}});return ta(g,function(a,b,c){f=b,e=a,d=c}),g},rc.prototype.K=function(a,b,c,d,e){var f,g,h=new O;R(h,function(a){g=!1,f=a},function(a){g=!0,f=a}),rc.r.K.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.i(c);else if(!0===g)a.i(f);else if(!1===g)a.callback(f);else{var d=new Yb;a.i(d)}e&&(e(b,c),e=void 0)})},o(sc,Ab),_c=sc.prototype,_c.R=0,_c.Ya=function(a,b,c,d,e,f){a=a||Od;var g;return"readonly"==d?g=Bd:"readwrite"==d&&(g=Cd),a=tc(this,a,b,c,g,e),this.W(a,f?null:this.g)},_c.W=function(a){return new gc(this,this.b,a)},_c.eb=function(a,b,c){this.R++,b=b||pb(this.b);var d=Bd;if(c)if("readwrite"==c)d=Cd;else if("readonly"!=c)throw new X('Invalid transaction mode "'+c+'"');var e=tc(this,"all",!1,b,d,1),f=this.W(e,this.g),g=new pa("q");return e.N(function(b){qa(g,b,e.H()+"R0"),a(f)},b,d,function(a){g.a=null,sa(g,e.d,"complete"!==a)}),g},_c.pb=function(){return this.c?this.c.a.d:NaN},o(uc,sc),_c=uc.prototype,_c.W=function(a){return new ic(this,this.b,a)},_c.add=function(a,b,c){return this.c.add(a,b,c)},_c.count=function(a,b,c,d){return this.c.count(a,b,c,d)},_c.get=function(a,b){return this.c.get(a,b)},_c.U=function(a,b,c,d,e,f,g){return this.c.U(a,b,c,d,e,f,g)},_c.w=function(a,b,c,d,e,f){return this.c.w(a,b,c,d,e,f)},_c.load=function(a,b,c){return this.c.load(a,b,c)},_c.put=function(a,b,c){return this.c.put(a,b,c)},_c.clear=function(a,b,c){return this.c.clear(a,b,c)},_c.ja=function(a,b,c){return this.c.ja(a,b,c)},o(vc,uc),vc.prototype.W=function(a){return new kc(this,this.b,a)},vc.prototype.open=function(a,b,c,d){return this.c.open(a,b,c,d)},vc.prototype.map=function(a,b){return this.c.map(a,b)},o(wc,Gb),_c=wc.prototype,_c.ba=function(a){(a=a.target.result)?this.F(a.key,a.primaryKey,a.value):this.F()},_c.openCursor=function(b,c){function d(a,b,c){o.b=n,o.b.onsuccess=l(o.ba,o),o.F(a,o.e?b:void 0,c),n=null}var f=this.O,g=this.j.objectStore(this.ua),h=e(this.g)?g.index(this.g):null;if(a(b))var i=!h||!a(c),j=f?f.lower:void 0,k=f?f.upper:void 0,m=!!f&&!!f.lowerOpen,f=!!f&&!!f.upperOpen,f=Ha(this.p?new Ga(j,b,m,i):new Ga(b,k,i,f));var n;n=this.fa?h?null!=this.D?h.openKeyCursor(f,this.D):null!=f?h.openKeyCursor(f):h.openKeyCursor():null!=this.D?g.openCursor(f,this.D):null!=f?g.openCursor(f):g.openCursor():h?null!=this.D?h.openCursor(f,this.D):null!=f?h.openCursor(f):h.openCursor():null!=this.D?g.openCursor(f,this.D):null!=f?g.openCursor(f):g.openCursor();var o=this;n.onerror=function(a){var b=n.error;a.preventDefault(),Hb(o,b)},null!=b?n.onsuccess=function(a){if(a=a.target.result){var e=Ed.cmp(a.key,b),f=o.p?-1:1;e==f?d(a.key,a.primaryKey,a.value):e==-f?a.continue(b):null!=c&&Ed.cmp(a.primaryKey,c)==f?d(a.key,a.primaryKey,a.value):a.continue()}else d()}:(o.b=n,o.b.onsuccess=l(o.ba,o))},_c.ra=function(){return!!this.b},_c.update=function(a){var b=this.b.result;if(b){var c=new O;return a=b.update(a),a.onsuccess=function(a){c.callback(a.target.result)},a.onerror=function(a){a.preventDefault(),c.i(a)},c}throw new Ub("cursor gone")},_c.clear=function(){var a=this.b.result;if(a){var b=new O,a=a.delete();return a.onsuccess=function(){b.callback(1)},a.onerror=function(a){a.preventDefault(),b.i(a)},b}throw new Ub("cursor gone")},_c.advance=function(a){var b=this.b.result;1==a?b.continue():b.advance(a)},_c.ia=function(a){var b,c=this.b.result,d=this;this.b.onsuccess=function(e){(c=e.target.result)?0==(b=Ed.cmp(c.primaryKey,a))||1==b&&!d.p||-1==b&&d.p?(d.b.onsuccess=l(d.ba,d),d.F(c.key,d.e?c.primaryKey:void 0,c.value)):c.continue():(d.b.onsuccess=l(d.ba,d),d.F())},c.continue()},_c.T=function(a){var b=this.b.result;null!=a?b.continue(a):b.continue()},o(xc,Zb),_c=xc.prototype,_c.la=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result,e++,e==b.length?sa(a,d):c(e)},f.onerror=function(b){b.preventDefault(),sa(a,f.error,!0)}}var d=[];0==b.length?sa(a,[]):c(0)},_c.M=function(a,b,c,d,e,f){function g(d){if(null==e[d])if(++i==e.length)sa(a,h,j);else{var l=d+10;l<e.length&&g(l)}var m,l=e[d];m=f&&null!=f[d]?b?k.put(l,f[d]):k.add(l,f[d]):b?k.put(l):k.add(l),m.onsuccess=function(b){i++,h[d]=b.target.result,i==e.length?sa(a,c?h[0]:h,j):(b=d+10)<e.length&&g(b)},m.onerror=function(b){i++;var f=m.error;jb(e[d]),h[d]=f,j=!0,b.preventDefault(),i==e.length?sa(a,c?h[0]:h,j):(b=d+10)<e.length&&g(b)}}var h=[],i=0,j=!1,k=a.a.objectStore(d);if(0<e.length)for(d=0;10>d&&d<e.length;d++)g(d);else sa(a,[])},_c.Ma=function(a,b,c){function d(h){var i,j=c[h],k=a.a.objectStore(j.b);i=null===k.keyPath?k.put(b[h],j.a):k.put(b[h]),i.onsuccess=function(c){f++,e[h]=c.target.result,f==b.length?sa(a,e,g):(c=h+10)<b.length&&d(c)},i.onerror=function(c){f++,e[h]=i.error,g=!0,c.preventDefault(),f==b.length?sa(a,e,g):(c=h+10)<b.length&&d(c)}}var e=[],f=0,g=!1;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)d(h);else sa(a,e,g)},_c.Na=function(a,b,c,d,e,f){function g(){var a,b={},d=e.indexOf("\n",j),m=!1;for(-1==d?(m=!0,a=e.substring(j)):(a=e.substring(j,d),j=d+1),d=a.split(f),a=0;a<k.length;a++){var n=d[a];l[a]&&(l[a]==Kd?n=s(n):"INTEGER"==l[a]?n=parseInt(n,10):"NUMERIC"==l[a]&&(n=parseFloat(n))),b[k[a]]=n}var o=h.put(b);o.onsuccess=function(a){i.push(a.target.result),m?c(i):g()},o.onerror=function(a){a.preventDefault(),c(o.error,!0)}}b=qb(this.a,d);var h=a.objectStore(d),i=[],j=e.indexOf("\n"),k=e.substr(0,j).split(f),l=[];for(a=0;a<k.length;a++)(d=Ya(b,k[a]))?l[a]=d.type:k[a]==b.keyPath&&(l[a]=b.type);j++,g()},_c.va=function(a,b,c){var d=a.a.objectStore(b).openCursor(Jd.only(c));d.onsuccess=function(b){if(b=b.target.result){var c=b.delete();c.onsuccess=function(){sa(a,1)},c.onerror=function(){sa(a,c.error,!0)}}else sa(a,0)},d.onerror=function(b){b.preventDefault(),sa(a,d.error,!0)}},_c.Qa=function(a,b){function c(h){if(++h>=b.length)0<g.length?sa(a,g,!0):sa(a,f);else{b[h].b!=d&&(d=b[h].b,e=a.a.objectStore(d));var i=e.delete(b[h].a);i.onsuccess=function(){f++,c(h)},i.onerror=function(a){a.preventDefault(),g[h]=i.error,c(h)}}}var d,e,f=0,g=[];c(-1)},_c.Pa=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);e.onsuccess=function(b){var e=b.target.result,f=d.delete(c);f.onsuccess=function(){sa(a,e)},f.onerror=function(){sa(a,f.error,!0)}},e.onerror=function(b){b.preventDefault(),sa(a,e.error,!0)}},_c.Ea=function(a,b,c){var d=a.a.objectStore(b).delete(c);d.onsuccess=function(){sa(a,void 0)},d.onerror=function(b){b.preventDefault(),sa(a,d.error,!0)}},_c.Oa=function(a,b,c,d){var e=[],f=a.a.objectStore(b).index(c).openCursor(d),g=0;f.onsuccess=function(b){var c=b.target.result;if(c){var d=c.delete();d.onsuccess=function(){g++,c.continue()},d.onerror=function(a){e.push(d.error),a.preventDefault(),c.continue()}}else 0<e.length?sa(a,e,!0):sa(a,g)},f.onerror=function(b){b.preventDefault(),sa(a,f.error,!0)}},_c.ka=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){++d==c&&sa(a,d)},f.onerror=function(b){d++,b.preventDefault(),d==c&&sa(a,f.error,!0)}}},_c.pa=function(a,b,c){var d=a.a.objectStore(b),f=d.get(c);f.onsuccess=function(b){var c=b.target.result;if(!d.keyPath&&0==d.indexNames.length&&yd&&e(c)&&0<=c.indexOf(";base64,")){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2)),c=c.split(";base64,"),b=c[0].split(":")[1];for(var c=window.atob(c[1]),f=c.length,g=new Uint8Array(f),h=0;h<f;++h)g[h]=c.charCodeAt(h);sa(a,new Blob([g.buffer],{type:b}))}else sa(a,b.target.result)},f.onerror=function(b){b.preventDefault(),sa(a,f.error,!0)}},_c.Ia=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)sa(a,e);else{var i=b+10;i<h&&d(i)}var j;j=g.get(c[b]),j.onsuccess=function(c){f++,e[b]=c.target.result,f==h?sa(a,e):(c=b+10)<h&&d(c)},j.onerror=function(b){f++,b.preventDefault(),sa(a,j.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else sa(a,[])},_c.Ja=function(a,b){function c(f){var g=b[f],h=a.a.objectStore(g.b).get(g.a);h.onsuccess=function(g){e++,d[f]=g.target.result,e==b.length?sa(a,d):(g=f+10)<b.length&&c(g)},h.onerror=function(b){e++,b.preventDefault(),sa(a,h.error,!0)}}var d=[];d.length=b.length;var e=0;if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else sa(a,[])},_c.Ga=function(a,b,c,d){b=a.a.objectStore(b),c&&kb(c);var e;null!=d?(d=b.index(d),e=null!=c?d.count(c):d.count()):e=null!=c?b.count(c):b.count(),e.onsuccess=function(b){sa(a,b.target.result)},e.onerror=function(b){b.preventDefault(),sa(a,e.error,!0)}},_c.V=function(b,c,d,e,f,g,h,i,j,k){var l=[],m=b.a.objectStore(d),n=i?j?"prevunique":"prev":j?"nextunique":"next";if(d=va(b)+" "+c+" "+d+(e?":"+e:"")+(f?kb(f):""),i&&(d+=" reverse"),j&&(d+=" unique"),k&&a(k[0])){j=!e||!a(k[1]);var o=k[0],p=f?f.lower:void 0,q=f?f.upper:void 0,r=!!f&&!!f.lowerOpen;f=!!f&&!!f.upperOpen,f=Ha(i?new Ga(p,o,r,j):new Ga(o,q,j,f)),d+=" starting from "+kb(k[0]),a(k[1])&&(d+=", "+kb(k[1]))}var s;s=1==c||2==c||3==c?e?m.index(e).openKeyCursor(f,n):m.openCursor(f,n):e?m.index(e).openCursor(f,n):m.openCursor(f,n);var t=!1;s.onsuccess=function(d){if(d=d.target.result){if(!t){if(0<h)return t=!0,void d.advance(h);if(k&&e&&a(k[0]))if(a(k[1])){var f=Ed.cmp(d.key,k[0]),j=i?-1:1;if(0==f){if(0==(f=Ed.cmp(d.primaryKey,k[1])))return t=!0,void d.continue();if(f!=j)return void d.continue();t=!0}else t=!0}else t=!0;else t=!0}1==c?l.push(d.key):2==c?l.push(d.primaryKey):3==c?(j={},e&&(j[e]=d.key),m.keyPath?j[m.keyPath]=d.primaryKey:j._ROWID_=d.primaryKey,l.push(j)):4==c?l.push(d.value):l.push([d.key,d.primaryKey,d.value]),l.length<g?d.continue():(k&&(k[0]=Fa(d.key),k[1]=Fa(d.primaryKey)),sa(b,l))}else k&&(k[0]=void 0,k[1]=void 0),sa(b,l)},s.onerror=function(a){a.preventDefault(),sa(b,s.error,!0)}},o(yc,xc),yc.prototype.b=function(a,b,c,d){return b=qb(this.a,c),new wc(a,0,b,d)},o(zc,Gb),_c=zc.prototype,_c.G=function(){return this.b},_c.Aa=function(a,b,c,d,f){zc.r.Aa.call(this,a,b,c,d,f),this.u=e(b)?Ya(this.a,b):null},_c.Z=function(){return this.m},_c.ra=function(){return!!this.j},_c.update=function(a){if(!this.ra())throw new Ub;var b=new O,c=this.G();a=eb(this.a,a,c);var d="REPLACE INTO "+_a(this.a)+" ("+a.Fa.join(", ")+") VALUES ("+a.Ra.join(", ")+")";return ca(this+': update "'+d+'" : '+kb(a.w)),this.j.executeSql(d,a.w,function(){b.callback(c)},function(a,c){return b.i(c),!1}),b},_c.advance=function(a){var b=this.d,c=this.b,d=!0;null==this.d||this.e&&null==this.b||(a-=1,d=!1),Cc(this,function(a,d,e){var f=null!=b&&null!=a&&0==Gd(b,a);if(this.e){var g=null!=d&&null!=c&&0==Gd(d,c);if(f&&g)throw new _("current: "+b+";"+c+" next: "+a+";"+d)}else if(f)throw new _("current: "+b+" next: "+a);this.F(a,d,e)},this.d,d,a,this.b)},_c.T=function(a){null!=a?Cc(this,this.F,a,!0):this.advance(1)},_c.openCursor=function(a,b){Cc(this,this.F,a,!1,0,b)},_c.clear=function(){if(!this.ra())throw new Ub;var a=new O,b=this.a.e,b="DELETE FROM "+_a(this.a)+" WHERE "+b+" = ?",c=[this.G()];return ca(this+': clear "'+b+'" : '+kb(c)),this.j.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){return a.i(c),!1}),a},_c.ia=function(a){var b=Gd(a,this.b);if(0==b||1==b&&this.p||-1==b&&!this.p)throw new yb(this+" to continuePrimaryKey  from "+this.b+" to "+a+" on "+this.D+" direction is wrong");Bc(this,this.F,a)},o(Dc,Zb),_c=Dc.prototype,_c.Na=function(){throw new Z("putData")},_c.M=function(b,c,d,e,f,g){function h(c,e){if(null==f[c])if(++l==f.length)sa(b,k,m);else{var n=c+2;n<f.length&&h(n,e)}var o;o=a(g)?eb(i,f[c],g[c]):eb(i,f[c]),n=j+_a(i)+" ("+o.Fa.join(", ")+") VALUES ("+o.Ra.join(", ")+");",e.executeSql(n,o.w,function(g,n){function p(a,b){var c=j+t("ydn.db.me:"+i.getName()+":"+a.getName())+" ("+i.c+", "+a.c+") VALUES (?, ?)",d=[Oa(q,i.type),Oa(b,a.type)];e.executeSql(c,d,function(){},function(){return!1})}l++;var q=a(o.key)?o.key:n.insertId;1>n.rowsAffected&&(m=!0,q=new Sb(q+" no-op"));for(var r=0,s=i.a.length;r<s;r++){var u=i.index(r);if(u.multiEntry)for(var v=fa(f[c],u.keyPath),w=(v?v.length:0)||0,x=0;x<w;x++)p(u,v[x])}d?sa(b,q):(k[c]=q,l==f.length?sa(b,k,m):(r=c+2)<f.length&&h(r,g))},function(a,e){if(l++,m=!0,6==e.code&&(e.name="ConstraintError"),d)sa(b,e,!0);else if(k[c]=e,l==f.length)sa(b,k,m);else{var g=c+2;g<f.length&&h(g,a)}return!1})}c=!c;var i=qb(this.a,e),j=c?"INSERT INTO ":"INSERT OR REPLACE INTO ";e=b.a;var k=[],l=0,m=!1;if(0<f.length)for(c=0;2>c&&c<f.length;c++)h(c,e);else sa(b,[])},_c.Ma=function(a,b,c){if(0==c.length)sa(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,i){for(var j=[],k=bb(qb(g.a,h)),l=k?void 0:[],m=0;m<i.length;m++)j.push(b[i[m]]),k||l.push(c[i[m]].a);k=ra(a),R(k,function(b){for(var c=0;c<i.length;c++)d[i[c]]=b[c];++e==f&&sa(a,d)},function(){++e==f&&sa(a,d,!0)}),g.M(k,!1,!1,h,j,l)},i="",j=[],k=[],l=0;l<c.length;l++){var m=c[l].b,n=c[l].a;m!=i?(f++,0<j.length&&h(i,j),j=[l],k=[n],i=m):(j.push(l),k.push(n))}0<j.length&&h(i,j)}},_c.pa=function(a,b,c){var d=a.a,e=qb(this.a,b);b=e.c,c=[Oa(c,e.type)],b="SELECT * FROM "+_a(e)+" WHERE "+b+" = ?",d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=Ec(d,e),sa(a,d)):sa(a,void 0)}else sa(a,void 0)},function(b,c){return sa(a,c,!0),!1})},_c.Ia=function(a,b,c){function d(b,e){var i=h.c,j=[Oa(c[b],h.type)],i="SELECT * FROM "+_a(h)+" WHERE "+i+" = ?";e.executeSql(i,j,function(e,i){if(g++,0<i.rows.length){var j=i.rows.item(0);null!=j&&(f[b]=Ec(j,h))}else f[b]=void 0;g==c.length?sa(a,f):(j=b+10)<c.length&&d(j,e)},function(e){if(++g==c.length)sa(a,f);else{var h=b+10;h<c.length&&d(h,e)}return!1})}var e=a.a,f=[],g=0,h=qb(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,e);else sa(a,[])},_c.Ja=function(a,b){function c(d,h){var i=b[d],j=qb(e.a,i.b),k=Ea(i),i=j.c,k=[Oa(k,j.type)],i="SELECT * FROM "+_a(j)+" WHERE "+i+" = ?";h.executeSql(i,k,function(e,h){if(g++,0<h.rows.length){var i=h.rows.item(0);null!=i&&(f[d]=Ec(i,j))}else f[d]=void 0;g==b.length?sa(a,f):(i=d+10)<b.length&&c(i,e)},function(b,c){return sa(a,c,!0),!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else sa(a,[])},_c.ka=function(a,b){function c(d,f){function g(a){a="DELETE FROM  "+t("ydn.db.me:"+h.getName()+":"+a.getName()),f.executeSql(a,[])}var h=qb(e.a,b[d]),i="DELETE FROM  "+_a(h);f.executeSql(i,[],function(e){d==b.length-1?sa(a,b.length):c(d+1,e)},function(b,c){return sa(a,c,!0),!1});for(var i=0,j=h.a.length;i<j;i++){var k=h.index(i);k.multiEntry&&g(k)}}var d=a.a,e=this;0<b.length?c(0,d):sa(a,0)},_c.Qa=function(a,b){function c(h){if(h>=b.length)sa(a,f,g);else{var i=qb(e.a,b[h].b),j=Oa(b[h].a,i.type),k=" WHERE "+i.c+" = ?",l="DELETE FROM "+_a(i)+k;d.executeSql(l,[j],function(){f++,c(h)},function(){return g=!0,c(h),!1}),h++;for(var l=function(a){a="DELETE FROM  "+t("ydn.db.me:"+i.getName()+":"+a.getName())+k,d.executeSql(a,[j])},m=0,n=i.a.length;m<n;m++){var o=i.index(m);o.multiEntry&&l(o)}}}var d=a.a,e=this,f=0,g=!1;c(0)},_c.va=function(a,b,c){function d(a){a="DELETE FROM  "+t("ydn.db.me:"+f.getName()+":"+a.getName())+h,e.executeSql(a,[g])}var e=a.a,f=qb(this.a,b),g=Oa(c,f.type),h=" WHERE "+f.c+" = ?";for(b="DELETE FROM "+_a(f)+h,e.executeSql(b,[g],function(b,c){sa(a,c.rowsAffected)},function(b,c){return sa(a,c,!0),!1}),b=0,c=f.a.length;b<c;b++){var i=f.index(b);i.multiEntry&&d(i)}},_c.Ea=function(a,b,c){Fc(this,a,b,void 0,c)},_c.Pa=function(a,b,c){Fc(this,a,b,void 0,c)},_c.Oa=function(a,b,c,d){Fc(this,a,b,c,d)},_c.la=function(a,b){function c(f){var g="SELECT COUNT(*) FROM "+t(b[f]);d.executeSql(g,[],function(d,g){var h=g.rows.item(0);e[f]=parseInt(h["COUNT(*)"],10),f++,f==b.length?sa(a,e):c(f)},function(b,c){return sa(a,c,!0),!1})}var d=a.a,e=[];0==b.length?sa(a,0):c(0)},_c.Ga=function(a,b,c,d,e){var f=[];b=Ua(qb(this.a,b),f,6,d,c,!1,e),a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}sa(a,d)},function(b,c){return sa(a,c,!0),!1})},_c.V=function(b,c,d,e,f,h,i,j,k,l){var m=[],n=qb(this.a,d),o=n.e,p=n.type,q=p,r=null!=e&&e!==o?Ya(n,e):null,s=e||o;if(r&&(q=r.type),d=[],l&&a(l[0])){var t=l[0];e=r&&a(l[1])?Xa(n,c,d,r.getName(),f,t,!0,l[1],j,k):Wa(n,c,d,e,f,j,k,t,!0)}else e=Ua(n,d,c,s,f,j,k);g(h)&&(e+=" LIMIT "+h),g(i)&&(e+=" OFFSET "+i),kb(d),b.a.executeSql(e,d,function(a,d){for(var e,f=d.rows.length,g=0;g<f;g++)e=d.rows.item(g),2==c?m[g]=Pa(e[o],p):1==c?m[g]=Pa(e[s],q):3==c?m[g]=[Pa(e[s],q),Pa(e[o],p)]:null!=e&&(m[g]=Ec(e,n));l&&e&&(l[0]=Pa(e[s],q),l[1]=Pa(e[o],p)),sa(b,m)},function(a,c){return sa(b,c,!0),!1})},o(Gc,Dc),Gc.prototype.b=function(a,b,c,d){return b=qb(this.a,c),new zc(a,0,b,d)},_c=Hc.prototype,_c.wa=function(b,c){function d(a,b){for(var d=0;d<c.stores.length;d++)Ic(a,b,c.stores[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)rb(c,e[d])||a.deleteObjectStore(e[d])}function e(b,c){i.c||(a(c)?(h.n=null,i.i(c)):(h.n=b,h.n.onabort=function(){},h.n.onerror=function(){},h.n.onversionchange=function(a){if(h.n&&(h.n.onabort=null,h.n.onblocked=null,h.n.onerror=null,h.n.onversionchange=null,!a.defaultPrevented)){h.n.close(),h.n=null;var b=Error();b.name=a.type,h.ya(b)}},i.callback(parseFloat(j))))}var f,h=this,i=new O,j=void 0,k=c.version;return f=a(k)?Ed.open(b,k):Ed.open(b),f.onsuccess=function(f){var i=f.target.result;if(a(j)||(j=i.version),c.b)h.J(function(a){if(c instanceof tb)for(var f=0;f<a.stores.length;f++)rb(c,a.stores[f].getName())||ub(c,a.stores[f].clone());if(0<sb(c,a,!1,!0).length)if(a=g(i.version)?i.version+1:1,"IDBOpenDBRequest"in ad){i.close();var h=Ed.open(b,a);h.onupgradeneeded=function(a){d(a.target.result,h.transaction)},h.onsuccess=function(a){e(a.target.result)},h.onerror=function(){e(null)}}else{var j=i.setVersion(a+"");j.a=function(a){e(null,a)},j.onsuccess=function(){j.transaction.oncomplete=k,d(i,j.transaction)};var k=function(){var a=Ed.open(b);a.onsuccess=function(a){e(a.target.result)},a.onerror=function(){e(null)}};null!=j.transaction&&(j.transaction.oncomplete=k)}else e(i)},void 0,i);else if(c.version>i.version){var k=i.setVersion(c.version);k.a=function(a){e(null,a)},k.onsuccess=function(){d(i,k.transaction)}}else h.J(function(a){a=sb(c,a,!1,!0),0<a.length?e(null,new wb("different schema: "+a)):e(i)},void 0,i)},f.onupgradeneeded=function(a){a=a.target.result,j=NaN,d(a,f.transaction)},f.onerror=function(a){e(null,a)},f.onblocked=function(a){e(null,a)},g(this.Y)&&!isNaN(this.Y)&&setTimeout(function(){"done"!=f.readyState&&e(null,new Yb("connection timeout after "+h.Y))},this.Y),i},_c.Y=18e4,_c.ya=function(){},_c.Va=function(){},_c.La=function(){},_c.Ta=function(){return"indexeddb"},_c.Sa=function(){return this.n||null},_c.xa=function(){return!!this.n},_c.n=null,_c.Ua=function(){return this.n?parseFloat(this.n.version):void 0},_c.J=function(b,c,d){if(d=d||this.n,a(c)){if(null===c){if(0==d.objectStoreNames.length)return void b(new ob(d.version));throw new vb}d=c.db}else{c=[];for(var e=d.objectStoreNames.length-1;0<=e;e--)c[e]=d.objectStoreNames[e];if(0==c.length)return void b(new ob(d.version));c=d.transaction(c,Bd)}for(var f=d.objectStoreNames,g=[],h=f.length,e=0;e<h;e++){for(var i=c.objectStore(f[e]),j=[],k=0,l=i.indexNames.length;k<l;k++){var m=i.index(i.indexNames[k]);j[k]=new Na(m.keyPath,void 0,m.unique,m.multiEntry,m.name)}g[e]=new Sa(i.name,i.keyPath,i.autoIncrement,void 0,j)}c=new ob(d.version,g),b(c)},_c.na=function(a,b,c,d){var e=this.n;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d("complete",a)},b.onabort=function(a){d("abort",a)},a(b),a=null)},_c.close=function(){this.n.close()},Hd.push(function(a,b){if(!Ed||b&&"indexeddb"!=b)return null;var c=Ed.deleteDatabase(a),d=new pa("vc");return c.onblocked=function(a){for(var b=0;b<d.f.length;b++)d.f[b][0].call(d.f[b][1],a)},c.onerror=function(a){d.i(a)},c.onsuccess=function(a){d.callback(a)},d}),_c=Jc.prototype,_c.wa=function(b,c){function d(a,b){var c=a.version?parseInt(a.version,10):0,d=!1,g=0;a.changeVersion(a.version,(b.b?isNaN(c)?1:c+1:b.version)+"",function(c){f.J(function(a){d=!0;for(var e=0;e<b.count();e++){var f=qb(a,(b.stores[e]||null).getName()),f=f?ab(f,b.stores[e]||null):null;Lc(c,b.stores[e]||null,function(a){a&&g++},f)}for(e=0;e<a.count();e++)f=a.stores[e]||null,rb(b,f.getName())||(b instanceof tb?ub(b,f):(f="DROP TABLE "+_a(f),c.executeSql(f,[],function(){},function(a,b){throw b})))},c,a)},function(a){throw a},function(){d&&e(a)})}function e(b,c){a(c)?(f.q=null,h.i(c)):(f.q=b,h.callback(parseFloat(g)))}var f=this,g=NaN,h=new O,i=null;try{"sqlite"==this.b?ad.sqlitePlugin?(i=ad.sqlitePlugin.openDatabase(b,"",b,this.a),i.readTransaction||(i.readTransaction=i.transaction),i.changeVersion=function(a,b,c,d,e){i.transaction(c,d,e)}):(i=null,this.ga=Error("sqlitePlugin not found.")):i=ad.openDatabase(b,"",b,this.a)}catch(a){if("SECURITY_ERR"!=a.name)throw a;i=null,this.ga=new Xb(a)}return i?(g=i.version||"",null!=c.version&&c.version==i.version?e(i):this.J(function(a){sb(c,a,!0,!1)?d(i,c):e(i)},null,i)):e(null,this.ga),h},_c.Ta=function(){return this.b},_c.ga=null,_c.q=null,_c.Sa=function(){return this.q||null},_c.ya=function(){},_c.Va=function(){},_c.Ua=function(){return this.q?parseFloat(this.q.version):void 0},_c.J=function(a,b,c){function d(a,b){throw b}function f(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var f=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=f.name&&"sqlite_sequence"!=f.name&&"table"==f.type){for(var g,j=("sql"in f?f.sql:void 0),k=j.substr(j.indexOf("("),j.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),l=void 0,j=[],m=!1,n=!1,o=0;o<k.length;o++){var p=k[o].match(/\w+|"[^"]+"/g),q=pd(p,function(a){return a.toUpperCase()}),r=s(p[0]),p=Qa(q[1]);if(-1!=q.indexOf("PRIMARY")&&-1!=q.indexOf("KEY")){if(g=p,e(r)&&!/^[\s\xa0]*$/.test(r)&&"_ROWID_"!=r){var t=r.split(","),l=r;1<t.length&&(l=t,g=void 0)}-1!=q.indexOf("AUTOINCREMENT")&&(m=!0)}else if("_ROWID_"!=r)if("_default_"==r)n=!0;else{var u="UNIQUE"==q[2];0==r.lastIndexOf(f.tbl_name+"-",0)&&(r=r.substr(f.tbl_name.length+1)),q=new Na(r,p,u),j.push(q)}}if(0==f.name.lastIndexOf("ydn.db.me:",0)){var v=f.name.split(":");if(3<=v.length){var w=v[1],l=new Na(v[2],p,u,!0),k=J(j,function(a){return a.getName()==v[2]});0<=k?j[k]=l:j.push(l),k=J(i,function(a){return a.getName()===w}),0<=k?(l=i[k],i[k]=new Sa(l.getName(),l.keyPath,m,g,j,void 0,!n)):i.push(new Sa(w,void 0,!1,void 0,[l]))}}else o=J(i,function(a){return a.getName()===f.name}),0<=o?(k=i[o].index(0),j.push(k),i[o]=new Sa(f.name,l,m,g,j,void 0,!n)):(j=new Sa(f.name,l,m,g,j,void 0,!n),i.push(j))}}d=new ob(h,i),a(d)}}var g=this,h=(c=c||this.q)&&c.version?parseFloat(c.version):void 0,h=isNaN(h)?void 0:h,i=[];b?b.executeSql("SELECT * FROM sqlite_master",[],f,d):c.readTransaction(function(b){g.J(a,b,c)},function(a){throw a},f)},_c.xa=function(){return!!this.q},_c.close=function(){this.q=null},_c.na=function(a,b,c,d){function e(a){d("abort",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}null===this.q&&(a(null),d("abort",this.ga)),c==Bd?this.q.readTransaction(g,e,f):c==Dd?this.q.changeVersion(this.q.version,this.q.version+1+"",g,e,f):this.q.transaction(g,e,f)},Hd.push(function(a,b){if(h(ad.openDatabase)&&(!b||"websql"==b)){var c=new Jc,d=new tb,d=c.wa(a,d),e=function(){};d.s(function(){c.na(function(a){a.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(b,c){if(c&&c.rows)for(var d=c.rows.length,e=0,f=0;f<d;f++){var g=c.rows.item(f);"__WebKitDatabaseInfoTable__"!=g.name&&"sqlite_sequence"!=g.name&&(e++,a.executeSql("DROP TABLE "+g.name))}},function(a,b){throw b})},[],Cd,e)}),d.Ca(function(){})}}),Jc.prototype.La=function(){},sc.prototype.ma=function(a){return"indexeddb"==a&&Ed?new Hc(0,this.m):"sqlite"==a&&ad.sqlitePlugin?new Jc(this.j,"sqlite"):"websql"==a&&h(ad.openDatabase)?new Jc(this.j):null},sc.prototype.branch=sc.prototype.Ya,sc.prototype.getTxNo=sc.prototype.pb,gc.prototype.getTxNo=gc.prototype.e,sc.prototype.run=sc.prototype.eb,uc.prototype.branch=uc.prototype.Ya,uc.prototype.add=uc.prototype.add,uc.prototype.get=uc.prototype.get,uc.prototype.keys=uc.prototype.U,uc.prototype.values=uc.prototype.w,uc.prototype.put=uc.prototype.put,uc.prototype.clear=uc.prototype.clear,uc.prototype.remove=uc.prototype.ja,uc.prototype.count=uc.prototype.count,ic.prototype.add=ic.prototype.add,ic.prototype.get=ic.prototype.get,ic.prototype.keys=ic.prototype.U,ic.prototype.values=ic.prototype.w,ic.prototype.put=ic.prototype.put,ic.prototype.clear=ic.prototype.clear,ic.prototype.remove=ic.prototype.ja,ic.prototype.count=ic.prototype.count,n("ydn.db.Key",Da),Da.prototype.id=Da.prototype.$a,Da.prototype.parent=Da.prototype.ib,Da.prototype.storeName=Da.prototype.jb,n("ydn.db.KeyRange",Ga),Ga.upperBound=Ga.upperBound,Ga.lowerBound=Ga.lowerBound,Ga.bound=Ga.bound,Ga.only=Ga.only,Ga.starts=Ia,za.prototype.store_name=za.prototype.b,za.prototype.getStoreName=za.prototype.a,o(Mc,vc),n("ydn.db.Storage",Mc),o(Oc,Qb),Oc.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],i=1;i<a.length;i++)if(null!=b[i]){var j=Gd(d,b[i]);h[i]=j,this.a?-1==j?e=!1:1==j&&(e=!1,f=!0,-1==Gd(b[i],g)&&(g=b[i])):1==j?e=!1:-1==j&&(e=!1,f=!0,1==Gd(b[i],g)&&(g=b[i]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==Gd(g,b[f])&&(c[f]=g):1==Gd(g,b[f])&&(c[f]=g));else for(i=this.a?-1:1,f=1;f<a.length;f++)h[f]===i&&(c[f]=d);return e?(this.b&&this.b.push(g),c):{continuePrimary:c}},o(Pc,Qb),Pc.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);return c.push(b),c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),i=[],j=1;j<a.length;j++){if(null==a[j])return[];var k=d(a[j]),l=Gd(h,k);i[j]=l,this.a?-1==l?f=!1:1==l&&(f=!1,h=k,g=1):1==l?f=!1:-1==l&&(f=!1,h=k,g=1)}if(j=this.a?-1:1,f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);return this.b&&this.b.push(b[0]),e}if(0==g)for(f=1;f<a.length;f++)i[f]==j&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&Gd(h,d(a[f]))===j&&(e[f]=c(a[f],h));return{continue:e}},Qc.prototype.clone=function(){var a=new Qc(this.c,this.a,this.f,this.e);return a.d=this.d.slice(),a.b=this.b.slice(),a},Qc.prototype.unique=function(a){var b=this.clone();return b.e=!!a,b},Qc.prototype.k=function(a,b,d,e,f){if(d=Ma(b,d,e,f),0<this.b.length){if(!this.a)return"cannot use where clause with existing filter";if(null!=this.a.lower&&null!=this.a.upper&&0==Gd(this.a.lower,this.a.upper))a=c(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],e=null!=e?e:"￿",d=c(this.a.upper)?this.a.upper.slice().push(e):[this.a.upper,e],this.a=Ma(b,a,e,d);else{if(!(1==this.b.length&&this.b[0]==a||c(a)&&M(this.b,a)))return"cannot use where clause with existing filter";this.a=Ka(this.a,d)}}else this.b=c(a)?a:[a],this.a=this.a?Ka(this.a,d):d;return null},o(Wc,Nc),Wc.prototype.open=function(){var a={push:function(){}},a=Yc(this)?new Pc(a):new Oc(a);return lc(this.db,a,Xc(this))},Wc.prototype.qa=function(){return this.a.slice()},Wc.prototype.select=function(){throw Error("not impl")},o(Zc,Nc),_c=Zc.prototype,_c.kb=function(){return new Zc(this.db,this.b,this.type,this.a.clone())},_c.mb=function(){var a=this.a,b=a.clone();return b.f=!a.f,new Zc(this.db,this.b,this.type,b)},_c.unique=function(a){if(!f(a))throw new X("unique value must be a boolean, but "+typeof a+" found");return a=this.a.unique(a),new Zc(this.db,this.b,this.type,a)},_c.C=function(a){var b=e(a)?[a]:a;if(a=this.a.clone(),b=Rc(a,b))throw Error(b);return new Zc(this.db,this.b,this.type,a)},_c.k=function(a,b,c,d,e){if(Uc(this.a)&&Uc(this.a)!=a){var f=Ma(b,c,d,e),f=new Qc(qb(this.b,this.a.c.getName()),f,this.a.f,this.a.e),f=new Zc(this.db,this.b,this.type,f).qa().concat(this.qa());return new Wc(this.db,this.b,this.type,f)}if(!Uc(this.a)&&!$a(qb(this.b,this.a.c.getName()),a))throw new X('index "'+a+'" not exists in '+this.a.c.getName());if(f=this.a.clone(),a=f.k(a,b,c,d,e))throw new X(a);return new Zc(this.db,this.b,this.type,f)},_c.select=function(b){var c=qb(this.b,this.a.c.getName()),f=e(b)?[b]:b,g=this.type;if(b=this.a.clone(),g=Uc(this.a),1==f.length)if("_ROWID_"==(g=f[0])||g==c.keyPath)g=2;else if(g&&"*"!=g){if(!$a(c,g))throw new X('Invalid select "'+g+'", index not found in store "'+c.getName()+'"');if(c=Rc(b,f))throw new X(c);g=1}else g=4;else{if(2!=f.length)throw new X("Selecting more than 2 field names is not supported, but "+f.length+" fields selected.");if(!g)throw new X("Only primary key can be selected for this query.");for(var h=0;2>h;h++){var i;if(i="_ROWID_"!=f[h]){i=c;var j=f[h];i=!(a(i.keyPath)&&(1==i.f.length?i.keyPath===j:d(j)&&M(i.f,j)))}if(i&&f[h]!=g)throw new X('select field name must be "'+g+'", but "'+f[h]+'" found.')}g=3}return new Zc(this.db,this.b,g,b)},_c.lb=function(a){a=a||100;var b=4,c=$c(this);return this.c&&this.c[0]&&(c=Mb(c,this.c[0],this.c[1])),2!=this.type&&3!=this.type&&1!=this.type||(b=this.type),a=mc(this.db,b,c,a),a.s(function(){"rest"==c.e&&(this.c=[c.g,c.h])},this),a},_c.qa=function(){return[this.a.clone()]},_c.cb=function(a,b){var d=$c(this);d.c&&(d=new Lb(d.b,d.d,d.a,Nb(d),Ob(d),!1,d.j));var f=this.db.open(function(d){var g=d.Z();if(e(a))ga(g,a,b);else if(c(a))for(var h=0;h<a.length;h++)ga(g,a[h],b[h]);else if(i(a))for(h in a)a.hasOwnProperty(h)&&(g[h]=a[h]);S(f,d.update(g))},d,Cd,this);return f},_c.open=function(a,b){return this.db.open(a,$c(this),Cd,b)},_c.count=function(){return Vc(this.a)?this.a.e?this.db.count(Sc(this.a)):this.db.count(this.a.c.getName(),Uc(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)},_c.clear=function(){return Vc(this.a)?this.db.clear(this.a.c.getName(),Uc(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)},vc.prototype.A=function(b,c,d,e,f){if(!rb(this.b,b))throw new X('Store "'+b+'" not found.');var g=null;if(a(c)){if(!a(d))throw new X("boundary value must be defined.");g=Ma(c,d,e,f)}else if(a(e))throw new X("second boundary must not be defined.");return b=new Qc(qb(this.b,b),g),new Zc(this.c,this.b,null,b)},kc.prototype.A=function(b,c,d,e,f){if(!rb(this.b,b))throw new X('Store "'+b+'" not found.');var g=null;if(a(c)){if(!a(d))throw new X("boundary value must be defined.");g=Ma(c,d,e,f)}else if(a(e))throw new X("second boundary must not be defined.");return b=new Qc(qb(this.b,b),g),new Zc(this,this.b,null,b)},Zc.prototype.copy=Zc.prototype.kb,Zc.prototype.count=Zc.prototype.count,Zc.prototype.list=Zc.prototype.lb,Zc.prototype.order=Zc.prototype.C,Zc.prototype.patch=Zc.prototype.cb,Zc.prototype.reverse=Zc.prototype.mb,Zc.prototype.unique=Zc.prototype.unique,Zc.prototype.where=Zc.prototype.k,vc.prototype.from=vc.prototype.A,kc.prototype.from=kc.prototype.A,ydn},this||{}),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-96573070-1","auto"),ga("send","pageview"),Foundation.global.namespace="",$(document).foundation(),$("a.left-off-canvas-toggle").on("click",function(){}),$(document).ready(function(){$.ajax({type:"POST",url:"/resetFlash",data:{}}).done(function(a){$("#flashBox").delay(4e3).slideUp(700)}),$("html").bind("ajaxStart",function(){$(this).addClass("busy"),NProgress.start()}).bind("ajaxStop",function(){$(this).removeClass("busy"),NProgress.done()}),moment.locale("id")}),function(a){var b={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:a.noop,fluid:!1,centerBullets:!0},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',init:function(b,c){var d,e=0,f=this;this.clickTimer=a.proxy(this.clickTimer,this),this.addBullet=a.proxy(this.addBullet,this),this.resetAndUnlock=a.proxy(this.resetAndUnlock,this),this.stopClock=a.proxy(this.stopClock,this),this.startTimerAfterMouseLeave=a.proxy(this.startTimerAfterMouseLeave,this),this.clearClockMouseLeaveTimer=a.proxy(this.clearClockMouseLeaveTimer,this),this.rotateTimer=a.proxy(this.rotateTimer,this),this.options=a.extend({},this.defaults,c),"false"===this.options.timer&&(this.options.timer=!1),"false"===this.options.captions&&(this.options.captions=!1),"false"===this.options.directionalNav&&(this.options.directionalNav=!1),this.$element=a(b),this.$wrapper=this.$element.wrap(this.wrapperHTML).parent(),this.$slides=this.$element.children("img, a, div"),this.options.fluid&&this.$wrapper.addClass("fluid"),this.$element.bind("orbit.next",function(){f.shift("next")}),this.$element.bind("orbit.prev",function(){f.shift("prev")}),this.$element.bind("orbit.goto",function(a,b){f.shift(b)}),this.$element.bind("orbit.start",function(a,b){f.startClock()}),this.$element.bind("orbit.stop",function(a,b){f.stopClock()}),d=this.$slides.filter("img"),0===d.length?this.loaded():d.bind("imageready",function(){(e+=1)===d.length&&f.loaded()})},loaded:function(){this.$element.addClass("orbit").css({width:"1px",height:"1px"}),this.setDimentionsFromLargestSlide(),this.updateOptionsIfOnlyOneSlide(),this.setupFirstSlide(),this.options.timer&&(this.setupTimer(),this.startClock()),this.options.captions&&this.setupCaptions(),this.options.directionalNav&&this.setupDirectionalNav(),this.options.bullets&&(this.setupBulletNav(),this.setActiveBullet())},currentSlide:function(){return this.$slides.eq(this.activeSlide)},setDimentionsFromLargestSlide:function(){var b,c=this;c.$element.add(c.$wrapper).width(this.$slides.first().width()),c.$element.add(c.$wrapper).height(this.$slides.first().height()),c.orbitWidth=this.$slides.first().width(),c.orbitHeight=this.$slides.first().height(),b=this.$slides.first().clone(),this.$slides.each(function(){var d=a(this),e=d.width(),f=d.height();e>c.$element.width()&&(c.$element.add(c.$wrapper).width(e),c.orbitWidth=c.$element.width()),f>c.$element.height()&&(c.$element.add(c.$wrapper).height(f),c.orbitHeight=c.$element.height(),b=a(this).clone()),c.numberSlides+=1}),this.options.fluid&&("string"==typeof this.options.fluid&&(b=a('<img src="http://placehold.it/'+this.options.fluid+'" />')),c.$element.prepend(b),b.addClass("fluid-placeholder"),c.$element.add(c.$wrapper).css({width:"inherit"}),c.$element.add(c.$wrapper).css({height:"inherit"}),a(window).bind("resize",function(){c.orbitWidth=c.$element.width(),c.orbitHeight=c.$element.height()}))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){1===this.$slides.length&&(this.options.directionalNav=!1,this.options.timer=!1,this.options.bullets=!1)},setupFirstSlide:function(){var a=this;this.$slides.first().css({"z-index":3}).fadeIn(function(){a.$slides.css({display:"block"})})},startClock:function(){var a=this;if(!this.options.timer)return!1;this.$timer.is(":hidden")?this.clock=setInterval(function(){a.$element.trigger("orbit.next")},this.options.advanceSpeed):(this.timerRunning=!0,this.$pause.removeClass("active"),this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180))},rotateTimer:function(){var a="rotate("+this.degrees+"deg)";this.degrees+=2,this.$rotator.css({"-webkit-transform":a,"-moz-transform":a,"-o-transform":a}),this.degrees>180&&(this.$rotator.addClass("move"),this.$mask.addClass("move")),this.degrees>360&&(this.$rotator.removeClass("move"),this.$mask.removeClass("move"),this.degrees=0,this.$element.trigger("orbit.next"))},stopClock:function(){if(!this.options.timer)return!1;this.timerRunning=!1,clearInterval(this.clock),this.$pause.addClass("active")},setupTimer:function(){this.$timer=a(this.timerHTML),this.$wrapper.append(this.$timer),this.$rotator=this.$timer.find(".rotator"),this.$mask=this.$timer.find(".mask"),this.$pause=this.$timer.find(".pause"),this.$timer.click(this.clickTimer),this.options.startClockOnMouseOut&&(this.$wrapper.mouseleave(this.startTimerAfterMouseLeave),this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)),this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var a=this;this.outTimer=setTimeout(function(){a.timerRunning||a.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=a(this.captionHTML),this.$wrapper.append(this.$caption),this.setCaption()},setCaption:function(){var b,c=this.currentSlide().attr("data-caption");if(!this.options.captions)return!1;if(c)switch(b=a(c).html(),this.$caption.attr("id",c).html(b),this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}else switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed)}},setupDirectionalNav:function(){var a=this;this.$wrapper.append(this.directionalNavHTML),this.$wrapper.find(".left").click(function(){a.stopClock(),a.$element.trigger("orbit.prev")}),this.$wrapper.find(".right").click(function(){a.stopClock(),a.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=a(this.bulletHTML),this.$wrapper.append(this.$bullets),this.$slides.each(this.addBullet),this.$element.addClass("with-bullets"),this.options.centerBullets&&this.$bullets.css("margin-left",-this.$bullets.width()/2)},addBullet:function(b,c){var d,e=b+1,f=a("<li>"+e+"</li>"),g=this;this.options.bulletThumbs&&(d=a(c).attr("data-thumb"))&&f.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+d+") no-repeat"}),this.$bullets.append(f),f.data("index",b),f.click(function(){g.stopClock(),g.$element.trigger("orbit.goto",[f.data("index")])})},setActiveBullet:function(){if(!this.options.bullets)return!1;this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active")},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1}),this.unlock(),this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(a){var b=a;return this.prevActiveSlide=this.activeSlide,this.prevActiveSlide!=b&&("1"!=this.$slides.length&&void(this.locked||(this.lock(),"next"==a?++this.activeSlide==this.numberSlides&&(this.activeSlide=0):"prev"==a?--this.activeSlide<0&&(this.activeSlide=this.numberSlides-1):(this.activeSlide=a,this.prevActiveSlide<this.activeSlide?b="next":this.prevActiveSlide>this.activeSlide&&(b="prev")),this.setActiveBullet(),this.$slides.eq(this.prevActiveSlide).css({"z-index":2}),"fade"==this.options.animation&&this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock),"horizontal-slide"==this.options.animation&&("next"==b&&this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),"prev"==b&&this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)),"vertical-slide"==this.options.animation&&("prev"==b&&this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),"next"==b&&this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)),"horizontal-push"==this.options.animation&&("next"==b&&(this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed)),"prev"==b&&(this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed))),"vertical-push"==this.options.animation&&("next"==b&&(this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed)),"prev"==b&&(this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed))),this.setCaption())))}};a.fn.orbit=function(c){return this.each(function(){a.extend({},b).init(this,c)})}}(jQuery),function(a){function b(b,c){var d=a(b);d.bind("load.imageready",function(){c.apply(b,arguments),d.unbind("load.imageready")})}var c={};a.event.special.imageready={setup:function(a,b,d){c=a||c},add:function(d){var e,f=a(this);1===this.nodeType&&"img"===this.tagName.toLowerCase()&&""!==this.src&&(c.forceLoad?(e=f.attr("src"),f.attr("src",""),b(this,d.handler),f.attr("src",e)):this.complete||4===this.readyState?d.handler.apply(this,arguments):b(this,d.handler))},teardown:function(b){a(this).unbind(".imageready")}}}(jQuery),Slidizle.prototype.init=function(a,b){var c=this,d=a;d.hasClass(c.settings.classes.slider)||d.addClass(c.settings.classes.slider),c._extendSettings(b),c.$refs.slider=d,c.$refs.content=d.find("[data-slidizle-content]").filter(function(){return $(this).closest("[data-slidizle]").get(0)==c.$this.get(0)}),c.$refs.navigation=d.find("[data-slidizle-navigation]").filter(function(){return $(this).closest("[data-slidizle]").get(0)==c.$this.get(0)}),c.$refs.previous=d.find("[data-slidizle-previous]").filter(function(){return $(this).closest("[data-slidizle]").get(0)==c.$this.get(0)}),c.$refs.next=d.find("[data-slidizle-next]").filter(function(){return $(this).closest("[data-slidizle]").get(0)==c.$this.get(0)}),c.$refs.timer=d.find("[data-slidizle-timer]").filter(function(){return $(this).closest("[data-slidizle]").get(0)==c.$this.get(0)}),c.$refs.content&&c.$refs.content.addClass(c.settings.classes.content),c.$refs.next&&c.$refs.next.addClass(c.settings.classes.next),c.$refs.previous&&c.$refs.previous.addClass(c.settings.classes.previous),c.$refs.navigation&&c.$refs.navigation.addClass(c.settings.classes.navigation),c.$refs.timer&&c.$refs.timer.addClass(c.settings.classes.timer);var e=c.$refs.content.children(":first-child");if(e.length>0){var f=e[0].nodeName.toLowerCase();c.$refs.medias=c.$refs.content.children(f)}if(d.addClass(c.settings.classes.slider),c.$refs.medias.filter(":first-child").addClass(c.settings.classes.first),c.$refs.medias.filter(":last-child").addClass(c.settings.classes.last),c.$refs.medias){c.$refs.medias.addClass(c.settings.classes.slide),c.$refs.medias.bind(c.clickEvent,function(a){d.trigger("slidizle.click",[c]),c.settings.onClick&&c.settings.onClick(c)}),c.total=c.$refs.medias.length,c.current_index=0,c.$refs.navigation.length>=1&&c._initNavigation(),c.initPreviousNextNavigation();var g=c.$refs.medias.filter(".active:first");g.length>=1&&(c.current_index=g.index()),c._updateSlidesRefs(),c.settings.pauseOnHover&&d.hover(function(a){c._isOver=!0,c.pause()},function(a){c._isOver=!1,c.resume()}),c.settings.keyboardEnabled&&"false"!=c.settings.keyboardEnabled&&c._initKeyboardNavigation(),c.settings.touchEnabled&&navigator.userAgent.match(/mobile/gi)&&c._initTouchNavigation(),c.settings.autoPlay&&c.$refs.medias.length>1&&c.play(),c.settings.nextOnClick&&c.$refs.content.bind("click",function(){c.next()}),c.settings.onInit&&c.settings.onInit(c),d.trigger("slidizle.init",[c]),c.$this.addClass(c.settings.classes.forward),c._changeMedias()}else c.settings.onInit&&c.settings.onInit(c),d.trigger("slidizle.init",[c])},Slidizle.prototype._initNavigation=function(){var a=this;a.$this;if(!a.$refs.navigation)return!1;if(a.total<=1&&a.$refs.navigation.hide(),a.$refs.navigation.children().length<=0)for(var b=a.$refs.navigation[0].nodeName.toLowerCase(),c="dl"==b?"dt":"ol"==b?"li":"ul"==b?"li":"div",d=0;d<a.total;d++)a.$refs.navigation.append("<"+c+">"+(d+1)+"</"+c+">");a.$refs.navigation.children().bind(a.clickEvent,function(b){var c=$(this),d=c.attr("data-slidizle-slide-id"),e=a.$refs.medias.filter('[data-slidizle-slide-id="'+d+'"]');if(a.previous_index=a.current_index,d&&e){var f=e.index();f!=a.current_index&&(a.current_index=f,a._changeMedias())}else $(this).index()!=a.current_index&&(a.current_index=$(this).index(),a._changeMedias());b.preventDefault()})},Slidizle.prototype._initKeyboardNavigation=function(){var a=this;a.$this;$(document).bind("keyup",function(b){switch(b.keyCode){case 39:a.next();break;case 37:a.previous()}})},Slidizle.prototype._initTouchNavigation=function(){var a,b,c=this;c.$this;$(document).bind("touchstart",function(c){a=c.originalEvent.touches[0].clientX,b=c.originalEvent.touches[0].clientY}),$(document).bind("touchmove",function(d){if(a&&b){var e=d.originalEvent.touches[0].clientX,f=d.originalEvent.touches[0].clientY,g=a-e,h=b-f;Math.abs(g)>Math.abs(h)&&(g>0?c.next():c.previous()),a=b=null}})},Slidizle.prototype.initPreviousNextNavigation=function(){var a=this;a.$this;a.$refs.previous&&(a.total>1&&a.$refs.previous.bind(a.clickEvent,function(){a.previous()}),a.total<=1&&a.$refs.previous.hide()),a.$refs.next&&(a.total>1&&a.$refs.next.bind(a.clickEvent,function(){a.next()}),a.total<=1&&a.$refs.next.hide())},Slidizle.prototype._pauseTimer=function(){var a=this;clearInterval(a._internalTimer)},Slidizle.prototype._stopTimer=function(){var a=this;clearInterval(a._internalTimer),a._resetTimer()},Slidizle.prototype._resetTimer=function(){var a=this;a.current_timeout_time=a.$refs.currentSlide.data("slidizle-timeout")||a.settings.timeout,a.total_timeout_time=a.$refs.currentSlide.data("slidizle-timeout")||a.settings.timeout},Slidizle.prototype._startTimer=function(){var a=this;a.$this;clearInterval(a._internalTimer),a._internalTimer=setInterval(function(){a.current_timeout_time-=10,a.current_timeout_time<=0&&a.next()},10)},Slidizle.prototype._changeMedias=function(){function a(){b.$refs.previousActiveSlide&&b.$this.removeClass("slide-"+b.$refs.previousActiveSlide.index()),b.$this.addClass("slide-"+b.$refs.currentSlide.index()),b.isLast()?b.$this.addClass(b.settings.classes.last):b.$this.removeClass(b.settings.classes.last),b.isFirst()?b.$this.addClass(b.settings.classes.first):b.$this.removeClass(b.settings.classes.first),b.$refs.previousActiveSlide&&b.$this.removeClass("loaded-slide-"+b.$refs.previousActiveSlide.index()),b.$this.addClass("loaded-slide-"+b.$refs.currentSlide.index()),b.$refs.medias.removeClass(b.settings.classes.active),b.$refs.currentSlide.addClass(b.settings.classes.active),b.$refs.medias.removeClass(b.settings.classes.beforeActive).removeClass(b.settings.classes.afterActive),b.getBeforeActiveSlides().addClass(b.settings.classes.beforeActive),b.getAfterActiveSlides().addClass(b.settings.classes.afterActive),b.$refs.medias.removeClass(b.settings.classes.previousActive).removeClass(b.settings.classes.nextActive),b.getPreviousSlide().addClass(b.settings.classes.previousActive),b.getNextSlide().addClass(b.settings.classes.nextActive),b.settings.onChange&&b.settings.onChange(b),c.trigger("slidizle.change",[b]),0==b.$refs.currentSlide.index()&&b.$refs.previousSlide?b.$refs.previousSlide.index()==b.$refs.medias.length-1?(b.settings.onNext&&b.settings.onNext(b),c.trigger("slidizle.next",[b])):(b.settings.onPrevious&&b.settings.onPrevious(b),c.trigger("slidizle.previous",[b])):b.$refs.currentSlide.index()==b.$refs.medias.length-1&&b.$refs.previousSlide?0==b.$refs.previousSlide.index()?(b.settings.onPrevious&&b.settings.onPrevious(b),c.trigger("slidizle.previous",[b])):(b.settings.onNext&&b.settings.onNext(b),c.trigger("slidizle.next",[b])):b.$refs.previousSlide?b.$refs.currentSlide.index()>b.$refs.previousSlide.index()?(b.settings.onNext&&b.settings.onNext(b),c.trigger("slidizle.next",[b])):(b.settings.onPrevious&&b.settings.onPrevious(b),c.trigger("slidizle.previous",[b])):(b.settings.onNext&&b.settings.onNext(b),c.trigger("slidizle.next",[b])),b.getTotalTimeout()&&!b._isOver&&b.isPlay()&&b._startTimer(),b.settings.afterChange&&b.settings.afterChange(b),c.trigger("slidizle.afterChange",[b])}var b=this,c=b.$this,d=b.settings.classes.disabled;b._updateSlidesRefs(),b.settings.beforeChange&&b.settings.beforeChange(b),c.trigger("slidizle.beforeChange",[b]),b._stopTimer(),b.$refs.next&&(b.isLast()&&!b.isLoop()?b.$refs.next.addClass(d):b.$refs.next.hasClass(d)&&b.$refs.next.removeClass(d)),b.$refs.previous&&(b.$refs.previous&&b.isFirst()&&!b.isLoop()?b.$refs.previous.addClass(d):b.$refs.previous.hasClass(d)&&b.$refs.previous.removeClass(d));var e=b.$refs.currentSlide.attr("data-slidizle-slide-id");b.$refs.navigation.each(function(){var a=$(this),c=$(this).children('[data-slidizle-slide-id="'+e+'"]');e&&c?(a.children().removeClass(b.settings.classes.active),c.addClass(b.settings.classes.active)):(a.children().removeClass(b.settings.classes.active),a.children(":eq("+b.current_index+")").addClass(b.settings.classes.active))}),b.$refs.slider.addClass(b.settings.classes.loading),b.$refs.currentSlide.addClass(b.settings.classes.loading),b.settings.loadBeforeTransition&&"false"!=b.settings.loadBeforeTransition?(b.settings.beforeLoading&&b.settings.beforeLoading(b),c.trigger("slidizle.beforeLoading",[b]),b._loadSlide(b.$refs.currentSlide,function(d){d.removeClass(b.settings.classes.loading),b.$refs.slider.removeClass(b.settings.classes.loading),b.settings.afterLoading&&b.settings.afterLoading(b),c.trigger("slidizle.afterLoading",[b]),a()})):a()},Slidizle.prototype._updateSlidesRefs=function(){var a=this,b=(a.$this,a.current_index||0),c=a.next_index||a.current_index+1<a.total?a.current_index+1:0,d=a.previous_index||a.current_index-1>=0?a.current_index-1:a.total-1;a.$refs.currentSlide&&(a.$refs.previousActiveSlide=a.$refs.currentSlide),a.$refs.previousSlide=a.$refs.content.children(":eq("+d+")"),a.$refs.currentSlide=a.$refs.content.children(":eq("+b+")"),a.$refs.nextSlide=a.$refs.content.children(":eq("+c+")"),a.$refs.beforeActiveSlides=a.$refs.medias.filter(":lt("+b+")"),a.$refs.afterActiveSlides=a.$refs.medias.filter(":gt("+b+")")},Slidizle.prototype._loadSlide=function(a,b){function c(){h++,d.loadingProgress=100/g.length*h,d.settings.onLoading&&d.settings.onLoading(d),e.trigger("slidizle.onLoading",[d]),h>=g.length&&b(f)}var d=this,e=d.$this,f=$(a),g=[],h=0,i=f.find("*:not(script)").filter(function(){return $(this).closest("[data-slidizle]").get(0)==d.$this.get(0)});if(i=i.add(f),i.each(function(){var a,b=$(this);if(void 0!==b.attr("data-slidizle-preload-custom")&&!1!==b.attr("data-slidizle-preload-custom"))return void g.push({type:"custom",$elm:b});if(-1==b.css("background-image").indexOf("none")){var c=b.css("background-image");if(-1!=c.indexOf("url")){a=c.match(/url\((.*?)\)/)[1].replace(/\"/g,"")}}else"img"==b.get(0).nodeName.toLowerCase()&&void 0!==b.attr("src")&&(a=b.attr("src"));a&&g.push({type:"image",url:a})}),!g.length)return void b(f);$(g).each(function(a,b){switch(b.type){case"image":var d=new Image;$(d).load(function(){c()}).error(function(){c()}).attr("src",b.url);break;case"custom":b.$elm.bind("slidizle.loaded",function(a){c()})}}),d.loadingProgress=0},Slidizle.prototype.play=function(){var a=this,b=a.$this;a.isDisabled()||!a._isPlaying&&a.getTotalTimeout()&&a.$refs.medias.length&&(a.$this.removeClass(a.settings.classes.pause),a.$this.removeClass(a.settings.classes.stop),a.$this.addClass(a.settings.classes.play),a._isPause=!1,a._isPlaying=!0,a._resetTimer(),a._startTimer(),a.settings.onPlay&&a.settings.onPlay(a),b.trigger("slidizle.play",[a]))},Slidizle.prototype.resume=function(){var a=this,b=a.$this;a.isDisabled()||a.isPause()&&(a.$this.removeClass(a.settings.classes.pause),a.$this.removeClass(a.settings.classes.stop),a.$this.addClass(a.settings.classes.play),a._startTimer(),a._isPause=!1,a._isPlaying=!0,a.settings.onResume&&a.settings.onResume(a),b.trigger("slidizle.resume",[a]))},Slidizle.prototype.pause=function(){var a=this,b=a.$this;a.isDisabled()||a.isPlay()&&(a.$this.removeClass(a.settings.classes.play),a.$this.removeClass(a.settings.classes.stop),a._isPause=!0,a._isPlaying=!1,a._pauseTimer(),a.$this.addClass(a.settings.classes.pause),a.settings.onPause&&a.settings.onPause(a),b.trigger("slidizle.pause",[a]))},Slidizle.prototype.stop=function(){var a=this,b=a.$this;a.isDisabled()||a.isPlay()&&(a.$this.removeClass(a.settings.classes.play),a.$this.removeClass(a.settings.classes.pause),a._isPause=!1,a._isPlaying=!1,a._stopTimer(),a.$this.addClass(a.settings.classes.stop),a.settings.onStop&&a.settings.onStop(a),b.trigger("slidizle.stop",[a]))},Slidizle.prototype.togglePlayPause=function(){var a=this;a.$this;a.isDisabled()||(a._isPlaying?a.pause():a.play())},Slidizle.prototype.next=function(){var a=this;a.$this,a.settings.classes.disabled;a.isDisabled()||!a.isLoop()&&a.isLast()||(a.$this.removeClass(a.settings.classes.backward),a.$this.addClass(a.settings.classes.forward),a._previous_active_index=a.current_index,a.current_index=a.current_index+1<a.total?a.current_index+1:0,a.previous_index=a.current_index-1>=0?a.current_index-1:a.total-1,a.next_index=a.current_index+1<a.total?a.current_index+1:0,a._changeMedias())},Slidizle.prototype.previous=function(){var a=this;a.$this;a.isDisabled()||!a.isLoop()&&a.isFirst()||(a.$this.removeClass(a.settings.classes.forward),a.$this.addClass(a.settings.classes.backward),a._previous_active_index=a.current_index,a.current_index=a.current_index-1<0?a.total-1:a.current_index-1,a.previous_index=a.current_index-1>=0?a.current_index-1:a.total-1,a.next_index=a.current_index+1<a.total?a.current_index+1:0,a._changeMedias())},Slidizle.prototype.goto=function(a){var b=this,c=(b.$this,null);if(!b.isDisabled()){if("string"==typeof a)if("."==a.substr(0,1)||"#"==a.substr(0,1))c=b.$refs.content.children(a);else{var d=b.$refs.medias.filter('[data-slidizle-slide-id="'+a+'"]');1==d.length?c=d:1==b.$refs.medias.filter("#"+a).length&&(c=b.$refs.medias.filter("#"+a))}else"number"==typeof a&&(c=b.$refs.medias.filter(":eq("+a+")"));c&&null!=c.index()&&(b.current_index=c.index(),b._changeMedias())}},Slidizle.prototype.gotoAndPlay=function(a){this.isDisabled()||(this.gotoSlide(a),this.play())},Slidizle.prototype.gotoAndStop=function(a){this.isDisabled()||(this.gotoSlide(a),this.stop())},Slidizle.prototype.getCurrentSlide=function(){return this.$refs.currentSlide},Slidizle.prototype.getActiveSlide=Slidizle.prototype.getCurrentSlide,Slidizle.prototype.getPreviousSlide=function(){return this.$refs.previousSlide},Slidizle.prototype.getNextSlide=function(){return this.$refs.nextSlide},Slidizle.prototype.getBeforeActiveSlides=function(){return this.$refs.beforeActiveSlides},Slidizle.prototype.getAfterActiveSlides=function(){return this.$refs.afterActiveSlides},Slidizle.prototype.getPreviousActiveSlide=function(){return this.$refs.previousActiveSlide},Slidizle.prototype.getAllSlides=function(){return this.$refs.medias},Slidizle.prototype.getSettings=function(){return this.settings},Slidizle.prototype.getLoadingProgress=function(){return this.loadingProgress},Slidizle.prototype.getRemainingTimeout=function(){return this.current_timeout_time},Slidizle.prototype.getCurrentTimeout=function(){var a=this.$refs.currentSlide.data("slidizle-timeout")||this.settings.timeout;return a?a-this.current_timeout_time:null},Slidizle.prototype.getTotalTimeout=function(){return this.total_timeout_time||this.settings.timeout||!1},Slidizle.prototype.isLast=function(){return this.getCurrentSlide().index()>=this.getAllSlides().length-1},Slidizle.prototype.isFirst=function(){return this.getCurrentSlide().index()<=0},Slidizle.prototype.isHover=function(){return this._isOver},Slidizle.prototype.isDisabled=function(){var a=!1;return a="function"==typeof this.settings.disabled?this.settings.disabled():this.settings.disabled,a?this.$this.addClass(this.settings.classes.disabled):this.$this.removeClass(this.settings.classes.disabled),a},Slidizle.prototype.isLoop=function(){var a=this.settings.loop;return a&&"false"!=a},Slidizle.prototype.isPlay=function(){return this._isPlaying},Slidizle.prototype.isPause=function(){return this._isPause},Slidizle.prototype.isStop=function(){return!this._isPlaying&&!this._isPause},Slidizle.prototype._extendSettings=function(options){var _this=this,$this=_this.$this;_this.settings=jQuery.extend(_this.settings,options,!0);var flattenObject=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c))if("object"==typeof a[c]&&null!=a[c]){var d=flattenObject(a[c]);for(var e in d)d.hasOwnProperty(e)&&(b[c+"."+e]=d[e])}else b[c]=a[c];return b},flatSettings=flattenObject(_this.settings);for(var name in flatSettings){var inline_setting="slidizle-"+name.replace(".","-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),inline_attr=$this.data(inline_setting);void 0!==inline_attr&&("number"==typeof inline_attr||"boolean"==typeof inline_attr?eval("_this.settings."+name+" = "+inline_attr):eval("_this.settings."+name+' = "'+inline_attr+'"'))}},jQuery.fn.slidizle=function(a){if(Slidizle.prototype[a]){var b=Array.prototype.slice.call(arguments,1);this.each(function(){var c=$(this).data("slidizle_api");c[a].apply(c,b)})}else if("object"!=typeof a&&a)jQuery.error("Method "+a+" does not exist on jQuery.slidizle");else{var b=Array.prototype.slice.call(arguments);this.each(function(){if($this=$(this),null==$this.data("slidizle_api")||""==$this.data("slidizle_api")){var a=new Slidizle($this,b[0]);$this.data("slidizle_api",a)}})}return this},exports.default=Slidizle,module.exports=Slidizle;var Pizza={version:"0.2.1",settings:{donut:!1,donut_inner_ratio:.4,percent_offset:35,show_text:!0,animation_speed:500,always_show_text:!1,show_grid:!0,bar_spacer:100,bar_intervals:6,animation_type:"elastic"},NS:"http://www.w3.org/2000/svg",init:function(a,b){var c=this;this.scope=a||document.body;var d=$("[data-pie-id], [data-line-id], [data-bar-id]",this.scope);$.extend(!0,this.settings,b),d.length>0?d.each(function(){return c.build($(this),b)}):($(this.scope).is("[data-pie-id]")||$(this.scope).is("[data-line-id]")||$(this.scope).is("[data-bar-id]"))&&this.build($(this.scope),b),this.events()},events:function(){var a=this;$(window).off(".pizza").on("resize.pizza",a.throttle(function(){a.init()},500)),$(this.scope).off(".pizza"),this.pie_events(),this.line_events(),this.bar_events()},build:function(a,b){a.data("settings",$.extend({},this.settings,b,a.data("options"))),this.data(a,b||{}),a.data("pie-id")?this.update_DOM(this.pie(a)):a.data("line-id")?this.update_DOM(this.line(a)):a.data("bar-id")&&this.update_DOM(this.bar(a))},data:function(a,b){var c=[];return $("li",a).each(function(){var a=$(this);b.data?c.push({value:b.data[a.index()],text:a.data("text"),color:a.css("color"),segment:a}):c.push({x:a.data("x"),y:a.data("y"),value:a.data("value"),text:a.data("text"),color:a.css("color"),segment:a})}),a.data("graph-data",c)},update_DOM:function(a){var b=a[0],c=a[1];return $(this.identifier(b)).html(c)},animate:function(a,b,c,d,e){var e=e||1.05;a.hover(function(a){var f=Snap(a.target),g=Snap(f.node.nextSibling);f.animate({transform:"s"+e+" "+e+" "+b+" "+c},d.animation_speed,mina[d.animation_type]),/text/.test(g.node.nodeName)&&(g.touchend(function(){Snap(f).animate({transform:"s"+e+" "+e+" "+b+" "+c},d.animation_speed,mina[d.animation_type])}),d.show_text&&(g.animate({opacity:1},d.animation_speed),g.touchend(function(){g.animate({opacity:1},d.animation_speed)})))},function(a){var e=Snap(a.target),f=Snap(e.node.nextSibling);e.animate({transform:"s1 1 "+b+" "+c},d.animation_speed,mina[d.animation_type]),/text/.test(f.node.nodeName)&&(d.show_text||f.animate({opacity:0},d.animation_speed))})},parse_options:function(a,b,c){var d=Math.round(b)+"%";return a.replace(/{{ *percent *}}/gi,d).replace(/{{ *value *}}/gi,c)},svg:function(a,b){var c=$(this.identifier(a)),d=$("svg",c),e=c.width(),f=a.attr("data-pie-id"),g=c.height();if(d.length>0)d=d[0];else{var d=this.svg_obj("svg");d.width=e,d.height=g}if(f)var h="-"+b.percent_offset+" -"+b.percent_offset+" "+(e+1.5*b.percent_offset)+" "+(e+1.5*b.percent_offset);else var h="-"+b.percent_offset+" -"+b.percent_offset+" "+(e+1.6*b.percent_offset)+" "+(g+1.6*b.percent_offset);return this.set_attr(d,{width:"100%",height:"100%",viewBox:h}),d},identifier:function(a){return id=a.data("pie-id")||a.data("bar-id")||a.data("line-id"),"#"+id},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},svg_obj:function(a){return document.createElementNS(this.NS,a)},ticks:function(a,b,c){var d=b-a,e=Math.pow(10,Math.floor(Math.log(d/c)/Math.LN10)),f=c/d*e;f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2);var g=Math.ceil(a/e)*e,h=Math.floor(b/e)*e+.5*e,j=[];for(i=g;i<h;i+=e)j.push(i);return j},set_attr:function(a,b){for(attr in b)a.setAttribute(attr,b[attr]);return this},flip:function(a,b){a.setAttribute("transform","translate(0, "+b+") scale(1, -1)")}};$.extend(Pizza,{bar:function(a){var b=a.data("settings"),c=this.svg(a,b),d=a.data("graph-data"),e=0,f=$(this.identifier(a)),g=f.outerWidth(),h=f.outerHeight(),i=min=0,j=0,k=b.bar_spacer*(b.bar_spacer/g),l=(g-d.length*k)/d.length;l<10&&(k=1,l=(g-d.length*k)/d.length);for(var m=0;m<d.length;m++)i<d[m].value&&(i=d[m].value),min>d[m].value&&(min=d[m].value),j+=d[m].value;var n=$("g[data-id=bars]",c);if(n.length>0)var o=n[0];else{var o=this.svg_obj("g");o.setAttribute("data-id","bars")}b.show_grid&&this.assemble_grid(c,min,i,g,h,b),o.setAttribute("transform","translate(0, "+h+") scale(1, -1)");for(var m=0;m<d.length;m++){var p=h*(d[m].value/i),q=$("rect[data-id=r"+m+"]",o);if(q.length>0)var r=q[0];else{var r=this.svg_obj("rect");r.setAttribute("data-id","r"+m)}if(0===e)var s=e;else var s=e+k;r.setAttribute("data-y",p),this.set_attr(r,{x:s,y:0,width:l,height:p,fill:d[m].color,stroke:b.stroke_color,strokeWidth:b.stroke_width}),e=s+l,n.length<1&&o.appendChild(r)}return n.length<1&&c.appendChild(o),[a,c]},animate_bar:function(a,b,c){var d=($(a),b+15);a.hover(function(a){Snap(a.target).animate({height:d},c.animation_speed,mina[c.animation_type])},function(a){Snap(a.target).animate({height:b},c.animation_speed,mina[c.animation_type])})},assemble_grid:function(a,b,c,d,e,f){var g=$("g[data-id=bars]",a);if(g.length>0)var h=$("g[data-id=grid]",a)[0],j=$("g[data-id=labels]",a)[0];else{var h=this.svg_obj("g"),j=this.svg_obj("g");h.setAttribute("data-id","grid"),j.setAttribute("data-id","labels")}for(var k=this.ticks(b,c,f.bar_intervals),l=i=k.length,m=e/(l-1),n=0;i--;){if(g.length>0)var o=$("line[data-id=l"+i+"]",h)[0],p=$("text[data-id=t"+i+"]",j)[0];else{var o=this.svg_obj("line"),p=this.svg_obj("text");o.setAttribute("data-id","l"+i),p.setAttribute("data-id","t"+i)}var q=n+m;this.set_attr(o,{x1:0,x2:d,y1:q,y2:q,stroke:"gray","stroke-width":1,"stroke-dasharray":"5,5"}).set_attr(p,{x:-8,y:q+5,"text-anchor":"end"}),p.textContent=k[i],g.length<1&&(h.appendChild(o),j.appendChild(p)),n=q}h.setAttribute("transform","translate(0, -"+n/l+")"),j.setAttribute("transform","translate(0, -"+n/l+")"),g.length<1&&(a.appendChild(h),a.appendChild(j))},bar_events:function(){}}),$.extend(Pizza,{line:function(a){for(var b=a.data("settings"),c=this.svg(a,b),d=$(this.identifier(a)),e=d.outerWidth(),f=d.outerHeight(),g=a.data("graph-data"),h=max_y=min_x=min_y=total_x=total_y=0,i=g.length,j="",i=0;i<g.length;i++)g[i].x>h&&(h=g[i].x),g[i].y>max_y&&(max_y=g[i].y),min_x>g[i].x&&(min_x=g[i].x),min_y>g[i].y&&(min_y=g[i].y),total_x+=g[i].x,total_y+=g[i].y;var k=$("g[data-id=line]",c);if(k.length>0)var l=$("g[data-id=line]",c)[0],m=$("g[data-id=points]",c)[0],n=$("path[data-id=path]",l)[0];else{var n=this.svg_obj("path"),l=this.svg_obj("g"),m=this.svg_obj("g");l.setAttribute("data-id","line"),m.setAttribute("data-id","points"),n.setAttribute("data-id","path")}for(var i=0;i<g.length;i++){if(k.length>0)var o=$("circle[data-id=c"+i+"]",m)[0];else{var o=this.svg_obj("circle");o.setAttribute("data-id","c"+i)}var p=g[i].x/h*e,q=g[i].y/max_y*f;j+=p+","+q+" ",this.set_attr(o,{cx:p,cy:q,r:0,fill:g[i].color,"data-value":g[i].x+", "+g[i].y,"data-tooltip":"",title:g[i].x+", "+g[i].y,class:"has-tip tip-top"}),Snap(o).animate({r:4},1500,mina[b.animation_type]),this.animate(Snap(o),p,q,b,2),k.length<1&&m.appendChild(o)}this.flip(m,f),this.flip(l,f),b.show_grid&&(this.assemble_grid_x(c,min_x,h,e,f,b),this.assemble_grid_y(c,min_y,max_y,e,f,b));var r=this.points_to_path(j);return this.set_attr(n,{d:r,fill:"none",stroke:"black","stroke-width":2}),k.length<1&&(l.appendChild(n),c.appendChild(l)),k.length<1&&c.appendChild(m),[a,c]},assemble_grid_x:function(a,b,c,d,e,f){var g=$("g[data-id=gridx]",a);if(g.length>0)var h=g[0],j=$("g[data-id=labelx]",a)[0];else{var h=this.svg_obj("g"),j=this.svg_obj("g");h.setAttribute("data-id","gridx"),j.setAttribute("data-id","labelx")}for(var k=this.ticks(b,c,f.bar_intervals).reverse(),l=i=k.length,m=0,n=d/(l-1);i--;){if(g.length>0)var o=$("line[data-id=l"+i+"]",h)[0],p=$("text[data-id=t"+i+"]",j)[0];else{var o=this.svg_obj("line"),p=this.svg_obj("text");o.setAttribute("data-id","l"+i),p.setAttribute("data-id","t"+i)}var q=m+n;this.set_attr(o,{x1:q,x2:q,y1:0,y2:e,stroke:"gray","stroke-width":1,"stroke-dasharray":"5,5"}).set_attr(p,{y:e+20,x:q-n,"text-anchor":"middle"}),g.length<1&&(p.innerHTML=k[i],j.appendChild(p),h.appendChild(o)),m=q}h.setAttribute("transform","translate(-"+n+", 0)"),g.length<1&&(a.appendChild(h),a.appendChild(j))},assemble_grid_y:function(a,b,c,d,e,f){var g=$("g[data-id=gridy]",a);if(g.length>0)var h=g[0],j=$("g[data-id=labely]",a)[0];else{var h=this.svg_obj("g"),j=this.svg_obj("g");h.setAttribute("data-id","gridy"),j.setAttribute("data-id","labely")}for(var k=this.ticks(b,c,f.bar_intervals),l=i=k.length,m=0;i--;){if(g.length>0)var n=$("line[data-id=l"+i+"]",h)[0],o=$("text[data-id=t"+i+"]",j)[0];else{var n=this.svg_obj("line"),o=this.svg_obj("text");n.setAttribute("data-id","l"+i),o.setAttribute("data-id","t"+i)}var p=m+e/(l-1);this.set_attr(n,{x1:0,x2:d,y1:p,y2:p,stroke:"gray","stroke-width":1,"stroke-dasharray":"5,5"}).set_attr(o,{x:-8,y:p+5,"text-anchor":"end"}),g.length<1&&(j.appendChild(o),h.appendChild(n),o.textContent=k[i]),m=p}h.setAttribute("transform","translate(0, -"+m/l+")"),j.setAttribute("transform","translate(0, -"+m/l+")"),g.length<1&&(a.appendChild(h),a.appendChild(j))},points_to_path:function(a){var a=a.split(/\s+|,/),b=a.shift(),c=a.shift();a.join(" ");return["M"+b+","+c+"L"].concat(a).join(" ")},line_events:function(){$(this.scope).on("mouseenter.pizza mouseleave.pizza touchstart.pizza","[data-line-id] li",function(a){var b=$(this).parent(),c=$("#"+b.data("line-id")+' circle[data-id="c'+$(this).index()+'"]')[0],d=$(this).parent().data("settings");/start/i.test(a.type)&&$(c).siblings("circle").each(function(){this.nodeName&&Snap(c).animate({transform:"s1 1 "+c.getAttribute("cx")+" "+c.getAttribute("cy")},d.animation_speed,mina[d.animation_type])}),/enter|start/i.test(a.type)?(Snap(c).animate({transform:"s2 2 "+c.getAttribute("cx")+" "+c.getAttribute("cy")},d.animation_speed,mina[d.animation_type]),$(c).trigger("mouseenter")):(Snap(c).animate({transform:"s1 1 "+c.getAttribute("cx")+" "+c.getAttribute("cy")},d.animation_speed,mina[d.animation_type]),$(c).trigger("mouseout"))})}}),$.extend(Pizza,{pie:function(a){for(var b=a.data("settings"),c=this.svg(a,b),d=a.data("graph-data"),e=0,f=[],g=0,h=$(this.identifier(a)),i=h.outerWidth(),j=0;j<d.length;j++)e+=d[j].value;for(var j=0;j<d.length;j++)f[j]=d[j].value/e*Math.PI*2;1==f.length&&(f[0]=2*Math.PI-1e-4);for(var j=0;j<d.length;j++){var k=g+f[j],l=i/2,m=i/2,n=i/2*.85;if(!b.donut){var o=l+n*Math.sin(g),p=m-n*Math.cos(g),q=l+n*Math.sin(k),r=m-n*Math.cos(k),s=0;k-g>Math.PI&&(s=1);var t="M"+l+","+m+" L"+o+","+p+" A"+n+","+n+" 0 "+s+" 1 "+q+","+r+" Z"}var u=$('path[data-id="s'+j+'"]',c);if(u.length>0)var v=u[0];else var v=this.svg_obj("path");var w=d[j].value/e*100,x=$('text[data-id="s'+j+'"]',c);if(x.length>0){var y=x[0];y.setAttribute("x",l+(n+b.percent_offset)*Math.sin(g+f[j]/2)),y.setAttribute("y",m-(n+b.percent_offset)*Math.cos(g+f[j]/2))}else{if(d[j].text)var z=this.parse_options(d[j].text,w,d[j].value);else var z=Math.round(w)+"%";var y=this.svg_obj("text");y.setAttribute("x",l+(n+b.percent_offset)*Math.sin(g+f[j]/2)),y.setAttribute("y",m-(n+b.percent_offset)*Math.cos(g+f[j]/2)),y.textContent=z}y.setAttribute("text-anchor","middle"),b.always_show_text?Snap(y).animate({opacity:1},b.animation_speed):Snap(y).attr({opacity:0},b.animation_speed),y.setAttribute("data-id","s"+j),b.donut?this.annular_sector(v,{centerX:l,centerY:m,startDegrees:g,endDegrees:k,innerRadius:n*b.donut_inner_ratio,outerRadius:n}):v.setAttribute("d",t),this.set_attr(v,{fill:d[j].color,stroke:b.stroke_color,strokeWidth:b.stroke_width,"data-cx":l,"data-cy":m,"data-id":"s"+j});if($("g[data-id=g"+j+"]",c).length<1){var A=this.svg_obj("g");A.setAttribute("data-id","g"+j),A.appendChild(v),A.appendChild(y),c.appendChild(A),this.animate(Snap(v),l,m,b)}g=k}return[a,c]},annular_sector:function(a,b){function c(a){var b={cx:a.centerX||0,cy:a.centerY||0,startRadians:a.startDegrees||0,closeRadians:a.endDegrees||0},c=void 0!==a.thickness?a.thickness:100;return void 0!==a.innerRadius?b.r1=a.innerRadius:void 0!==a.outerRadius?b.r1=a.outerRadius-c:b.r1=200-c,void 0!==a.outerRadius?b.r2=a.outerRadius:b.r2=b.r1+c,b.r1<0&&(b.r1=0),b.r2<0&&(b.r2=0),b}var d=c(b),e=[[d.cx+d.r2*Math.sin(d.startRadians),d.cy-d.r2*Math.cos(d.startRadians)],[d.cx+d.r2*Math.sin(d.closeRadians),d.cy-d.r2*Math.cos(d.closeRadians)],[d.cx+d.r1*Math.sin(d.closeRadians),d.cy-d.r1*Math.cos(d.closeRadians)],[d.cx+d.r1*Math.sin(d.startRadians),d.cy-d.r1*Math.cos(d.startRadians)]],f=d.closeRadians-d.startRadians,g=f%(2*Math.PI)>Math.PI?1:0,h=[];h.push("M"+e[0].join()),h.push("A"+[d.r2,d.r2,0,g,1,e[1]].join()),h.push("L"+e[2].join()),h.push("A"+[d.r1,d.r1,0,g,0,e[3]].join()),h.push("z"),a.setAttribute("d",h.join(" "))},pie_events:function(){$(this.scope).on("mouseenter.pizza mouseleave.pizza touchstart.pizza","[data-pie-id] li",function(a){var b=$(this).parent(),c=$("#"+b.attr("data-pie-id")+' path[data-id="s'+$(this).index()+'"]')[0],d=c.nextSibling,e=$(this).parent().data("settings");/start/i.test(a.type)&&$(c).siblings("path").each(function(){this.nodeName&&(Snap(c).animate({transform:"s1 1 "+c.getAttribute("data-cx")+" "+c.getAttribute("data-cy")},e.animation_speed,mina[e.animation_type]),Snap($(this).next()[0]).animate({opacity:0},e.animation_speed))}),/enter|start/i.test(a.type)?(Snap(c).animate({transform:"s1.05 1.05 "+c.getAttribute("data-cx")+" "+c.getAttribute("data-cy")},e.animation_speed,mina[e.animation_type]),e.show_text&&Snap(d).animate({opacity:1},e.animation_speed)):(Snap(c).animate({transform:"s1 1 "+c.getAttribute("data-cx")+" "+c.getAttribute("data-cy")},e.animation_speed,mina[e.animation_type]),Snap(d).animate({opacity:0},e.animation_speed))})}}),function(a){a.fn.textSlider=function(b){function c(){a(".slide-img-"+g).show().animate({paddingTop:"5px",paddingBottom:"50px",opacity:1},f.slideTime),setTimeout(d,f.timeout)}function d(){e=parseInt(g+1),e>=h&&(e=0),a(".slide-img-"+g).animate({paddingTop:"0px",paddingBottom:"0px",opacity:0},f.slideTime,function(){a(this).hide(),a(".slide-img-"+e).show().animate({paddingTop:"0px",paddingBottom:"0px",opacity:1},f.slideTime)}),g=e,setTimeout(d,f.timeout)}var e,f=a.extend({timeout:8e3,slideTime:1e3},b),g=0,h=0;return this.children(".img-slider-item").each(function(){a(this).addClass("slide-img-"+h).css({opacity:0,paddingTop:"0px",paddingBottom:"0px"}),a(this).hide(),h++}),c()}}(jQuery);